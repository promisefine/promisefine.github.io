{"meta":{"title":"Doney","subtitle":"å¦‚é›ªèˆ¬æ˜æ¾ˆçš„åŒçœ¸","description":"ä¸“ç§‘ | è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯ | ç½‘ç»œå®‰å…¨","author":"Doney","url":"https://promisefine.github.io","root":"/"},"pages":[{"title":"","date":"2021-07-12T00:45:59.560Z","updated":"2021-07-12T00:45:59.560Z","comments":true,"path":"baidu_verify_xxxxxxx.html","permalink":"https://promisefine.github.io/baidu_verify_xxxxxxx.html","excerpt":"","text":"wvlc3L96QK"},{"title":"404","date":"2019-08-10T08:41:10.000Z","updated":"2021-07-12T00:45:59.354Z","comments":true,"path":"404.html","permalink":"https://promisefine.github.io/404.html","excerpt":"","text":""},{"title":"æ”¾æ¾ä¸€ä¸‹","date":"2019-08-10T08:41:10.000Z","updated":"2021-07-12T00:45:59.389Z","comments":true,"path":"List/index.html","permalink":"https://promisefine.github.io/List/index.html","excerpt":"","text":"å½±éŸ³èµ„æºå…±äº«"},{"title":"","date":"2021-07-12T00:45:59.563Z","updated":"2021-07-12T00:45:59.563Z","comments":true,"path":"google1xxxxxxx0.html","permalink":"https://promisefine.github.io/google1xxxxxxx0.html","excerpt":"","text":"google-site-verification: google110e5e5e14c8dcf0.html"},{"title":"about","date":"2019-10-24T16:00:00.000Z","updated":"2021-07-12T00:45:59.558Z","comments":true,"path":"about/index.html","permalink":"https://promisefine.github.io/about/index.html","excerpt":"","text":""},{"title":"categories","date":"2019-10-24T16:00:00.000Z","updated":"2021-07-12T00:45:59.560Z","comments":true,"path":"categories/index.html","permalink":"https://promisefine.github.io/categories/index.html","excerpt":"","text":""},{"title":"archives","date":"2019-10-24T16:00:00.000Z","updated":"2021-07-12T00:45:59.559Z","comments":true,"path":"archives/index.html","permalink":"https://promisefine.github.io/archives/index.html","excerpt":"","text":""},{"title":"ç»Ÿè®¡","date":"2020-10-31T02:11:28.000Z","updated":"2021-07-12T00:45:59.561Z","comments":true,"path":"census/index.html","permalink":"https://promisefine.github.io/census/index.html","excerpt":"","text":""},{"title":"ç•™è¨€æ¿","date":"2019-10-24T16:00:00.000Z","updated":"2021-07-14T06:09:43.269Z","comments":true,"path":"contact/index.html","permalink":"https://promisefine.github.io/contact/index.html","excerpt":"","text":"ç•…æ‰€æ¬²è¨€ åœ¨è¿™é‡Œå¯ä»¥ç•™ä¸‹ä½ çš„è¶³è¿¹ï¼Œæ¬¢è¿åœ¨ä¸‹æ–¹ç•™è¨€ï¼Œæ¬¢è¿äº¤æ¢å‹é“¾ï¼Œä¸€èµ·äº¤æµå­¦ä¹ ï¼"},{"title":"èµ„æºåˆ†äº«","date":"2019-07-19T08:40:27.000Z","updated":"2021-07-12T00:45:59.564Z","comments":true,"path":"resource/index.html","permalink":"https://promisefine.github.io/resource/index.html","excerpt":"","text":""},{"title":"tags","date":"2019-07-19T08:40:27.000Z","updated":"2021-07-12T00:45:59.566Z","comments":true,"path":"tags/index.html","permalink":"https://promisefine.github.io/tags/index.html","excerpt":"","text":""},{"title":"ç›¸å†Œ","date":"2021-07-12T00:45:59.362Z","updated":"2021-07-12T00:45:59.362Z","comments":true,"path":"List/galleries/index.html","permalink":"https://promisefine.github.io/List/galleries/index.html","excerpt":"","text":""},{"title":"è§†é¢‘","date":"2019-08-10T08:41:10.000Z","updated":"2021-07-12T00:45:59.390Z","comments":true,"path":"List/movies/index.html","permalink":"https://promisefine.github.io/List/movies/index.html","excerpt":"","text":""},{"title":"å¬å¬éŸ³ä¹","date":"2019-07-19T08:40:27.000Z","updated":"2021-07-12T00:45:59.391Z","comments":true,"path":"List/music/index.html","permalink":"https://promisefine.github.io/List/music/index.html","excerpt":"","text":""},{"title":"å¬å¬éŸ³ä¹","date":"2019-07-19T08:40:27.000Z","updated":"2021-07-12T00:45:59.392Z","comments":true,"path":"List/tools/index.html","permalink":"https://promisefine.github.io/List/tools/index.html","excerpt":"","text":""},{"title":"åŠ¨æ¼«äººç‰©","date":"2021-07-12T00:45:59.372Z","updated":"2021-07-12T00:45:59.372Z","comments":true,"path":"List/galleries/åŠ¨æ¼«äººç‰©/index.html","permalink":"https://promisefine.github.io/List/galleries/%E5%8A%A8%E6%BC%AB%E4%BA%BA%E7%89%A9/index.html","excerpt":"","text":""},{"title":"ä¹–å·§å°ç‹—","date":"2021-07-12T00:45:59.362Z","updated":"2021-07-12T00:45:59.362Z","comments":true,"path":"List/galleries/ä¹–å·§å°ç‹—/index.html","permalink":"https://promisefine.github.io/List/galleries/%E4%B9%96%E5%B7%A7%E5%B0%8F%E7%8B%97/index.html","excerpt":"","text":""},{"title":"äºŒæ¬¡å…ƒé£","date":"2021-07-12T00:45:59.362Z","updated":"2021-07-12T00:45:59.362Z","comments":true,"path":"List/galleries/äºŒæ¬¡å…ƒé£/index.html","permalink":"https://promisefine.github.io/List/galleries/%E4%BA%8C%E6%AC%A1%E5%85%83%E9%A3%8E/index.html","excerpt":"","text":""},{"title":"åŠ¨æ¼«æ’ç”»","date":"2021-07-12T00:45:59.372Z","updated":"2021-07-12T00:45:59.372Z","comments":true,"path":"List/galleries/åŠ¨æ¼«æ’ç”»/index.html","permalink":"https://promisefine.github.io/List/galleries/%E5%8A%A8%E6%BC%AB%E6%8F%92%E7%94%BB/index.html","excerpt":"","text":""},{"title":"åŸå¸‚é£å…‰","date":"2021-07-12T00:45:59.379Z","updated":"2021-07-12T00:45:59.379Z","comments":true,"path":"List/galleries/åŸå¸‚é£å…‰/index.html","permalink":"https://promisefine.github.io/List/galleries/%E5%9F%8E%E5%B8%82%E9%A3%8E%E5%85%89/index.html","excerpt":"","text":""},{"title":"åŠ¨æ¼«é£æ™¯","date":"2021-07-12T00:45:59.372Z","updated":"2021-07-12T00:45:59.372Z","comments":true,"path":"List/galleries/åŠ¨æ¼«é£æ™¯/index.html","permalink":"https://promisefine.github.io/List/galleries/%E5%8A%A8%E6%BC%AB%E9%A3%8E%E6%99%AF/index.html","excerpt":"","text":""},{"title":"å‘†èŒçŒ«å’ª","date":"2021-07-12T00:45:59.372Z","updated":"2021-07-12T00:45:59.372Z","comments":true,"path":"List/galleries/å‘†èŒçŒ«å’ª/index.html","permalink":"https://promisefine.github.io/List/galleries/%E5%91%86%E8%90%8C%E7%8C%AB%E5%92%AA/index.html","excerpt":"","text":""},{"title":"æ¸…æ–°èŠ±å‰","date":"2021-07-12T00:45:59.380Z","updated":"2021-07-12T00:45:59.380Z","comments":true,"path":"List/galleries/æ¸…æ–°èŠ±å‰/index.html","permalink":"https://promisefine.github.io/List/galleries/%E6%B8%85%E6%96%B0%E8%8A%B1%E5%8D%89/index.html","excerpt":"","text":""},{"title":"ç‚«é…·è·‘è½¦","date":"2021-07-12T00:45:59.382Z","updated":"2021-07-12T00:45:59.382Z","comments":true,"path":"List/galleries/ç‚«é…·è·‘è½¦/index.html","permalink":"https://promisefine.github.io/List/galleries/%E7%82%AB%E9%85%B7%E8%B7%91%E8%BD%A6/index.html","excerpt":"","text":""},{"title":"ç’€ç’¨æ˜Ÿç©º","date":"2021-07-12T00:45:59.384Z","updated":"2021-07-12T00:45:59.384Z","comments":true,"path":"List/galleries/ç’€ç’¨æ˜Ÿç©º/index.html","permalink":"https://promisefine.github.io/List/galleries/%E7%92%80%E7%92%A8%E6%98%9F%E7%A9%BA/index.html","excerpt":"","text":""},{"title":"ç”œç¾é£Ÿå“","date":"2021-07-12T00:45:59.386Z","updated":"2021-07-12T00:45:59.386Z","comments":true,"path":"List/galleries/ç”œç¾é£Ÿå“/index.html","permalink":"https://promisefine.github.io/List/galleries/%E7%94%9C%E7%BE%8E%E9%A3%9F%E5%93%81/index.html","excerpt":"","text":""},{"title":"è‡ªç„¶é£æ™¯","date":"2021-07-12T00:45:59.387Z","updated":"2021-07-12T00:45:59.387Z","comments":true,"path":"List/galleries/è‡ªç„¶é£æ™¯/index.html","permalink":"https://promisefine.github.io/List/galleries/%E8%87%AA%E7%84%B6%E9%A3%8E%E6%99%AF/index.html","excerpt":"","text":""}],"posts":[{"title":"è¶£çœ‹é¡¹ç›®","slug":"Interesting","date":"2021-07-17T01:57:42.000Z","updated":"2021-07-17T02:00:34.539Z","comments":true,"path":"posts/7f74a398.html","link":"","permalink":"https://promisefine.github.io/posts/7f74a398.html","excerpt":"","text":"","categories":[],"tags":[{"name":"Vite","slug":"Vite","permalink":"https://promisefine.github.io/tags/Vite/"},{"name":"Koa","slug":"Koa","permalink":"https://promisefine.github.io/tags/Koa/"}],"author":"Doney"},{"title":"vueé¡¹ç›®æ¶æ„æ­å»º-4","slug":"vueé¡¹ç›®æ¶æ„æ­å»º-4","date":"2020-05-23T13:15:24.000Z","updated":"2021-07-16T07:16:32.664Z","comments":true,"path":"posts/4260555f.html","link":"","permalink":"https://promisefine.github.io/posts/4260555f.html","excerpt":"","text":"vueé¡¹ç›®æ¶æ„æ­å»º-4å‰è¨€åšè¿™ä¸ª vueAdmin-template çš„ä¸»è¦åŸå› æ˜¯: vue-element-admin è¿™ä¸ªé¡¹ç›®çš„åˆè¡·æ˜¯ä¸€ä¸ª vue çš„ç®¡ç†åå°é›†æˆæ–¹æ¡ˆï¼ŒæŠŠå¹³æ—¶ç”¨åˆ°çš„ä¸€äº›ç»„ä»¶æˆ–è€…ç»éªŒåˆ†äº«ç»™å¤§å®¶ï¼ŒåŒæ—¶å®ƒä¹Ÿåœ¨ä¸æ–­çš„ç»´æŠ¤å’Œæ‹“å±•ä¸­ï¼Œæ¯”å¦‚æœ€è¿‘é‡æ„äº†dashboardï¼ŒåŠ å…¥äº†å…¨å±åŠŸèƒ½ï¼Œæ–°å¢äº† tabs-view ç­‰ç­‰ã€‚æ‰€ä»¥é¡¹ç›®ä¼šè¶Šæ¥è¶Šå¤æ‚ï¼Œä¸å¤ªé€‚åˆå¾ˆå¤šåˆç”¨ vue çš„åŒå­¦æ¥æ„å»ºåå°ã€‚æ‰€ä»¥å°±å†™äº†è¿™ä¸ªåŸºç¡€æ¨¡æ¿ï¼Œå®ƒæ²¡æœ‰å¤æ‚çš„åŠŸèƒ½ï¼ŒåªåŒ…å«äº†ä¸€ä¸ªåå°éœ€è¦æœ€åŸºç¡€çš„ä¸œè¥¿ã€‚ vueAdmin-template ä¸»è¦æ˜¯åŸºäºvue-cli webpackæ¨¡æ¿ä¸ºåŸºç¡€å¼€å‘çš„ï¼Œå¼•å…¥äº†å¦‚ä¸‹dependencies: element-ui é¥¿äº†ä¹ˆå‡ºå“çš„vue2.0 pc UIæ¡†æ¶ axios ä¸€ä¸ªç°åœ¨ä¸»æµå¹¶ä¸”å¾ˆå¥½ç”¨çš„è¯·æ±‚åº“ æ”¯æŒPromise js-cookie ä¸€ä¸ªè½»é‡çš„JavaScriptåº“æ¥å¤„ç†cookie normalize.css æ ¼å¼åŒ–css nprogress è½»é‡çš„å…¨å±€è¿›åº¦æ¡æ§åˆ¶ vuex å®˜æ–¹çŠ¶æ€ç®¡ç† vue-router å®˜æ–¹è·¯ç”± è¯¥é¡¹ç›®åªåšäº†ä¸€ä¸ªç®¡ç†åå°éœ€è¦æç®€çš„åŠŸèƒ½ï¼Œå°è£…äº†axiosè¯·æ±‚ï¼Œæ”¯æŒæ— é™å±‚çº§è·¯ç”±ï¼ŒåŠ¨æ€æƒé™å’ŒåŠ¨æ€ä¾§è¾¹æ ã€‚ å¦‚æœéœ€è¦æ›´å¤šå¤æ‚çš„åŠŸèƒ½å¯ä»¥å‚è€ƒ vue-element-adminï¼Œè‹¥è¿˜æœ‰ä¸è¶³ï¼Œæ¬¢è¿æissueæˆ–è€…prã€‚ä¸‹æ–‡ä¼šç®€å•è¯´ä¸€ä¸‹ç”¨è¯¥æ¨¡æ¿éœ€è¦æ³¨æ„çš„åœ°æ–¹ã€‚ è·¯ç”±æ‡’åŠ è½½è·¯ç”±æ‡’åŠ è½½åº”è¯¥æ˜¯å†™å¤§ä¸€ç‚¹çš„é¡¹ç›®éƒ½ä¼šç”¨çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œåªæœ‰åœ¨ä½¿ç”¨è¿™ä¸ªcomponentçš„æ—¶å€™æ‰ä¼šåŠ è½½è¿™ä¸ªç›¸åº”çš„ç»„ä»¶ï¼Œè¿™æ ·å†™å¤§å¤§å‡å°‘äº†åˆå§‹é¡µé¢ js çš„å¤§å°å¹¶ä¸”èƒ½æ›´å¥½çš„åˆ©ç”¨æ¸¸è§ˆå™¨çš„ç¼“å­˜ã€‚ const Foo = resolve =&gt; require(['./Foo.vue'], resolve) //æˆ–è€… const Foo = () =&gt; import('./Foo'); åœ¨æ‡’åŠ è½½é¡µé¢ä¸å¤šçš„æƒ…å†µä¸‹ä¸€åˆ‡æ˜¯é‚£ä¹ˆçš„ç¾å¥½ï¼Œä½†æˆ‘å¸åå°ä¸šåŠ¡åœ¨ä¸æ–­åœ°è¿­ä»£ï¼Œç°åœ¨é¡¹ç›®è¿‘ç™¾ä¸ªè·¯ç”±ï¼Œè¿™æ—¶å€™ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½åœ¨å¼€å‘æ¨¡å¼ä¸‹å°±æ˜¯ä¸€ä»¶ç—›è‹¦çš„äº‹æƒ…äº†ï¼Œéšæ‰‹æ”¹ä¸€è¡Œä»£ç çƒ­æ›´æ–°éƒ½æ˜¯è¦6000ms+çš„ï¼Œè¿™æ€ä¹ˆèƒ½å¿ã€‚æ¥¼ä¸»æ•´æ•´èŠ±äº†ä¸€å¤©å¤šçš„æ—¶é—´æ‰¾åŸå› ï¼Œèƒ½webpackä¼˜åŒ–çš„æ–¹æ³•éƒ½ç”¨äº†,ä»€ä¹ˆ dll, HappyPack ç­‰æ–¹æ³•éƒ½æ˜¯è¿‡äº†ï¼Œä½†æå‡çš„æ•ˆæœéƒ½ä¸æ˜¯å¾ˆæ˜æ˜¾ï¼Œæ­£å¥½é‚£æ®µæ—¶é—´å‡ºäº† webpack3 æ¥¼ä¸»ä¹Ÿå‡çº§äº†ï¼Œç¼–è¯‘é€Ÿåº¦ä¹Ÿå¾—åˆ°äº†å¾ˆå¤§å¹…åº¦çš„æå‡ï¼Œä¸è¿‡ä¹Ÿè¦2000ms+ã€‚åæ¥ç»è¿‡å¤§ç¥ @jzlxiaohei çš„æŒ‡ç‚¹å‘ç°åŸæ¥æ˜¯è·¯ç”±æ‡’åŠ è½½æå¾—é¬¼ï¼Œæ¥¼ä¸»çŒœæµ‹å¯èƒ½æ˜¯å¼‚æ­¥åŠ è½½å¯¼è‡´ webpack æ¯æ¬¡çš„ cache å¤±æ•ˆäº†ï¼Œæ‰€ä»¥æ¯æ¬¡çš„rebuild æ‰ä¼šè¿™ä¹ˆçš„æ…¢ã€‚æ‰¾åˆ°äº†åŸå› æˆ‘ä»¬å°±å¯ä»¥å¯¹ç—‡ä¸‹è¯äº†ï¼Œæˆ‘ä»¬å°±è‡ªå·±å°è£…äº†ä¸€ä¸ª_import()çš„æ–¹æ³•ï¼Œåªæœ‰åœ¨æ­£å¼ç¯å¢ƒä¸‹æ‰ä½¿ç”¨æ‡’åŠ è½½ã€‚è¿™æ ·è§£å†³äº†å›°æ‰°å¤šäº‹çš„rebuildæ…¢é—®é¢˜ã€‚ä»£ç  const _import = require('./_import_' + process.env.NODE_ENV); const Foo = _import('Foo'); æ•´æ•´æ¯”åŸæ¥6000mså¿«äº†åå¤šå€ï¼Œæˆ‘ç»ˆäºåˆèƒ½æ„‰å¿«çš„å¼€å‘äº†ã€‚ æƒé™ æ§åˆ¶åœ¨æ‰‹æ‘¸æ‰‹ï¼Œå¸¦ä½ ç”¨vueæ’¸åå° ç³»åˆ—äºŒ(ç™»å½•æƒé™ç¯‡)è¿™ç« ä¸­å…¶å®å·²ç»è¯¦ç»†ä»‹ç»è¿‡äº†ã€‚è¯¥é¡¹ç›®ä¸­æƒé™çš„å®ç°æ–¹å¼æ˜¯ï¼šé€šè¿‡è·å–å½“å‰ç”¨æˆ·çš„æƒé™å»æ¯”å¯¹è·¯ç”±è¡¨ï¼Œç”Ÿæˆå½“å‰ç”¨æˆ·å…·çš„æƒé™å¯è®¿é—®çš„è·¯ç”±è¡¨ï¼Œé€šè¿‡router.addRoutesåŠ¨æ€æŒ‚è½½åˆ°routerä¸Šã€‚ ä½†å…¶å®å¾ˆå¤šå…¬å¸çš„ä¸šåŠ¡é€»è¾‘å¯èƒ½ä¸æ˜¯è¿™æ ·çš„ï¼Œä¸¾ä¸€ä¸ªä¾‹å­æ¥è¯´ï¼Œå¾ˆå¤šå…¬å¸çš„éœ€æ±‚æ˜¯æ¯ä¸ªé¡µé¢çš„æƒé™æ˜¯åŠ¨æ€é…ç½®çš„ï¼Œä¸åƒæœ¬é¡¹ç›®ä¸­æ˜¯å†™æ­»é¢„è®¾çš„ã€‚ä½†å…¶å®åŸç†æ˜¯ç›¸åŒçš„ã€‚å¦‚è¿™ä¸ªä¾‹å­ï¼Œä½ å¯ä»¥åœ¨åå°é€šè¿‡ä¸€ä¸ªtreeæ§ä»¶æˆ–è€…å…¶å®ƒå±•ç°å½¢å¼ç»™æ¯ä¸€ä¸ªé¡µé¢åŠ¨æ€é…ç½®æƒé™ï¼Œä¹‹åå°†è¿™ä»½è·¯ç”±è¡¨å­˜å‚¨åˆ°åç«¯ã€‚å½“ç”¨æˆ·ç™»å½•åæ ¹æ®roleï¼Œåç«¯è¿”å›ä¸€ä¸ªç›¸åº”çš„è·¯ç”±è¡¨æˆ–è€…å‰ç«¯å»è¯·æ±‚ä¹‹å‰å­˜å‚¨çš„è·¯ç”±è¡¨åŠ¨æ€ç”Ÿæˆå¯è®¿é—®é¡µé¢ï¼Œä¹‹åå°±æ˜¯router.addRoutesåŠ¨æ€æŒ‚è½½åˆ°routerä¸Šï¼Œä½ ä¼šå‘ç°åŸæ¥æ˜¯ç›¸åŒçš„ï¼Œä¸‡å˜ä¸ç¦»å…¶å®—ã€‚ å¯¼èˆªä¾§è¾¹æ :æœ¬é¡¹ç›®é‡Œçš„ä¾§è¾¹æ æ˜¯æ ¹æ® router.js é…ç½®çš„è·¯ç”±å¹¶ä¸”æ ¹æ®æƒé™åŠ¨æ€ç”Ÿæˆçš„ï¼Œè¿™æ ·å°±çœå»äº†å†™ä¸€éè·¯ç”±è¿˜è¦å†æ‰‹åŠ¨å†™ä¾§è¾¹æ è¿™ç§éº»çƒ¦äº‹ï¼ŒåŒæ˜¯ä½¿ç”¨äº†é€’å½’ç»„ä»¶ï¼Œè¿™æ ·ä¸ç®¡ä½ è·¯ç”±å¤šå°‘çº§åµŒå¥—ï¼Œéƒ½èƒ½æ„‰å¿«çš„æ˜¾ç¤ºäº†ã€‚æƒé™éªŒè¯é‚£é‡Œä¹Ÿåšäº†é€’å½’çš„å¤„ç†ã€‚ é¢åŒ…å±‘:æœ¬é¡¹ç›®ä¸­ä¹Ÿå°è£…äº†ä¸€ä¸ªé¢åŒ…å±‘å¯¼èˆªï¼Œå®ƒä¹Ÿæ˜¯é€šè¿‡watch $routeåŠ¨æ€ç”Ÿæˆçš„ã€‚ä»£ç  ç”±äºä¾§è¾¹æ å¯¼èˆªå’Œé¢åŒ…å±‘äº¦æˆ–æ˜¯æƒé™ï¼Œä½ ä¼šå‘ç°å…¶å®éƒ½æ˜¯å’Œrouterå¯†åˆ‡ç›¸å…³çš„ï¼Œæ‰€ä»¥åŸºäºvue-routerè·¯ç”±ä¿¡æ¯å¯¹è±¡ä¸Šåšäº†ä¸€ä¸‹å°å°çš„æ‹“å±•ï¼Œè‡ªå®šä¹‰äº†ä¸€äº›å±æ€§ icon : the icon show in the sidebar hidden : if hidden:true will not show in the sidebar redirect : if redirect:noredirect will not redirct in the levelbar noDropdown : if noDropdown:true will not has submenu in the sidebar meta : { role: ['admin'] } will control the page role å¤§å®¶ä¹Ÿå¯ä»¥ç»“åˆè‡ªå·±çš„ä¸šåŠ¡éœ€æ±‚å¢æ”¹è¿™äº›è‡ªå®šä¹‰å±æ€§ã€‚ iconfontelement-uiè‡ªå¸¦çš„å›¾æ ‡ä¸æ˜¯å¾ˆä¸°å¯Œï¼Œä½†ç®¡ç†åå°å›¾æ ‡çš„å®šåˆ¶æ€§åˆå¾ˆå¼ºã€‚è¿™é‡Œåªç»™å¤§å®¶æ¨èä½¿ç”¨é˜¿é‡Œçš„ iconfont ï¼Œç®€å•å¥½ç”¨åˆæ–¹ä¾¿ç®¡ç†ã€‚æœ¬é¡¹ç›®ä¸­å·²ç»åµŒå…¥äº†ä¸€äº› iconfont ä½œä¸ºä¾‹å­ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œæ›¿æ¢ã€‚ è¿™é‡Œæ¥ç®€å•ä»‹ç»ä¸€ä¸‹ iconfont çš„ä½¿ç”¨æ–¹å¼ã€‚é¦–å…ˆæ³¨å†Œå¥½ iconfont è´¦å·ä¹‹åï¼Œå¯ä»¥åœ¨æˆ‘çš„é¡¹ç›®ä¸­ç®¡ç†è‡ªå·±çš„ iconfont ã€‚æˆ‘å¸æ‰€æœ‰çš„é¡¹ç›®éƒ½æ˜¯ç”¨è¿™ä¸ªç®¡ç†çš„ï¼ŒçœŸå¿ƒæ¨èä½¿ç”¨ã€‚ åˆ›å»ºå¥½å›¾æ ‡åº“åå¦‚æœæœ‰æ›´æ–°æ›¿æ¢ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨äº† Symbol çš„æ–¹å¼å¼•å…¥ï¼Œè¿™é‡Œè¿˜æœ‰unicodeï¼Œfont-classçš„å¼•å…¥æ–¹å¼ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªè¡Œç ”ç©¶ã€‚ ä¹‹åæˆ‘ä»¬ç‚¹å‡»ä¸‹è½½ Symbolï¼Œä¼šå‘ç°æœ‰å¦‚ä¸‹è¿™äº›æ–‡ä»¶ï¼Œæˆ‘ä»¬åªè¦å…³å¿ƒiconfont.jså°±å¯ä»¥äº† æˆ‘ä»¬å°†å®ƒæ›¿æ¢é¡¹ç›®ä¸­çš„ iconfont.js å°±å¯ä»¥äº†ã€‚æœ¬é¡¹ç›®ä¸­ä¹Ÿå°è£…äº†ä¸€ä¸ªsvg component æ–¹ä¾¿å¤§å®¶ä½¿ç”¨ã€‚ &lt;icon-svg icon-class=\"å¡«å…¥ä½ éœ€è¦çš„iconfontåå­—å°±èƒ½ä½¿ç”¨äº†\"&gt;&lt;/icon-svg&gt; faviconæ¯ä¸ªé¡¹ç›®éƒ½éœ€è¦æœ‰ä¸€ä¸ªå±äºè‡ªå·±çš„faviconã€‚ å…¶å®å®ç°èµ·æ¥éå¸¸çš„æ–¹ä¾¿ï¼Œæˆ‘ä»¬ä¸»éœ€è¦å€ŸåŠ©html-webpack-plugin //webpack config function resolveApp(relativePath) { return path.resolve(relativePath); } new HtmlWebpackPlugin({ filename: config.build.index, template: 'index.html', inject: true, favicon: resolveApp('favicon.ico') }), ä½ åªè¦å°†æœ¬é¡¹ç›®è·Ÿç›®å½•ä¸‹çš„favicon.icoæ–‡ä»¶æ›¿æ¢ä¸ºä½ æƒ³è¦çš„å›¾æ ‡å³å¯ã€‚ eslintvue cli é»˜è®¤æä¾›äº†standardå’Œairbnb ä¸¤ç§ lint è§„èŒƒï¼Œè¯´çœŸçš„ä¸€ä¸ªjæ£€æŸ¥æ ¡éªŒçš„å¤ªæ¾ä¸€ä¸ªåˆå¤ªç´§ï¼Œè€Œä¸”æ¯ä¸ªå›¢é˜Ÿçš„ lint è§„èŒƒåˆæ˜¯ä¸åŒçš„ï¼Œæ‰€ä»¥æ¥¼ä¸»å¹²è„†åœ¨é¡¹ç›®é‡ŒæŠŠå¤§éƒ¨åˆ†å¸¸ç”¨çš„ lint è§„èŒƒéƒ½åˆ—ä¸¾äº†å‡ºæ¥å¹¶å†™ä¸Šäº†æ³¨é‡Šæ–¹ä¾¿å¤§å®¶ä¿®æ”¹ä»£ç åœ°å€ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥æŠŠè‡ªå·±çš„è§„èŒƒä¸Šä¼ åˆ°npmï¼Œåƒ vue ä¸€æ · vue-eslint-configã€‚é…ç½® eslint å¯¹å¤šäººåä½œçš„é¡¹ç›®æœ‰å¾ˆå¤§çš„å¥½å¤„,åŒæ—¶é…ç½®å¥½lint åœ¨åŠ  ide çš„ lint æ’ä»¶å†™ä»£ç ç®€ç›´è¦èµ·é£ã€‚ç›¸å…³é…ç½®å¯è§ç¬¬ä¸€ç¯‡æ•™ç¨‹ã€‚ postcssç›¸ä¿¡å¤§éƒ¨åˆ† vue çš„é¡¹ç›®éƒ½æ˜¯åŸºäº vue-cli æ¥å¼€å‘çš„ï¼Œä¸è¿‡æ¯•ç«Ÿæ¯ä¸ªäººéœ€æ±‚éƒ½æ˜¯ä¸å¤ªä¸€æ ·çš„ï¼Œéœ€è¦è‡ªå®šä¹‰ä¸€äº›çš„ä¸œè¥¿ã€‚å°±æ¯”å¦‚æ‹¿ postcss æ¥è¯´ vue-cli æœ‰ä¸€ä¸ªå°å‘ï¼Œå®ƒé»˜è®¤ autoprefixer åªä¼šå¯¹é€šè¿‡ vue-loader å¼•å…¥çš„æ ·å¼æœ‰ä½œç”¨ï¼Œæ¢è€Œè¨€ä¹‹ä¹Ÿå°±æ˜¯ .vue æ–‡ä»¶é‡Œé¢çš„ css autoprefixer æ‰ä¼šæ•ˆæœã€‚ç›¸å…³é—®é¢˜issues/544,issues/600ã€‚è§£å†³æ–¹æ¡ˆä¹Ÿå¾ˆç®€å•ç²—æš´ //app.vue &lt;style lang=\"scss\"&gt; @import './styles/index.scss'; // å…¨å±€è‡ªå®šä¹‰çš„cssæ ·å¼ &lt;/style&gt; ä½ åœ¨ .vue æ–‡ä»¶ä¸­å¼•å…¥ä½ è¦çš„æ ·å¼å°±å¯ä»¥äº†ï¼Œæˆ–è€…ä½ å¯ä»¥æ”¹å˜ vue-cliçš„æ–‡ä»¶åœ¨ css-loader å‰é¢åœ¨åŠ ä¸€ä¸ª postcss-loaderï¼Œåœ¨å‰é¢çš„issueåœ°å€ä¸­å·²ç»ç»™å‡ºäº†è§£å†³æ–¹æ¡ˆã€‚ è¿™é‡Œå†æ¥è¯´ä¸€ä¸‹ postcss çš„é…ç½®é—®é¢˜ï¼Œæ–°ç‰ˆçš„vue-cli webpack æ¨¡æ¿ inti ä¹‹åè·Ÿç›®å½•ä¸‹é»˜è®¤æœ‰ä¸€ä¸ª.postcssrc.js ã€‚vue-loader çš„ postcss ä¼šé»˜è®¤è¯»å–è¿™ä¸ªæ–‡ä»¶çš„é‡Œçš„é…ç½®é¡¹ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œç›´æ¥æ”¹é…ç½®æ–‡ä»¶å°±å¯ä»¥äº†ã€‚é…ç½®å’Œpostcssæ˜¯ä¸€æ ·çš„ã€‚ //.postcssrc.js module.exports = { \"plugins\": { // to edit target browsers: use \"browserlist\" field in package.json \"autoprefixer\": {} } } //package.json \"browserslist\": [ \"&gt; 1%\", \"last 2 versions\", \"not ie &lt;= 8\" ] å¦‚ä¸Šä»£ç æ‰€è¿°ï¼Œautoprefixe rå›å»è¯»å– package.json ä¸‹ browserslistçš„é…ç½®æ–‡ä»¶ &gt; 1% å…¼å®¹å…¨çƒä½¿ç”¨ç‡å¤§äº1%çš„æ¸¸è§ˆå™¨ last 2 versions å…¼å®¹æ¯ä¸ªæ¸¸è§ˆå™¨çš„æœ€è¿‘ä¸¤ä¸ªç‰ˆæœ¬ not ie &lt;= 8 ä¸å…¼å®¹ie8åŠä»¥ä¸‹ å…·ä½“å¯è§ browserslist, postcssä¹Ÿè¿˜æœ‰å¾ˆå¤šå¾ˆå¤šå…¶å®ƒçš„åŠŸèƒ½å¤§å®¶å¯ä»¥è‡ªè¡Œå»æŠŠç© babel-polyfillæœ¬é¡¹ç›®æš‚æ—¶æ²¡æœ‰å…¼å®¹æ€§éœ€æ±‚ï¼Œå¦‚æœ‰å…¼å®¹æ€§éœ€æ±‚å¯è‡ªè¡Œä½¿ç”¨babel-polyfillã€‚ åœ¨Node/Browserify/webpackä¸­ä½¿ç”¨ npm install --save babel-polyfill //ä¸‹è½½ä¾èµ– åœ¨å…¥å£æ–‡ä»¶ä¸­å¼•å…¥ import 'babel-polyfill'; // æˆ–è€… require('babel-polyfill');//es6 åœ¨webpack.config.jsä¸­åŠ å…¥babel-polyfillåˆ°ä½ çš„å…¥å£æ•°ç»„ï¼š module.exports = { entry:[\"babel-polyfill\",\"./app/js\"] } å…·ä½“å¯å‚è€ƒ link æˆ–è€…æ›´ç®€å•æš´åŠ› polyfill.io ä½¿ç”¨å®ƒç»™çš„ä¸€ä¸ª cdn åœ°å€ï¼Œå¼•å…¥è¿™æ®µjsä¹‹åå®ƒä¼šè‡ªåŠ¨åˆ¤æ–­æ¸¸è§ˆå™¨ï¼ŒåŠ è½½ç¼ºå°‘çš„é‚£éƒ¨åˆ† polyfillï¼Œä½†å›½å†…é€Ÿåº¦è‚¯èƒ½ä¸è¡Œï¼Œå¤§å®¶å¯ä»¥è‡ªå·±æ­ cdnã€‚ è·¨åŸŸé—®é¢˜æ¥¼ä¸» vue ç¾¤é‡Œçš„å°ä¼™ä¼´ä»¬é—®çš„æœ€å¤šçš„é—®é¢˜è¿˜æ˜¯å…³äºè·¨åŸŸçš„ï¼Œå…¶å®è·¨åŸŸé—®é¢˜çœŸçš„ä¸æ˜¯ä¸€ä¸ªå¾ˆéš¾è§£å†³çš„é—®é¢˜ã€‚è¿™é‡Œæˆ‘æ¥ç®€å•æ€»ç»“ä¸€ä¸‹æˆ‘æ¨èçš„å‡ ç§è·¨åŸŸè§£å†³æ–¹æ¡ˆã€‚ æˆ‘æœ€æ¨èçš„ä¹Ÿæ˜¯æˆ‘å¸å¸¸ç”¨çš„æ–¹å¼å°±æ˜¯**cors**å…¨ç§°ä¸º Cross Origin Resource Sharingï¼ˆè·¨åŸŸèµ„æºå…±äº«ï¼‰ã€‚è¿™ç©æ„å¯¹åº”å‰ç«¯æ¥è¯´å’Œå¹³æ—¶å‘è¯·æ±‚å†™æ³•ä¸Šæ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œå·¥ä½œé‡åŸºæœ¬éƒ½åœ¨åç«¯è¿™é‡Œã€‚æ¯ä¸€æ¬¡è¯·æ±‚æµè§ˆå™¨å¿…é¡»å…ˆä»¥ OPTIONS è¯·æ±‚æ–¹å¼å‘é€ä¸€ä¸ªé¢„è¯·æ±‚ï¼Œä»è€Œè·çŸ¥æœåŠ¡å™¨ç«¯å¯¹è·¨æºè¯·æ±‚æ‰€æ”¯æŒ HTTP æ–¹æ³•ã€‚åœ¨ç¡®è®¤æœåŠ¡å™¨å…è®¸è¯¥è·¨æºè¯·æ±‚çš„æƒ…å†µä¸‹ï¼Œä»¥å®é™…çš„ HTTP è¯·æ±‚æ–¹æ³•å‘é€é‚£ä¸ªçœŸæ­£çš„è¯·æ±‚ã€‚æ¨èçš„åŸå› æ˜¯åªè¦ç¬¬ä¸€æ¬¡é…å¥½äº†ï¼Œä¹‹åä¸ç®¡æœ‰å¤šå°‘æ¥å£å’Œé¡¹ç›®å¤ç”¨å°±å¯ä»¥äº†ï¼Œä¸€åŠ³æ°¸é€¸çš„è§£å†³äº†è·¨åŸŸé—®é¢˜ï¼Œè€Œä¸”ä¸ç®¡æ˜¯å¼€å‘ç¯å¢ƒè¿˜æ˜¯æµ‹è¯•ç¯å¢ƒéƒ½èƒ½æ–¹ä¾¿çš„ä½¿ç”¨ã€‚ ä½†æ€»æœ‰åç«¯è§‰å¾—éº»çƒ¦ä¸æƒ³è¿™ä¹ˆæã€‚é‚£å‰ç«¯ä¹Ÿæ˜¯æœ‰è§£å†³æ–¹æ¡ˆçš„ï¼Œåœ¨ dev å¼€å‘æ¨¡å¼ä¸‹å¯ä»¥ä¸‹ä½¿ç”¨**webpack çš„ proxyä½¿ç”¨ä¹Ÿæ˜¯å¾ˆæ–¹ä¾¿çš„çœ‹ä¸€ä¸‹æ–‡æ¡£å°±ä¼šä½¿ç”¨äº†ï¼Œæ¥¼ä¸»ä¸€äº›ä¸ªäººé¡¹ç›®ä½¿ç”¨çš„è¯¥æ–¹æ³•ã€‚ä½†è¿™ç§æ–¹æ³•åœ¨ç”Ÿæˆç¯å¢ƒæ˜¯ä¸é€‚ç”¨çš„ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­éœ€è¦ä½¿ ç”¨Nginxåå‘ä»£ç†** ä¸ç®¡æ˜¯ proxy å’Œ nginx çš„åŸç†éƒ½æ˜¯ä¸€æ ·çš„é€šè¿‡æ­å»ºä¸€ä¸ªä¸­è½¬æœåŠ¡å™¨æ¥è½¬å‘è¯·æ±‚è§„é¿è·¨åŸŸçš„é—®é¢˜ã€‚ å¼€å‘ç¯å¢ƒ ç”Ÿæˆç¯å¢ƒ cors cors proxy nginx è¿™é‡Œæˆ‘åªæ¨èè¿™ä¸¤ç§æ–¹å¼è·¨åŸŸï¼Œå…¶å®ƒçš„è·¨åŸŸæ–¹å¼éƒ½å¾ˆå¤šï¼Œä½†çœŸå¿ƒä¸»æµçš„ä¹Ÿå°±è¿™ä¸¤ç§æ–¹å¼ã€‚ easy-mockvue-element-admin ç”±äºæ˜¯ä¸€ä¸ªçº¯å‰ç«¯ä¸ªäººé¡¹ç›®,æ‰€ä»¥æ‰€ä»¥çš„æ•°æ®éƒ½æ˜¯ç”¨mockjsç”Ÿæˆçš„,å®ƒçš„åŸç†æ˜¯:æ‹¦æˆªäº†æ‰€æœ‰çš„è¯·æ±‚å¹¶ä»£ç†åˆ°æœ¬åœ°æ¨¡æ‹Ÿæ•°æ®ï¼Œæ‰€ä»¥ network ä¸­æ²¡æœ‰ä»»ä½•çš„è¯·æ±‚å‘å‡ºã€‚ä¸è¿‡è¿™å¹¶ä¸ç¬¦åˆå®é™…ä¸šåŠ¡å¼€å‘ä¸­çš„åœºæ™¯ï¼Œæ‰€ä»¥è¿™ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨äº†å‰ä¸ä¹…åˆšå‡ºçš„ easy-mockï¼Œæ”¯æŒè·¨åŸŸï¼Œmockjs çš„è¯­æ³•ï¼Œæ”¯æŒSwagger è¿™å‡ ç‚¹è¿˜æ˜¯æŒºä¸é”™çš„ã€‚ç›¸å…³æ–‡ç«  baseurlçº¿ä¸Šæˆ–è€…æµ‹è¯•ç¯å¢ƒæ¥å£çš„ base_url ä¸ä¸€æ ·æ˜¯å¾ˆé•¿è§å¾—éœ€æ±‚ï¼Œæˆ–è€…ä½ åœ¨æœ¬åœ°ç”¨äº†å¦‚ easy-mock è¿™ç§æ¨¡æ‹Ÿæ•°æ®åˆ°çº¿ä¸Šç¯å¢ƒä½ æƒ³ç”¨è‡ªå·±å…¬å¸ç”Ÿäº§ç¯å¢ƒçš„æ•°æ®ï¼Œè¿™äº›éœ€æ±‚éƒ½å¯ä»¥ç®€å•çš„é€šè¿‡ç”¨ baseurl æ¥è§£å†³ã€‚é¦–å…ˆæˆ‘ä»¬åœ¨config/ä¸‹æœ‰dev.env.jså’Œprod.env.jsè¿™ä¸¤ä¸ªé…ç½®æ–‡ä»¶ã€‚ç”¨å®ƒæ¥åŒºåˆ†ä¸åŒç¯å¢ƒçš„é…ç½®å‚æ•°ã€‚ //dev.env.js module.exports = { NODE_ENV: '\"development\"', BASE_API: '\"https://easy-mock.com/mock/5950a2419adc231f356a6636/vue-admin\"', } //prod.env.js module.exports = { NODE_ENV: '\"production\"', BASE_API: '\"https://prod-xxx\"', } åŒæ—¶æœ¬é¡¹ç›®å°è£…äº†axiosæ‹¦æˆªå™¨ï¼Œæ–¹ä¾¿å¤§å®¶ä½¿ç”¨ï¼Œå¤§å®¶ä¹Ÿå¯æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡è‡ªè¡Œä¿®æ”¹ã€‚ import axios from 'axios'; import { Message } from 'element-ui'; import store from '../store'; // åˆ›å»ºaxioså®ä¾‹ const service = axios.create({ baseURL: process.env.BASE_API, // apiçš„base_url è¯»å–configé…ç½®æ–‡ä»¶ timeout: 5000 // è¯·æ±‚è¶…æ—¶æ—¶é—´ }); // requestæ‹¦æˆªå™¨ service.interceptors.request.use(config =&gt; { if (store.getters.token) { config.headers['X-Token'] = store.getters.token; // è®©æ¯ä¸ªè¯·æ±‚æºå¸¦è‡ªå®šä¹‰token è¯·æ ¹æ®å®é™…æƒ…å†µè‡ªè¡Œä¿®æ”¹ } return config; }, error =&gt; { // Do something with request error console.log(error); // for debug Promise.reject(error); }) // responeæ‹¦æˆªå™¨ service.interceptors.response.use( response =&gt; { /** * codeä¸ºé20000æ˜¯æŠ›é”™ å¯ç»“åˆè‡ªå·±ä¸šåŠ¡è¿›è¡Œä¿®æ”¹ */ const res = response.data; if (res.code !== 20000) { Message({ message: res.data, type: 'error', duration: 5 * 1000 }); // 50008:éæ³•çš„token; 50012:å…¶ä»–å®¢æˆ·ç«¯ç™»å½•äº†; 50014:Token è¿‡æœŸäº†; if (res.code === 50008 || res.code === 50012 || res.code === 50014) { MessageBox.confirm('ä½ å·²è¢«ç™»å‡ºï¼Œå¯ä»¥å–æ¶ˆç»§ç»­ç•™åœ¨è¯¥é¡µé¢ï¼Œæˆ–è€…é‡æ–°ç™»å½•', 'ç¡®å®šç™»å‡º', { confirmButtonText: 'é‡æ–°ç™»å½•', cancelButtonText: 'å–æ¶ˆ', type: 'warning' }).then(() =&gt; { store.dispatch('FedLogOut').then(() =&gt; { location.reload();// ä¸ºäº†é‡æ–°å®ä¾‹åŒ–vue-routerå¯¹è±¡ é¿å…bug }); }) } return Promise.reject(error); } else { return response.data; } }, error =&gt; { console.log('err' + error);// for debug Message({ message: error.message, type: 'error', duration: 5 * 1000 }); return Promise.reject(error); } ) export default service; ç”±äºaxiosæ¯ä¸€ä¸ªéƒ½æ˜¯ä¸€ä¸ªå®ä¾‹ï¼Œä½ çš„è¯·æ±‚éƒ½æ˜¯åŸºäºè¿™ä¸ªå®ä¾‹æ¥çš„ï¼Œæ‰€ä»¥æ‰€ä»¥é…ç½®çš„å‚æ•°å±æ€§éƒ½ç»§æ‰¿äº†ä¸‹æ¥. //api.xxx.js import fetch from '@/utils/fetch'; export function getInfo(token) { return fetch({ url: '/user/info', method: 'get', params: { token } }); } //ä½ å¯ä»¥ç›´æ¥è¿™æ ·ä½¿ç”¨ï¼Œä¹‹å‰æ‹¦æˆªå™¨å†™çš„ä¸œè¥¿éƒ½æ˜¯ç”Ÿæ•ˆçš„ï¼Œ //å®ƒè‡ªåŠ¨ä¼šæœ‰ä¸€ä¸ªä½ ä¹‹å‰é…ç½®çš„baseURL, //ä½†ä½ è¯´æˆ‘è¿™ä¸ªè¯·æ±‚baseURLå’Œå…¶å®ƒçš„ä¸åŒ, //è¿™ä¹Ÿæ˜¯å¾ˆæ–¹ä¾¿çš„ï¼Œä½ å¯ä»¥å­—è¯·æ±‚å†…éƒ¨ä¿®æ”¹ï¼Œ //å®ƒä¼šè‡ªåŠ¨è¦†ç›–ä½ åœ¨åˆ›å»ºå®ä¾‹æ—¶å€™å†™çš„å‚æ•°å¦‚ export function getInfo(token) { return fetch({ baseURL: https://api2-xxxx.com url: '/user/info', method: 'get', params: { token } }); } æ€»ç»“è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯ä»‹ç»äº† vueAdmin åšäº†å“ªäº›äº‹æƒ…ï¼Œå¸Œæœ›å¤§å®¶å¦‚æœæœ‰åå°æ–°é¡¹ç›®è¦å¼€å‘ï¼Œå»ºè®®åŸºäº vue-admin-template æ¥å¼€å‘ï¼Œè€Œ vue-element-admin æ›´å¤šçš„æ˜¯ç”¨æ¥å½“åšä¸€ä¸ªé›†æˆæ–¹æ¡ˆï¼Œä½ è¦ä»€ä¹ˆåŠŸèƒ½å°±å»é‡Œé¢æ‰¾æ‹¿æ¥ç”¨ï¼Œå› ä¸ºä¸¤è€…çš„åŸºç¡€æ¶æ„æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥å¤ç”¨æˆæœ¬ä¹Ÿå¾ˆä½ã€‚","categories":[],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://promisefine.github.io/tags/Vue/"}],"author":"Doney"},{"title":"vueé¡¹ç›®æ¶æ„æ­å»º-3","slug":"vueé¡¹ç›®æ¶æ„æ­å»º-3","date":"2020-05-23T11:01:12.000Z","updated":"2021-07-16T07:14:52.217Z","comments":true,"path":"posts/dc04c0fc.html","link":"","permalink":"https://promisefine.github.io/posts/dc04c0fc.html","excerpt":"","text":"vueé¡¹ç›®æ¶æ„æ­å»º-3å‰è¨€åœ¨å‰é¢ä¸¤ç¯‡æ–‡ç« ä¸­å·²ç»æŠŠåŸºç¡€å·¥ä½œç¯å¢ƒæ„å»ºå®Œæˆï¼Œä¹Ÿå·²ç»æŠŠåå°æ ¸å¿ƒçš„ç™»å½•å’Œæƒé™é—®é¢˜å®Œæˆäº†ï¼Œç°åœ¨æ‰‹æ‘¸æ‰‹ï¼Œä¸€èµ·è¿›å…¥å®æ“ã€‚ Elementå»å¹´åæœˆä»½å¼€å§‹ç”¨ vue åšç®¡ç†åå°çš„æ—¶å€™æ¯«ä¸çŠ¹è±«çš„å°±é€‰æ‹©äº† element-uiï¼Œé‚£æ—¶å€™ vue2.0 åˆšå‘å¸ƒä¹Ÿæ²¡å¤šä¹…ï¼Œå¸‚é¢ä¸Šä¹Ÿæ²¡æœ‰å¾ˆå¤šå…¶å®ƒçš„ vue2.0 çš„ ui æ¡†æ¶å¯ä¾›é€‰æ‹©ã€‚è™½ç„¶ element-ui ä¹Ÿæœ‰å¾ˆå¤šçš„ä¸è¶³ï¼Œå‰æœŸçš„bugä¹Ÿä¸å°‘ï¼Œä½†æˆ‘è¿˜æ˜¯é€‰æ‹©äº†å®ƒï¼Œç®€å•è¯´ä¸€ä¸‹æˆ‘é€‰æ‹©element-uiçš„åŸå› å§ï¼š æœ‰å¤§å‚èƒŒä¹¦ : è™½ç„¶æ ¸å¿ƒå¼€å‘åªæœ‰ä¸¤ä¸‰ä¸ªäººï¼Œä½†è‡³å°‘ä¸ç”¨æ‹…å¿ƒå“ªå¤©å°±ä¸ç»´æŠ¤ï¼Œå¸¦ç€å°å§¨å­è·‘è·¯äº† æŒç»­è¿­ä»£ : element-uiå‘ç‰ˆè‡³ä»Šreleaseäº†å››åå¤šä¸ªç‰ˆæœ¬ï¼Œä¹‹å‰å¹³å‡éƒ½æ˜¯ä¸€å‘¨ä¸€ä¸ªå°ç‰ˆæœ¬æ›´æ–°(æ˜¯ä¸æ˜¯ä¸å°å¿ƒæš´éœ²äº†å®ƒbugå¤šçš„é—®é¢˜) ç”Ÿæ€åœˆä¼˜å¼‚ï¼Œç¤¾åŒºæ´»è·ƒ ï¼šå…¶ contributorså·²ç»æœ‰250å¤šäºº(å‰æœŸæˆ‘æœ‰é¥¶æœ‰å…´è‡´çš„è´¡çŒ®è¿‡å‡ ä¸ªprï¼Œå‚ä¸è¿‡ä¸ƒå…«åä¸ªissue)ï¼Œç¤¾åŒºé‡Œä¹Ÿæœ‰å¾ˆå¤šåŸºäºelement-ui çš„æ‹“å±•ç»„ä»¶ï¼Œä¹Ÿæœ‰å¾ˆå¤šç›¸å…³çš„ qq è®¨è®ºç¾¤æˆ–è€… gitterã€‚ ç¤¾åŒºçš„è®¤å¯:ç›®å‰Elementå·²ç»æ˜¯vueç›¸å…³æœ€å¤šstarçš„å¼€æºé¡¹ç›®äº†ï¼Œä½“ç°å‡ºäº†ç¤¾åŒºå¯¹å…¶çš„è®¤å¯ã€‚ è¯´äº†è¿™ä¹ˆå¤šä¼˜ç‚¹ï¼Œä½œä¸ºä¸€ä¸ªèµ„æ·±element-uiç”¨æˆ·è¿˜æ˜¯æœ‰äº›è¦æŠ±æ€¨çš„~å’Œreactè€å¤§å“¥ Ant Design ç›¸æ¯”è¿˜æ˜¯æœ‰ä¸€å®šçš„å·®è·çš„ï¼Œä¸ç®¡æ˜¯ç»„ä»¶çš„ä¸°å¯Œæ€§ï¼Œå‚æ•°çš„å¯é…æ€§è¿˜æ˜¯æ–‡æ¡£çš„å®Œæ•´æ€§ï¼Œäº¦æˆ–æ˜¯UIçš„äº¤äº’å’Œç¾è§‚åº¦ã€‚ä¸è¿‡ ant ä¹Ÿæ˜¯ç»è¿‡äº†è¿‘9kæ¬¡commitçš„ä¸æ–­æ‰“ç£¨ï¼Œæ‰æœ‰äº†ä»Šå¤©ã€‚æˆ‘ä¹Ÿç›¸ä¿¡ element-uiä¹Ÿä¼šè¶Šæ¥è¶Šå¥½çš„ã€‚ è¿™é‡Œè¿˜æœ‰ä¸€äº›å…¶å®ƒçš„æ¡†æ¶(åªè®¨è®ºpcç«¯çš„æ¡†æ¶)å¤§å®¶å¯ä»¥è‡ªè¡Œé€‰æ‹©ï¼š ivew ä¸€å›½äººä¸ªäººå†™çš„æ¡†æ¶ï¼Œç¾è§‚åº¦å’Œäº¤äº’æ€§éƒ½ä¸é”™ï¼Œæœ‰ç§ä»‹äºElementå’ŒAntä¹‹é—´çš„æ„Ÿè§‰ï¼Œä¹‹å‰å’Œelementå›¢é˜Ÿå°å°çš„æ’•äº†ä¸€ä¸‹ï¼Œæœ‰å…´è¶£çš„è‡ªå·±å»å›´è§‚å§ï¼Œæ¡†æ¶è¿˜æ˜¯å¾ˆä¸åšçš„ï¼Œä¸€ä¸ªäººèƒ½åšå‡ºè¿™æ ·ï¼Œä¹Ÿæ˜¯å¾ˆä¸å®¹æ˜“çš„ã€‚ä½œè€…å…¬å¼€ä¿¡ä»¶ vue-admin ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œä»£ç å†™çš„å’Œä¸é”™ï¼Œå®˜æ–¹ä¹Ÿå‡ºäº†ä¸€ä¸ªadminçš„æ¶å­ï¼Œä¹Ÿå¾ˆå€¼å¾—å€Ÿé‰´ vue-material ä¸€ä¸ªmaterial design vueæ¡†æ¶åº“ vuetify åˆæ˜¯ä¸€ä¸ªmaterial design vueæ¡†æ¶åº“ Keen-UI åˆåˆæ˜¯ä¸€ä¸ªmaterial design vueæ¡†æ¶åº“ CoreUI-Free-Bootstrap-Admin-Template å’Œä»¥å‰çš„Bootstrapä¸€æ ·ï¼Œæ­å¥½äº†ä¸€ä¸ªå®Œæ•´çš„æ¶å­ï¼Œå¤§å®¶å¯ä»¥è¿›è¡ŒäºŒæ¬¡æ‹“å±•ï¼Œå®ƒæœ‰vue,react,angularå¤šä¸ªç‰ˆæœ¬ Framework7-Vue ä¸ªäººæ„Ÿè§‰è¿™æ˜¯æœ¬äººä½“éªŒåˆ°ç°åœ¨ç§»åŠ¨ç«¯ä½“éªŒæœ€å¥½çš„æ¡†æ¶ã€‚ä¸è¿‡Framework7-Vueæ„Ÿè§‰è¿˜ä¸æ˜¯å¾ˆå®Œå–„ï¼Œè¿˜éœ€è¦è§‚æœ›ä¸€æ®µæ—¶é—´ã€‚è€Œä¸”å®ƒæœ‰è‡ªå·±çš„è·¯ç”±è§„åˆ™ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨ vue-routerï¼Œè¿™ç‚¹è¿˜æ˜¯å¾ˆä¸æ–¹ä¾¿çš„ã€‚ ç®€å•åˆ—ä¸¾äº†ä¸€äº›ä¸»æµçš„æ¡†æ¶ï¼Œä¸å¾—ä¸æ„Ÿæ…¨ç°åœ¨vueçš„ç”Ÿæ€åœˆçœŸæ˜¯å¤ªç¹è£äº†ï¼Œä¸Šè¿°æ¡†æ¶æ¥¼ä¸»å¹¶æ²¡æœ‰æ·±å…¥ä½¿ç”¨è¿‡ï¼Œä¸å¥½å‘è¡¨å¤ªå¤šå»ºè®®ï¼Œå¤§å®¶è‡ªè¡Œç”„åˆ«é€‚åˆè‡ªå·±ä¸šåŠ¡çš„æ¡†æ¶å§ã€‚ è¿™é‡Œå¼€å§‹æˆ‘ä»¬ä¼šå¼€å§‹ä»‹ç»ä¸€äº›ç»“åˆElementçš„å¼€å‘ç»éªŒã€‚ åŸºäºElementçš„åŠ¨æ€æ¢è‚¤æœ‰äº›äº§å“å°±æ˜¯è¿™ä¹ˆæ®‹å¿ï¼Œèƒ½å®Œæˆéœ€æ±‚å°±ä¸é”™äº†ï¼Œè¿˜è¦è®©æˆ‘ä»¬åšåŠ¨æ€æ¢è‚¤ã€‚Elementå®˜ç½‘ä¸Šä¹Ÿæä¾›äº†è‡ªå®šä¹‰ä¸»é¢˜çš„æ–¹æ¡ˆ åŒæ—¶ä¹Ÿæä¾›äº†ä¸€ä¸ªåœ¨çº¿è‡ªå®šä¹‰ä¸»é¢˜çš„demo æ˜¯ä¸æ˜¯å¾ˆé…·ï¼Œä½œè€…ä¹Ÿè¯´æ˜äº†å®ç°çš„æ–¹æ¡ˆ åœ°å€,å¤§æ¦‚æ€è·¯: å…ˆæŠŠé»˜è®¤ä¸»é¢˜æ–‡ä»¶ä¸­æ¶‰åŠåˆ°é¢œè‰²çš„ CSS å€¼æ›¿æ¢æˆå…³é”®è¯ æ ¹æ®ç”¨æˆ·é€‰æ‹©çš„ä¸»é¢˜è‰²ç”Ÿæˆä¸€ç³»åˆ—å¯¹åº”çš„é¢œè‰²å€¼ æŠŠå…³é”®è¯å†æ¢å›åˆšåˆšç”Ÿæˆçš„ç›¸åº”çš„é¢œè‰²å€¼ ç›´æ¥åœ¨é¡µé¢ä¸ŠåŠ  style æ ‡ç­¾ï¼ŒæŠŠç”Ÿæˆçš„æ ·å¼å¡«è¿›å» æˆ‘çœ‹å®Œè§‰å¾—çœŸçš„è¿˜æ˜¯æœ‰ç‚¹å¤æ‚çš„ã€‚æœ‰æ²¡æœ‰ç®€å•çš„æ–¹æ¡ˆå‘¢ï¼Ÿ è®©æˆ‘ä»¬æ€è€ƒä¸€ä¸‹ï¼Œè®©æˆ‘ä»¬è‡ªå·±å†™åŠ¨æ€æ¢è‚¤è¯¥æ€ä¹ˆå†™å‘¢ï¼Ÿæœ€å¸¸è§çš„æ–¹æ³•å°±æ˜¯å†™ä¸¤å¥—ä¸»é¢˜ï¼Œä¸€å¥—å«day theme ï¼Œä¸€å¥—å«night themeï¼Œnight themeä¸»é¢˜ éƒ½åœ¨ä¸€ä¸ª.night-themeçš„å‘½åç©ºé—´ä¸‹ï¼Œæˆ‘ä»¬åŠ¨æ€çš„åœ¨bodyä¸Šadd .night-theme ï¼Œ remove .night-themeã€‚è¿™å°±æ˜¯æœ€ç®€å•çš„åŠ¨æ€æ¢è‚¤ã€‚æ‰€ä»¥æˆ‘ä»¬ä¹Ÿèƒ½ä¸èƒ½é¡ºç€è¿™ä¸ªæ€è·¯ï¼ŒåŸºäº element-ui å®ç°åŠ¨æ€æ¢è‚¤å‘¢ï¼Ÿ é¦–å…ˆæˆ‘ä»¬ä¸‹è½½å®˜æ–¹é€šè¿‡çš„ Theme generator ,ä¸€ä¸ªä¸“é—¨ç”¨æ¥ç”ŸæˆElementä¸»é¢˜çš„å·¥å…·ã€‚æŒ‰ç…§æ–‡æ¡£ï¼Œæˆ‘ä»¬ç”Ÿæˆäº†éœ€è¦çš„ä¸»é¢˜ã€‚ ä¹‹åå°±æ˜¯æˆ‘ä»¬è¦åšçš„äº‹æƒ…äº†ï¼Œå°†è¿™ä¸ªä¸»é¢˜çš„æ¯ä¸ªå…ƒç´ å¤–é¢åŒ…è£¹ä¸€ä¸ªclass æ¥åšå‘½åç©ºé—´ã€‚ æˆ‘ä»¬è¿™é‡Œç”¨åˆ°äº†gulp-css-wrapè¿™ä¸ªç¥å™¨ï¼Œè½»è½»æ¾æ¾å°±å®Œæˆäº†æˆ‘ä»¬æƒ³è¦çš„ç»“æœ var path = require('path') var gulp = require('gulp') var cleanCSS = require('gulp-clean-css'); var cssWrap = require('gulp-css-wrap'); var customThemeName='.custom-theme' gulp.task('css-wrap', function() { return gulp.src( path.resolve('./theme/index.css')) .pipe(cssWrap({selector:customThemeName})) .pipe(cleanCSS()) .pipe(gulp.dest('dist')); }); gulp.task('move-font', function() { return gulp.src(['./theme/fonts/**']).pipe(gulp.dest('dist/fonts')); }); gulp.task('default',['css-wrap','move-font']); è¿™æ ·å°±å¾—åˆ°äº†ä¸€ä¸ªä»¥.custom-themeä¸ºå‘½åç©ºé—´çš„è‡ªå®šä¹‰ä¸»é¢˜äº†ï¼Œä¹‹åæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å¼•å…¥ä¸»é¢˜ //main.js import 'assets/custom-theme/index.css' æˆ‘ä»¬åœ¨æ¢è‚¤çš„åœ°æ–¹toggleClass(document.body, 'custom-theme')ä¸€ç›´toggle body çš„ classå°±å¯ä»¥äº†ã€‚æˆ‘ä»¬å°±ç®€å•å®ç°äº†åŠ¨æ€æ¢è‚¤æ•ˆæœã€‚ ä¸è¿‡è¿™ç§æ¨¡å¼å®ç°æ¢è‚¤ä¹Ÿæ˜¯æœ‰ä¸€ä¸ªå¼Šç«¯çš„ï¼Œå®ƒç­‰äºæŠŠè¿™ä¸¤ä¸ªä¸»é¢˜éƒ½æ‰“åŒ…åœ¨äº†é¡¹ç›®é‡Œï¼Œå¦‚æœä½ çš„é¡¹ç›®ä¸»é¢˜éœ€è¦ä¸ƒå…«ç§ï¼Œè¿™ç§æ¨¡å¼å°±ä¸é€‚åˆäº†ã€‚æˆ‘ä»¬å°±éœ€è¦åŠ¨æ€çš„åŠ è½½cssï¼Œä¸‹é¢å°±æ˜¯æœ€ç®€å•çš„åŠ¨æ€æ·»åŠ cssçš„ä¾‹å­ï¼Œå½“ç„¶ä½ å¯ä»¥å°è£…ä¸€ä¸‹ï¼Œå¢åŠ æˆåŠŸæˆ–è€…å¤±è´¥å›è°ƒï¼Œåˆ¤æ–­æ˜¯å¦åŠ è½½è¿‡æ”¹èµ„æºç­‰ç­‰å°±ä¸å±•å¼€äº†ã€‚ var head = document.getElementsByTagName('HEAD').item(0); var style = document.createElement('link'); style.href = 'style.css'; style.rel = 'stylesheet'; style.type = 'text/css'; head.appendChild(style); æ›´æ–°(2017.12) element-ui å®˜æ–¹æ›´æ–°äº†2.0ç‰ˆæœ¬ï¼ŒåŒæ—¶ä¹Ÿæä¾›äº†ä¸€ä¸ªæ–°çš„æ¢è‚¤æ€è·¯ã€‚ æ–‡æ¡£ ä¾§è¾¹æ è¿™é‡Œåˆæœ‰è°ˆä¸€ä¸‹å¯¼èˆªæ çš„é—®é¢˜ï¼Œæœ¬é¡¹ç›®é‡Œçš„ä¾§è¾¹æ æ˜¯æ ¹æ® router.js é…ç½®çš„è·¯ç”±å¹¶ä¸”æ ¹æ®æƒé™åŠ¨æ€ç”Ÿæˆçš„ï¼Œè¿™æ ·å°±çœå»äº†å†™ä¸€éè·¯ç”±è¿˜è¦æ‰‹åŠ¨å†å†™ä¸€æ¬¡ä¾§è¾¹æ è¿™ç§éº»çƒ¦äº‹ï¼Œä½†ä¹Ÿé‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œè·¯ç”±å¯èƒ½ä¼šæœ‰å¤šå±‚åµŒå¥—ï¼Œå¾ˆå¤šäººåé¦ˆè‡ªå·±çš„ä¾§è¾¹æ ä¼šæœ‰ä¸‰çº§ï¼Œç”šè‡³è¿˜æœ‰äº”çº§çš„ã€‚æ‰€ä»¥é‡æ„äº†ä¸€ä¸‹ä¾§è¾¹æ ï¼Œä½¿ç”¨äº†é€’å½’ç»„ä»¶ï¼Œè¿™æ ·ä¸ç®¡ä½ å¤šå°‘çº§ï¼Œéƒ½èƒ½æ„‰å¿«çš„æ˜¾ç¤ºäº†ã€‚ä»£ç  ä¾§è¾¹æ é«˜äº®é—®é¢˜: å¾ˆå¤šäººåœ¨ç¾¤é‡Œé—®ä¸ºä»€ä¹ˆè‡ªå·±çš„ä¾§è¾¹æ ä¸èƒ½è·Ÿç€è‡ªå·±çš„è·¯ç”±é«˜äº®ï¼Œå…¶å®å¾ˆç®€å•ï¼Œelement-uiå®˜æ–¹å·²ç»ç»™äº†default-activeæ‰€ä»¥æˆ‘ä»¬åªè¦ :default-active=\"$route.path\" å°†default-activeä¸€ç›´æŒ‡å‘å½“å‰è·¯ç”±å°±å¯ä»¥äº†ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ã€‚ ç‚¹å‡»ä¾§è¾¹æ  åˆ·æ–°å½“å‰è·¯ç”± åœ¨ç”¨ spa(å•é¡µé¢å¼€å‘) è¿™ç§å¼€å‘æ¨¡å¼ä¹‹å‰ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯å¤šé¡µé¢åå°ï¼Œç”¨æˆ·æ¯æ¬¡ç‚¹å‡»ä¾§è¾¹æ éƒ½ä¼šé‡æ–°è¯·æ±‚è¿™ä¸ªé¡µé¢ï¼Œç”¨æˆ·æ¸æ¸å…»æˆäº†ç‚¹å‡»ä¾§è¾¹æ å½“å‰è·¯ç”±æ¥åˆ·æ–°é¡µé¢çš„ä¹ æƒ¯ã€‚ä½†ç°åœ¨ spa å°±ä¸ä¸€æ ·äº†ï¼Œç”¨æˆ·ç‚¹å‡»å½“å‰é«˜äº®çš„è·¯ç”±å¹¶ä¸ä¼šåˆ·æ–°viewï¼Œå› ä¸ºvue-routerä¼šæ‹¦æˆªä½ çš„è·¯ç”±ï¼Œå®ƒåˆ¤æ–­ä½ çš„urlå¹¶æ²¡æœ‰ä»»ä½•å˜åŒ–ï¼Œæ‰€ä»¥å®ƒä¸ä¼šè§¦å‘ä»»ä½•é’©å­æˆ–è€…æ˜¯viewçš„å˜åŒ–ã€‚issueåœ°å€ï¼Œç¤¾åŒºä¹Ÿå¯¹è¯¥é—®é¢˜å±•å¼€äº†æ¿€çƒˆè®¨è®ºã€‚ å°¤å¤§æœ¬æ¥ä¹Ÿè¯´è¦å¢åŠ ä¸€ä¸ªæ–¹æ³•æ¥å¼ºåˆ·viewï¼Œä½†åæ¥ä»–åˆæ”¹å˜äº†å¿ƒæ„/(ã„’oã„’)/~~ã€‚ä½†éœ€è¦å°±æ‘†åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿä»–è¯´äº†ä¸æ”¹å˜current URL å°±ä¸ä¼šè§¦å‘ä»»ä½•ä¸œè¥¿ï¼Œé‚£æˆ‘å¯ä¸å¯ä»¥å¼ºè¡Œè§¦å‘ä¸œè¥¿ä½ ï¼Ÿä¸Šæœ‰æ”¿ç­–ï¼Œ ä¸‹æœ‰å¯¹ç­–æˆ‘ä»¬å˜ç€èŠ±æ¥hackã€‚æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œé€šè¿‡ä¸æ–­æ”¹å˜urlçš„queryæ¥è§¦å‘viewçš„å˜åŒ–ã€‚æˆ‘ä»¬ç›‘å¬ä¾§è¾¹æ æ¯ä¸ªlink çš„ clickäº‹ä»¶ï¼Œæ¯æ¬¡ç‚¹å‡»éƒ½ç»™router push ä¸€ä¸ªä¸ä¸€æ ·çš„query æ¥ç¡®ä¿ä¼šé‡æ–°åˆ·æ–°viewã€‚ clickLink(path) { this.$router.push({ path, query: { t: +new Date() //ä¿è¯æ¯æ¬¡ç‚¹å‡»è·¯ç”±çš„queryé¡¹éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œç¡®ä¿ä¼šé‡æ–°åˆ·æ–°view } }) } ä½†è¿™ä¹Ÿæœ‰ä¸€ä¸ªå¼Šç«¯å°±æ˜¯ url åé¢æœ‰ä¸€ä¸ªå¾ˆéš¾çœ‹çš„ query åç¼€å¦‚ xxx.com/article/list?t=1496832345025ï¼Œä½†æˆ‘å¸ç”¨æˆ·ä»¬è¡¨ç¤ºèƒ½æ¥å—ã€‚ã€‚ã€‚åªèƒ½æš‚æ—¶è¿™æ ·hackäº†ï¼Œä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Œå­¦ä¹ å­¦ä¹ ã€‚ Tableç»è¿‡å¥½å‡ ä¸ªç‰ˆæœ¬çš„è¿­ä»£ï¼Œelement-ui çš„tableç»„ä»¶å·²ç»èƒ½æ»¡è¶³å¤§éƒ¨åˆ†ä¸šåŠ¡éœ€æ±‚äº†ã€‚ä¸è¿‡rowSpan colSpanè¡¨æ ¼è¡Œ/åˆ—åˆå¹¶ç°åœ¨å¹¶ä¸æ˜¯æ”¯æŒ(element-ui2.0ç‰ˆæœ¬ä¹‹åå¼€å§‹æ”¯æŒ)ã€‚å®˜æ–¹å¯¹æ­¤åŠŸèƒ½çš„æ›´æ–°æƒ…å†µå¯ä»¥å…³æ³¨è¿™ä¸ªissueã€‚ è¿™é‡Œæˆ‘ç€é‡è®²ä¸€ä¸‹tableè¡¨æ ¼å‡ ä¸ªå¸¸ç”¨çš„ä¸šåŠ¡å½¢æ€ã€‚ Table æ‹–æ‹½æ’åºè¿™é‡Œä¸»è¦æ˜¯åŸºäºSortable import Sortable from 'sortablejs' let el = document.querySelectorAll('.el-table__body-wrapper &gt; table &gt; tbody')[0] let sortable = Sortable.create(el) åœ¨table mountedä¹‹åç”³æ˜Sortable.create(el) tableçš„æ¯è¡Œtrå°±å¯ä»¥éšæ„æ‹–æ‹½äº†ï¼Œéº»çƒ¦çš„ç›®å‰æˆ‘ä»¬çš„æ’åºéƒ½æ˜¯åŸºäºdomçš„ï¼Œæˆ‘ä»¬çš„æ•°æ®å±‚listå¹¶æ²¡æœ‰éšä¹‹æ”¹å˜ã€‚æ‰€ä»¥æˆ‘ä»¬å°±è¦æ‰‹åŠ¨çš„æ¥ç®¡ç†æˆ‘ä»¬çš„åˆ—è¡¨ã€‚ this.sortable = Sortable.create(el, { onEnd: evt =&gt; { //ç›‘å¬endäº‹ä»¶ æ‰‹åŠ¨ç»´æŠ¤åˆ—è¡¨ const tempIndex = this.newList.splice(evt.oldIndex, 1)[0]; this.newList.splice(evt.newIndex, 0, tempIndex); } }); è¿™æ ·æˆ‘ä»¬å°±ç®€å•çš„å®Œæˆäº† table æ‹–æ‹½æ’åºã€‚è¿™é‡Œå¦‚æœä¸æ˜¯åŸºäº dom çš„æ’åºæ¨èä½¿ç”¨Vue.Draggableã€‚å®Œæ•´ä»£ç  Table å†…è”ç¼–è¾‘tableå†…è”ç¼–è¾‘ä¹Ÿæ˜¯ä¸€ä¸ªå¸¸è§çš„éœ€æ±‚ã€‚ å…¶å®ä¹Ÿå¾ˆç®€å•ï¼Œå½“æˆ‘ä»¬æ‹¿åˆ° list æ•°æ®ä¹‹åå…ˆæ´—ä¸€ä¸‹æ•°æ®ï¼Œæ¯ä¸€æ¡æ•°æ®é‡Œé¢æ’å…¥ä¸€ä¸ªedit[ true or false ]åˆ¤æ–­ç¬¦ï¼Œæ¥è¡¨ç¤ºå½“å‰è¡Œæ˜¯å¦å¤„äºç¼–è¾‘çŠ¶æ€ã€‚ä¹‹åå°±æ˜¯é€šè¿‡v-showåŠ¨æ€åˆ‡æ¢ä¸åŒçš„ç›¸åº”viewå°±å¯ä»¥äº†ã€‚å®Œæ•´ä»£ç  &lt;el-table-column min-width=\"300px\" label=\"æ ‡é¢˜\"&gt; &lt;template scope=\"scope\"&gt; &lt;el-input v-show=\"scope.row.edit\" size=\"small\" v-model=\"scope.row.title\"&gt;&lt;/el-input&gt; &lt;span v-show=\"!scope.row.edit\"&gt;{{ scope.row.title }}&lt;/span&gt; &lt;/template&gt; &lt;/el-table-column&gt; &lt;el-table-column align=\"center\" label=\"ç¼–è¾‘\" width=\"120\"&gt; &lt;template scope=\"scope\"&gt; &lt;el-button v-show='!scope.row.edit' type=\"primary\" @click='scope.row.edit=true' size=\"small\" icon=\"edit\"&gt;ç¼–è¾‘&lt;/el-button&gt; &lt;el-button v-show='scope.row.edit' type=\"success\" @click='scope.row.edit=false' size=\"small\" icon=\"check\"&gt;å®Œæˆ&lt;/el-button&gt; &lt;/template&gt; &lt;/el-table-column&gt; Table å¸¸è§å‘é€šè¿‡dialogæ¥ç¼–è¾‘ï¼Œæ–°å»ºï¼Œåˆ é™¤tableçš„å…ƒç´ è¿™ç§ä¸šåŠ¡åœºæ™¯ç›¸å¯¹äºå‰é¢è¯´çš„ä¸¤ç§æ›´åŠ çš„å¸¸è§ã€‚è€Œä¸”ä¹Ÿæœ‰ä¸å°‘çš„å°å‘ã€‚ é¦–å…ˆæˆ‘ä»¬è¦æ˜ç¡®ä¸€ä¸ªç‚¹ vue æ˜¯ä¸€ä¸ªMVVMæ¡†æ¶ï¼Œæˆ‘ä»¬ä¼ ç»Ÿå†™ä»£ç æ˜¯å‘½ä»¤å¼ç¼–ç¨‹ï¼Œæ‹¿åˆ°tableè¿™ä¸ªdomä¹‹åå°±æ˜¯å‘½ä»¤å¼å¯¹domå¢åˆ æ”¹ã€‚è€Œæˆ‘ä»¬ç°åœ¨ç”¨å£°æ˜å¼ç¼–ç¨‹ï¼Œåªç”¨å…³æ³¨dataçš„å˜åŒ–å°±å¥½äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œçš„å¢åˆ æ”¹éƒ½æ˜¯åŸºäºlistè¿™ä¸ªæ•°ç»„æ¥çš„ã€‚è¿™é‡Œæˆ‘ä»¬è¿˜è¦æ˜ç¡®ä¸€ç‚¹vue åˆ—è¡¨æ¸²æŸ“æ³¨æ„äº‹é¡¹ ç”±äº JavaScript çš„é™åˆ¶ï¼Œ Vue ä¸èƒ½æ£€æµ‹ä»¥ä¸‹å˜åŠ¨çš„æ•°ç»„ï¼š * å½“ä½ åˆ©ç”¨ç´¢å¼•ç›´æ¥è®¾ç½®ä¸€ä¸ªé¡¹æ—¶ï¼Œä¾‹å¦‚ï¼š vm.items[indexOfItem] = newValue æ‰€ä»¥æˆ‘ä»¬æƒ³æ”¹å˜tableä¸­ç¬¬ä¸€æ¡æ•°æ®çš„å€¼ï¼Œé€šè¿‡this.list[0]=newValueè¿™æ ·æ˜¯ä¸ä¼šç”Ÿæ•ˆçš„ã€‚ è§£å†³æ–¹æ¡ˆï¼š // Array.prototype.splice` example1.items.splice(indexOfItem, 1, newValue) æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ //æ·»åŠ æ•°æ® this.list.unshift(this.temp); //åˆ é™¤æ•°æ® const index = this.list.indexOf(row); //æ‰¾åˆ°è¦åˆ é™¤æ•°æ®åœ¨listä¸­çš„ä½ç½® this.list.splice(index, 1); //é€šè¿‡splice åˆ é™¤æ•°æ® //ä¿®æ”¹æ•°æ® const index = this.list.indexOf(row); //æ‰¾åˆ°ä¿®æ”¹çš„æ•°æ®åœ¨listä¸­çš„ä½ç½® this.list.splice(index, 1,this.updatedData); //é€šè¿‡splice æ›¿æ¢æ•°æ® è§¦å‘è§†å›¾æ›´æ–° è¿™æ ·æˆ‘ä»¬å°±å®Œæˆäº†å¯¹tableçš„å¢åˆ æ”¹æ“ä½œï¼Œåˆ—è¡¨viewä¹Ÿè‡ªåŠ¨å“åº”å‘ç”Ÿäº†å˜åŒ–ã€‚è¿™é‡Œåœ¨ä¿®æ”¹æ•°æ®çš„æ—¶å€™è¿˜æœ‰ä¸€ä¸ªå°å‘éœ€è¦ä¸»è¦ã€‚ å½“æˆ‘ä»¬æ‹¿åˆ°éœ€è¦ä¿®æ”¹è¡Œçš„æ•°æ®æ—¶å€™ä¸èƒ½ç›´æ¥å°†å®ƒç›´æ¥èµ‹å€¼ç»™dialogï¼Œä¸ç„¶ä¼šå‘ç”Ÿé—®é¢˜ã€‚ æˆ‘ä»¬åœ¨dialogé‡Œé¢æ”¹å˜çŠ¶æ€çš„æ—¶å€™ï¼Œé®ç½©ä¸‹é¢çš„tableé‡Œé¢è¯¥è¡Œçš„çŠ¶æ€ä¹Ÿåœ¨é‚£é‡Œè·Ÿç€ä¸€åªå˜åŒ–ç€ã€‚åŸå› æƒ³å¿…å¤§å®¶éƒ½çŒœåˆ°äº†ã€‚èµ‹å€¼çš„æ•°æ®æ˜¯ä¸€ä¸ªobjecå¼•ç”¨ç±»å‹å…±äº«ä¸€ä¸ªå†…å­˜åŒºåŸŸçš„ã€‚æ‰€ä»¥æˆ‘ä»¬å°±ä¸èƒ½ç›´æ¥è¿ç­‰å¤åˆ¶ï¼Œéœ€è¦é‡æ–°æŒ‡å‘ä¸€ä¸ªæ–°çš„å¼•ç”¨ï¼Œæ–¹æ¡ˆå¦‚ä¸‹ï¼š //èµ‹å€¼å¯¹è±¡æ˜¯ä¸€ä¸ªobj this.objData=Object.assign({}, row) //è¿™æ ·å°±ä¸ä¼šå…±ç”¨åŒä¸€ä¸ªå¯¹è±¡ //æ•°ç»„æˆ‘ä»¬ä¹Ÿæœ‰ä¸€ä¸ªå·§å¦™çš„é˜²èŒƒ newArray = oldArray.slice(); //sliceä¼šcloneè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ Tabstabåœ¨åå°é¡¹ç›®ä¸­ä¹Ÿæ¯”è¾ƒå¸¸ç”¨çš„ã€‚å‡è®¾æˆ‘ä»¬æœ‰å››ä¸ªtabé€‰é¡¹ï¼Œæ¯ä¸ªtabéƒ½ä¼šå‘åç«¯è¯·æ±‚æ•°æ®ï¼Œä½†æˆ‘ä»¬å¸Œæœ›ä¸€å¼€å§‹åªä¼šè¯·æ±‚å½“å‰çš„tabæ•°æ®ï¼Œè€Œä¸”tabæ¥å›åˆ‡æ¢çš„æ—¶å€™ä¸ä¼šé‡å¤è¯·æ±‚ï¼Œåªä¼šå®ä¾‹åŒ–ä¸€æ¬¡ã€‚é¦–å…ˆæˆ‘ä»¬æƒ³åˆ°çš„å°±æ˜¯ç”¨v-if è¿™æ ·çš„ç¡®èƒ½åšåˆ°ä¸€å¼€å§‹ä¸ä¼šæŒ‚è½½åé¢çš„tabï¼Œä½†æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæ¯æ¬¡ç‚¹å‡»è¿™ä¸ªtabç»„ä»¶éƒ½ä¼šé‡æ–°æŒ‚è½½ä¸€æ¬¡ï¼Œè¿™æ˜¯æˆ‘ä»¬ä¸æƒ³çœ‹åˆ°çš„ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ç”¨åˆ°``äº†ã€‚ keep-alive åŒ…è£¹åŠ¨æ€ç»„ä»¶æ—¶ï¼Œä¼šç¼“å­˜ä¸æ´»åŠ¨çš„ç»„ä»¶å®ä¾‹ï¼Œè€Œä¸æ˜¯é”€æ¯å®ƒä»¬ã€‚ å®ƒæ˜¯ä¸€ä¸ªæŠ½è±¡ç»„ä»¶ï¼šå®ƒè‡ªèº«ä¸ä¼šæ¸²æŸ“ä¸€ä¸ª DOM å…ƒç´ ï¼Œä¹Ÿä¸ä¼šå‡ºç°åœ¨çˆ¶ç»„ä»¶é“¾ä¸­ã€‚ æ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥è¿™æ ·å†™tabsäº† &lt;el-tabs v-model=\"activeTab\"&gt; &lt;el-tab-pane label=\"ç®€ä»‹åŠå…¬å‘Š\" name=\"announcement\"&gt; &lt;announcement /&gt; &lt;/el-tab-pane&gt; &lt;el-tab-pane label=\"èµ„è®¯\" name=\"information\"&gt; &lt;keep-alive&gt; &lt;information v-if=\"activeTab=='information'\" /&gt; &lt;/keep-alive&gt; &lt;/el-tab-pane&gt; &lt;el-tab-pane label=\"ç›´æ’­æµé…ç½®\" name=\"stream\"&gt; &lt;keep-alive&gt; &lt;stream v-if=\"activeTab=='stream'\" /&gt; &lt;/keep-alive&gt; &lt;/el-tab-pane&gt; &lt;/el-tabs&gt; Select é€‰æ‹©å™¨Select é€‰æ‹©å™¨ç›´æ¥ä½¿ç”¨æ²¡æœ‰ä»€ä¹ˆå¤ªå¤šé—®é¢˜ï¼Œä½†å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦é€šè¿‡Selectæ¥å›æ˜¾ä¸€äº›æ•°æ®ï¼Œå½“æˆ‘ä»¬`` select ç»‘å®šä¸€ä¸ªobj valueå›æ˜¾å°±ä¼šå¾ˆè›‹ç–¼äº†ï¼Œå®ƒè¦æ±‚å¿…é¡»ä¿æŒåŒä¸€ä¸ªå¼•ç”¨issueã€‚è¿™å°±æ„å‘³ç€ï¼Œæˆ‘ä»¬å›æ˜¾æ•°æ®çš„æ—¶å€™æƒ³å…ˆè¦æ‰¾åˆ°è¯¥æ•°æ®åœ¨arrä¸­çš„ä½ç½®ï¼Œå†å›å¡ï¼šdemoã€‚è¿™è¿˜ä¸æ˜¯åœ¨è¿œç¨‹æœç´¢çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæ˜¯è¿œç¨‹æœç´¢çš„æƒ…å†µè¿˜è¦å½“ç–¼ã€‚ è¿™é‡Œæ¨èä¸€ä¸‹vue-multiselect å®ƒèƒ½å®Œç¾çš„è§£å†³å‰é¢Element selectçš„é—®é¢˜ã€‚ç›®å‰ä¹Ÿæ˜¯vue component ä¸­æ¯”è¾ƒå¥½ç”¨çš„ä¸€ä¸ªï¼Œuiä¹Ÿéå¸¸çš„å¥½çœ‹ï¼Œå»ºè®®å¤§å®¶å¯ä»¥å°è¯•æ€§ç”¨ä¸€ä¸‹ï¼ŒçœŸçš„éå¸¸çš„ä¸é”™ã€‚ Upload ä¸Šä¼ Uploadæœ¬èº«æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œæ–‡æ¡£å†™çš„è›®æ¸…æ¥šäº†ã€‚è¿™é‡Œä¸»è¦è¯´ä¸€ä¸‹æ€ä¹ˆå°†Uploadç»„ä»¶å’Œä¸ƒç‰›ç›´ä¼ ç»“åˆåœ¨ä¸€èµ·ã€‚ è¿™é‡Œæˆ‘ä»¬é€‰æ‹©apiç›´ä¼ çš„æ–¹å¼ï¼Œå°±æ˜¯æˆ‘ä»¬é¦–å…ˆè¦é€šè¿‡åç«¯(go,node,phpéƒ½å¯ä»¥)æ–‡æ¡£ç”Ÿæˆä¸ƒç‰›ä¸Šä¼ å¿…è¦çš„token(ä¸Šä¼ å‡­è¯)å’Œkey(èµ„æºçš„æœ€ç»ˆåç§°)ã€‚ æ‰€ä»¥ç°åœ¨åªè¦æƒ³åŠæ³•è®²tokenå’Œkeyå¡è¿›postè¯·æ±‚é‡Œé¢å°±å¯ä»¥äº†ï¼Œå¥½åœ¨å®˜æ–¹ä¹Ÿæä¾›äº†è¿™ä¸ªæ–¹æ³•ã€‚ ä½†æ€ä¹ˆæ‰èƒ½å…ˆå¼‚æ­¥çš„æ‹¿åˆ°tokenå†å°†å®ƒå¡å…¥è¯·æ±‚é‡Œå‘¢ï¼Ÿ è¿™æ—¶å€™æˆ‘ä»¬åˆå‘ç°äº†before-upload è¿™ä¸ªé’©å­è¿˜æ”¯æŒpromiseç®€ç›´åˆæˆ‘ä»¬çš„å¿ƒæ„ã€‚ ä½†æˆ‘ä»¬å†™ç€å†™ç€æ€æ ·æ‰èƒ½åŠ¨æ€çš„æ”¹å˜ä¹‹å‰çš„dataObjå‘¢ï¼Ÿé€šè¿‡çœ‹æºç å‘ç°æˆ‘ä»¬å¯ä»¥_self._dataè¿™æ ·å­æ‹¿åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•°æ®ã€‚çº¿ä¸Šä»£ç  &lt;template&gt; &lt;el-upload action=\"https://upload.qbox.me\" :data=\"dataObj\" drag :multiple=\"true\" :before-upload=\"beforeUpload\"&gt; &lt;i class=\"el-icon-upload\"&gt;&lt;/i&gt; &lt;div class=\"el-upload__text\"&gt;å°†æ–‡ä»¶æ‹–åˆ°æ­¤å¤„ï¼Œæˆ–&lt;em&gt;ç‚¹å‡»ä¸Šä¼ &lt;/em&gt;&lt;/div&gt; &lt;/el-upload&gt; &lt;/template&gt; &lt;script&gt; import { getToken } from 'api/qiniu'; // è·å–ä¸ƒç‰›token åç«¯é€šè¿‡Access Key,Secret Key,bucketç­‰ç”Ÿæˆtoken // ä¸ƒç‰›å®˜æ–¹sdk https://developer.qiniu.com/sdk#official-sdk export default{ data() { return { dataObj: { token: '', key: '' }, image_uri: [], fileList: [] } }, methods: { beforeUpload() { const _self = this; return new Promise((resolve, reject) =&gt; { getToken().then(response =&gt; { const key = response.data.qiniu_key; const token = response.data.qiniu_token; _self._data.dataObj.token = token; _self._data.dataObj.key = key; resolve(true); }).catch(err =&gt; { console.log(err) reject(false) }); }); } } } &lt;/script&gt; jsxåœ¨ä½¿ç”¨Elementçš„æ—¶å€™ï¼Œå®˜æ–¹æä¾›äº†å¾ˆå¤šå¯ä»¥è‡ªå·±å†™render functionçš„åœ°æ–¹ï¼Œä½†ç”±äºElementå†…éƒ¨éƒ½æ˜¯ç”¨jsx å†™render functionçš„ï¼Œæ‰€ä»¥demoä¹Ÿéƒ½æ˜¯jsxï¼Œä½†å¾ˆå¤šäººè‡ªå·±é¡¹ç›®ä¸­å…¶å®æ˜¯æ²¡æœ‰å®‰è£…çš„ï¼Œå¯¼è‡´æŠ¥é”™ã€‚ä½†è¯´çœŸçš„ç”¨createElementè£¸å†™render å‡½æ•°è¿˜æ˜¯æœ‰äº›è›‹ç–¼ã€‚æˆ‘ä»¬è¦ç”¨jsxï¼Œé¦–å…ˆè¦å®‰è£… babel-plugin-transform-vue-jsx å®‰è£…æ–¹æ³•å¦‚ä¸‹ï¼š npm install\\ babel-plugin-syntax-jsx\\ babel-plugin-transform-vue-jsx\\ babel-helper-vue-jsx-merge-props\\ babel-preset-es2015\\ --save-dev .babelrc:æ–‡ä»¶ { \"presets\": [\"es2015\"], \"plugins\": [\"transform-vue-jsx\"] } è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ„‰å¿«çš„ä½¿ç”¨ jsx å†™render functionäº†ã€‚ element å¸¸è§é—®é¢˜clickäº‹ä»¶ä¸è§¦å‘é—®é¢˜ï¼šä¸€ç›´æœ‰äººåœ¨ç¾¤é‡Œé—®Click Meæ€ä¹ˆä¸è§¦å‘clickäº‹ä»¶ï¼Œè™½ç„¶elementæ–‡æ¡£è¿˜æœ‰å®Œå–„çš„ç©ºé—´ä½†è¿™ç§é—®é¢˜å¤§å®¶è¿˜çœŸè¦è‡ªå·±å¥½å¥½è®¤çœŸçœ‹ä¸€ä¸‹å®˜æ–¹çš„FAQäº†ã€‚ å®˜æ–¹è¯´æ˜äº†æ‰€æœ‰çš„åŸç”Ÿäº‹ä»¶å¿…é¡»æ·»åŠ  .native ä¿®é¥°ç¬¦ã€‚ ä¿®æ”¹elementæ ·å¼é—®é¢˜ï¼š ç”¨uiç»„ä»¶æ€»å…ä¸äº†éœ€è¦å¯¹å®ƒåšä¸€äº›ä¸ªæ€§åŒ–å®šåˆ¶çš„éœ€æ±‚ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±è¦è¦†ç›–elementçš„ä¸€äº›æ ·å¼ã€‚ é¦–å…ˆæˆ‘ä»¬è¦äº†è§£ä¸€ä¸‹vue scopedæ˜¯ä»€ä¹ˆï¼Œå¾ˆå¤šäººéå¸¸å–œæ¬¢ç”¨scopedï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæ ·å¼å†²çªé—®é¢˜äº†ï¼Œå…¶å®scopedä¹Ÿæ²¡æœ‰å¾ˆç¥ç§˜çš„ï¼Œå®ƒå°±æ˜¯åŸºäºPostCssçš„ï¼ŒåŠ äº†ä¸€ä¸ªä½œç”¨å±€çš„æ¦‚å¿µã€‚ //ç¼–è¯‘å‰ .example { color: red; } //ç¼–è¯‘å .example[_v-f3f3eg9] { color: red; } å®ƒå’Œæˆ‘ä»¬ä¼ ç»Ÿçš„å‘½åç©ºé—´çš„æ–¹æ³•é¿å…csså†²çªæ²¡æœ‰ä»€ä¹ˆæœ¬è´¨æ€§çš„åŒºåˆ«ã€‚ ç°åœ¨æˆ‘ä»¬æ¥è¯´è¯´æ€ä¹ˆè¦†ç›–element-uiæ ·å¼ã€‚ç”±äºelement-uiçš„æ ·å¼æˆ‘ä»¬æ˜¯åœ¨å…¨å±€å¼•å…¥çš„ï¼Œæ‰€ä»¥ä½ æƒ³åœ¨æŸä¸ªviewé‡Œé¢è¦†ç›–å®ƒçš„æ ·å¼å°±ä¸èƒ½åŠ scopedï¼Œä½†ä½ åˆæƒ³åªè¦†ç›–è¿™ä¸ªé¡µé¢çš„elementæ ·å¼ï¼Œä½ å°±å¯åœ¨å®ƒçš„çˆ¶çº§åŠ ä¸€ä¸ªclassï¼Œä»¥ç”¨å‘½åç©ºé—´æ¥è§£å†³é—®é¢˜ã€‚ .aritle-page{ //ä½ çš„å‘½åç©ºé—´ .el-tag { //element-ui å…ƒç´  margin-right: 0px; } } å»ºè®®å‘æ¥¼ä¸»ä¸€æ ·ä¸“é—¨å»ºä¸€ä¸ªscssæ–‡ä»¶é‡Œä¸“é—¨è‡ªå®šä¹‰element-uiçš„å„ç§æ ·å¼ã€‚çº¿ä¸Šä»£ç  å…¶å®ƒå…³äºelementç›¸å…³çš„ä¸œè¥¿çœŸçš„æ²¡æœ‰ä»€ä¹ˆå¥½è¯´çš„äº†ï¼Œäººå®¶æ–‡æ¡£å’Œæºç å°±æ”¾åœ¨é‚£é‡Œï¼Œæœ‰é—®é¢˜å°±å»çœ‹æ–‡æ¡£ï¼Œå†å»issueé‡Œæ‰¾æ‰¾ï¼Œå†å»çœ‹çœ‹æºç ï¼Œå¤§éƒ¨åˆ†é—®é¢˜éƒ½èƒ½è§£å†³äº†ã€‚ç»™ä¸€ä¸ªè¯€çªå…¶å®å¤§éƒ¨åˆ†è¯¡å¼‚çš„é—®é¢˜éƒ½å¯ä»¥é€šè¿‡åŠ ä¸€ä¸ªkeyæˆ–è€… Vue.nextTickæ¥è§£å†³ã€‚ã€‚ å¯Œæ–‡æœ¬ç®¡ç†åå°å¯Œæ–‡æœ¬ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„åŠŸèƒ½ï¼Œæ¥¼ä¸»åœ¨è¿™é‡Œä¹Ÿè¸©äº†ä¸å°‘çš„å‘ã€‚æ¥¼ä¸»åœ¨é¡¹ç›®é‡Œæœ€ç»ˆé€‰æ‹©äº† tinymce è¿™é‡Œåœ¨ç®€è¿°ä¸€ä¸‹æ¨èä½¿ç”¨tinymceçš„åŸå› ï¼štinymce æ˜¯ä¸€å®¶è€ç‰Œåšå¯Œæ–‡æœ¬çš„å…¬å¸(è¿™é‡Œä¹Ÿæ¨è ckeditorï¼Œä¹Ÿæ˜¯ä¸€å®¶ä¸€ç›´åšå¯Œæ–‡æœ¬çš„å…¬å¸ï¼Œæ–°ç‰ˆæœ¬å¾ˆä¸é”™)ï¼Œå®ƒçš„äº§å“ç»å—äº†å¸‚åœºçš„è®¤å¯ï¼Œä¸ç®¡æ˜¯æ–‡æ¡£è¿˜æ˜¯é…ç½®çš„è‡ªç”±åº¦éƒ½å¾ˆå¥½ã€‚åœ¨ä½¿ç”¨å¯Œæ–‡æœ¬çš„æ—¶å€™æœ‰ä¸€ç‚¹ä¹Ÿå¾ˆå…³é”®å°±æ˜¯å¤åˆ¶æ ¼å¼åŒ–ï¼Œä¹‹å‰åœ¨ç”¨ä¸€æ¬¾éŸ©å›½äººåšçš„å¯Œæ–‡æœ¬summernoteè¢«å®ƒçš„æ ¼å¼åŒ–å‘çš„æ­»å»æ´»æ¥ï¼Œä½† tinymce çš„å»æ ¼å¼åŒ–ç›¸å½“çš„å¥½ï¼Œå®ƒè¿˜æœ‰ä¸€ä¸ªå¢å€¼é¡¹ç›®å°±æ˜¯powerpaste,é‚£æ˜¯æ— æ¯”çš„å¼ºå¤§ï¼Œæ”¯æŒä»wordé‡Œé¢å¤åˆ¶å„ç§ä¸œè¥¿ï¼Œéƒ½ä¸ä¼šæœ‰é—®é¢˜ã€‚å¯Œæ–‡æœ¬è¿˜æœ‰ä¸€ç‚¹ä¹Ÿå¾ˆå…³é”®ï¼Œå°±æ˜¯æ‹“å±•æ€§ã€‚æ¥¼ä¸»ç”¨tinymceå†™äº†å¥½å‡ ä¸ªæ’ä»¶ï¼Œå­¦ä¹ æˆæœ¬å’Œå®¹æ˜“åº¦éƒ½ä¸é”™ï¼Œå¾ˆæ–¹ä¾¿æ‹“å±•ã€‚æœ€åä¸€ç‚¹å°±æ˜¯æ–‡æ¡£å¾ˆå®Œå–„ï¼ŒåŸºæœ¬ä½ æƒ³å¾—åˆ°çš„é…ç½®é¡¹ï¼Œå®ƒéƒ½æœ‰ã€‚tinymceä¹Ÿæ”¯æŒæŒ‰éœ€åŠ è½½ï¼Œä½ å¯ä»¥é€šè¿‡å®ƒå®˜æ–¹çš„buildé¡µå®šåˆ¶è‡ªå·±éœ€è¦çš„pluginsã€‚ æˆ‘å†æ¥åˆ†æä¸€ä¸‹å¸‚é¢ä¸Šå…¶å®ƒçš„ä¸€äº›å¯Œæ–‡æœ¬ï¼š summernote å…ˆæ¥è¯´ä¸€ä¸ªæˆ‘ç»å¯¹ä¸æ¨èçš„å¯Œæ–‡æœ¬ã€‚è¿™æ˜¯ä¸€ä¸ªéŸ©å›½äººå¼€æºçš„å¯Œæ–‡æœ¬(å½“ç„¶ä¸æ¨èçš„ç†ç”±ä¸æ˜¯å› ä¸ºè¿™ä¸ª)ï¼Œå®ƒå¯¹å¾ˆå¤šå¯Œæ–‡æœ¬ä¸šç•Œå…¬è®¤çš„é»˜è®¤è¡Œä¸ºç†è§£æ˜¯åèµ·åˆ°è€Œè¡Œçš„ï¼Œè€Œä¸”åªä¸ºç”¨äº†ä¸€ä¸ªdialogçš„åŠŸèƒ½ï¼Œå¼•å…¥äº†boostrapï¼Œä¸€å †äººæŠ—è®®å°±æ˜¯ä¸æ”¹ã€‚æ ¼å¼åŒ–ä¹Ÿæ˜¯å·®åŠ²ã€‚ã€‚åæ­£ä¸è¦ç”¨ï¼ä¸è¦ç”¨ï¼ä¸è¦ç”¨ï¼ ckeditor ckeditorä¹Ÿæ˜¯ä¸€å®¶è€ç‰Œåšå¯Œæ–‡æœ¬çš„å…¬å¸ï¼Œæ¥¼ä¸»æ—§ç‰ˆåå°ç”¨çš„å°±æ˜¯è¿™ä¸ªï¼Œä»Šå¹´ä¹Ÿå‡ºäº†5.0ç‰ˆæœ¬ï¼Œuiä¹Ÿå˜ç¾è§‚äº†ä¸å°‘ï¼Œç›¸å½“çš„ä¸é”™ï¼Œè€Œä¸”å®ƒå·ç§°æ˜¯æ’ä»¶æœ€ä¸°å¯Œçš„å¯Œæ–‡æœ¬äº†ã€‚æ¨èå¤§å®¶ä¹Ÿå¯ä»¥è¯•ç”¨ä¸€ä¸‹ã€‚ quill ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸ç«çš„å¯Œæ–‡æœ¬ï¼Œé•¿ç›¸å¾ˆä¸é”™ã€‚åŸºäºå®ƒå†™æ’ä»¶ä¹Ÿå¾ˆç®€å•ï¼Œapiè®¾è®¡ä¹Ÿå¾ˆç®€å•ã€‚æ¥¼ä¸»ä¸é€‰æ‹©å®ƒçš„åŸå› æ˜¯å®ƒå¯¹å›¾ç‰‡çš„å„ç§æ“ä½œä¸å‹å–„ï¼Œè€Œä¸”å¾ˆéš¾æ”¹ã€‚å¦‚æœå¯¹å›¾ç‰‡æ²¡ä»€ä¹ˆæ“ä½œçš„ç”¨æˆ·ï¼Œæ¨èä½¿ç”¨ã€‚ medium-*editor* å¤§åé¼é¼çš„mediumçš„å¯Œæ–‡æœ¬(éå®˜æ–¹å‡ºå“)ï¼Œä½†å®Œæˆåº¦è¿˜æ˜¯ä¸å¾ˆä¸é”™ï¼Œæ‹“å±•æ€§ä¹Ÿä¸é”™ã€‚ä¸è¿‡æˆ‘è§‰å¾—å¤§éƒ¨åˆ†ç”¨æˆ·è¿˜æ˜¯ä¼šä¸ä¹ æƒ¯mediumè¿™ç§å†™ä½œæ–¹å¼çš„ã€‚ Squire ä¸€ä¸ªæ¯”è¾ƒè½»é‡çš„å¯Œæ–‡æœ¬ï¼Œå‹ç¼©å®Œæ‰11.5kbï¼Œç›¸å¯¹äºå…¶å®ƒçš„å¯Œæ–‡æœ¬æ¥è¯´æ˜¯éå¸¸çš„å°äº†ï¼Œæ¨èåŠŸèƒ½ä¸å¤æ‚çš„å»ºè®®ä½¿ç”¨ã€‚ wangEditor ä¸€ä¸ªå›½äººå†™çš„å¯Œæ–‡æœ¬ï¼Œç”¨è¿‡æ„Ÿè§‰è¿˜æ˜¯ä¸é”™çš„ã€‚ä¸è¿‡æ¯•ç«Ÿæ˜¯ä¸ªäººçš„ï¼Œä¸åƒä¸“é—¨å…¬å¸åšå¯Œæ–‡æœ¬çš„ï¼Œé…ç½®å‹å’Œä¸°å¯Œæ€§ä¸è¶³ã€‚å‰ç«¯å‡ å¤§ç¦å¿Œå°±æœ‰å¯Œæ–‡æœ¬ ä¸ºä»€ä¹ˆéƒ½è¯´å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ˜¯å¤©å‘?ï¼Œä¸è¿‡ä¸ªäººèƒ½åšæˆè¿™æ ·å­å¾ˆä¸å®¹æ˜“äº†ã€‚ ç™¾åº¦UEditor æ²¡æœ‰æ·±å…¥ä½¿ç”¨è¿‡ï¼Œåªåœ¨ä¸€ä¸ªangular1Xçš„é¡¹ç›®ç®€å•ç”¨è¿‡ï¼Œä¸è¿‡è¯´ç€çš„uiçœŸçš„ä¸å¥½çœ‹ï¼Œä¸ç¬¦åˆå½“ä»Šå®¡ç¾äº†ï¼Œå®˜æ–¹ä¹Ÿå·²ç»å¾ˆä¹…æ²¡è·Ÿæ–°è¿‡äº†ã€‚ æ¥¼ä¸»åˆ—ä¸¾äº†å¾ˆå¤šå¯Œæ–‡æœ¬ä½†å¹¶æ²¡æœ‰åˆ—ä¸¾ä»»ä½• vue ç›¸å…³çš„å¯Œæ–‡æœ¬ï¼Œä¸»è¦æ˜¯å› ä¸ºå¯Œæ–‡æœ¬çœŸçš„æ¯”æƒ³è±¡ä¸­å¤æ‚ï¼Œåœ¨å‰é¢çš„æ–‡ç« é‡Œä¹Ÿè¯´è¿‡äº†ï¼Œå…¶å®ç”¨ vue å°è£…ç»„ä»¶å¾ˆæ–¹ä¾¿çš„ï¼Œæ²¡å¿…è¦å»ç”¨äººå®¶å°è£…çš„ä¸œè¥¿ä»€ä¹ˆvue-quill vue-editorè¿™ç§éƒ½åªæ˜¯ç®€å•åŒ…äº†ä¸€å±‚ï¼Œæ²¡ä»€ä¹ˆéš¾åº¦çš„ã€‚è¿˜ä¸å¦‚è‡ªå·±æ¥å°è£…ï¼Œçµæ´»æ€§å¯æ§æ€§æ›´å¼ºä¸€ç‚¹ã€‚è¿˜æœ‰ä¸€ç‚¹åŸºäº vue çœŸæ²¡ä»€ä¹ˆå¥½çš„å¯Œæ–‡æœ¬ï¼Œä¸åƒ react æœ‰ facebook å‡ºçš„ draft-jsï¼Œory å‡ºçš„ editorï¼Œè¿™ç§å¤§å‚å‡ºçš„äº§å“ã€‚ å½“ç„¶ä½ ä¹Ÿå¯ä»¥é€‰æ‹©ä¸€äº›ä»˜è´¹çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œä½œè€…è‡ªå·±å…¬å¸é‡Œé¢æœ‰ä¸€ä¸ªé¡¹ç›®å°±ä½¿ç”¨äº† froala-editor è¿™æ¬¾ç¼–è¾‘å™¨ã€‚ä¸ç®¡æ˜¯ç¾è§‚å’Œæ˜“ç”¨æ€§éƒ½æ˜¯ä¸é”™çš„ï¼Œå…¬å¸ä¹°çš„æ˜¯ä¸“ä¸šç‰ˆï¼Œä¸€å¹´ä¹Ÿå°± $349 ï¼Œä»·æ ¼ä¹Ÿæ˜¯å¾ˆåˆç†çš„ï¼Œä½†å…¶å®çœå»çš„ç¨‹åºå‘˜å¼€å‘é™ˆæœ¬å¯èƒ½è¿œä¸æ­¢è¿™ä¸ªä»·é’±ã€‚ Tinymceè¿™é‡Œæ¥ç®€å•è®²ä¸€ä¸‹åœ¨è‡ªå·±é¡¹ç›®ä¸­ä½¿ç”¨ Tinymce çš„æ–¹æ³•ã€‚ ç”±äºç›®å‰ä½¿ç”¨ npm å®‰è£… Tinymce æ–¹æ³•æ¯”è¾ƒè´Ÿè´£å¤æ‚è€Œä¸”è¿˜æœ‰ä¸€äº›é—®é¢˜(æ—¥åå¯èƒ½ä¼šé‡‡ç”¨è¯¥æ¨¡å¼)ã€‚ğŸ‘¾ ç›®å‰é‡‡ç”¨å…¨å±€å¼•ç”¨çš„æ–¹å¼ã€‚ä»£ç åœ°å€ï¼šstatic/tinymce staticç›®å½•ä¸‹çš„æ–‡ä»¶ä¸ä¼šè¢«æ‰“åŒ…, åœ¨ index.html ä¸­å¼•å…¥ã€‚ ä½¿ç”¨ ç”±äºå¯Œæ–‡æœ¬ä¸é€‚åˆåŒå‘æ•°æ®æµï¼Œæ‰€ä»¥åªä¼š watch ä¼ å…¥å¯Œæ–‡æœ¬çš„å†…å®¹ä¸€æ¬¡å˜åŒ–ï¼Œåªä¼šå°±ä¸ä¼šå†ç›‘å¬äº†ï¼Œå¦‚æœä¹‹åè¿˜æœ‰æ”¹å˜å¯Œæ–‡æœ¬å†…å®¹çš„éœ€æ±‚ã€‚ å¯ä»¥é€šè¿‡ this.refs.xxx.setContent() æ¥è®¾ç½® æºç ä¹Ÿå¾ˆç®€å•ï¼Œæœ‰ä»»ä½•åˆ«çš„éœ€æ±‚éƒ½å¯ä»¥åœ¨ @/components/Tinymce/index.vue ä¸­è‡ªè¡Œä¿®æ”¹ã€‚ Markdownmarkdown æˆ‘ä»¬è¿™é‡Œé€‰ç”¨äº† simplemde-markdown-editor ï¼Œç®€å•çš„ç”¨vueå°è£…äº†ä¸€ä¸‹åœ°å€,å¦‚æœéœ€æ±‚æ–¹èƒ½æ¥å— markdown å°±ä¸€å®šè¦ç”¨ markdownï¼Œå‘çœŸå¿ƒä¼šæ¯”å¯Œæ–‡æœ¬å°‘å¾ˆå¤šã€‚è¿™é‡Œæˆ‘ä»¬ç”¨markdownåšäº†ç¼–è¾‘å™¨ï¼Œè¿˜éœ€è¦ä¸€ä¸ªèƒ½è§£æçš„çš„ä¸œè¥¿ã€‚å¯ä»¥ä½ ä¼ ç»™åç«¯è®©åç«¯å¸®ä½ è½¬åŒ–ï¼Œä¹Ÿå¯ä»¥å‰ç«¯è‡ªå·±æ¥ï¼Œè¿™é‡Œæ¨èä¸€ä¸ªè½¬åŒ–åº“showdownã€‚ä½¿ç”¨æ–¹æ³•ï¼š import('showdown').then(showdown =&gt; { //ç”¨äº† Dynamic import const converter = new showdown.Converter();//åˆå§‹åŒ– this.html = converter.makeHtml(this.content)//è½¬åŒ– }) ç”¨æ³•ä¹Ÿå¾ˆç®€å•ä¸¤è¡Œä»£ç å°±å®Œæˆäº†markdown to htmlï¼Œå½“ç„¶å®ƒè¿˜æœ‰å¾ˆå¤šä¸ªæ€§ç”»çš„é…ç½®ï¼Œå¤§å®¶æœ‰éœ€æ±‚è‡ªè¡Œç ”ç©¶å§ã€‚ å¯¼å‡ºexcelè¿™é‡Œå…ˆæ˜ç¡®ä¸€ç‚¹ï¼Œå¦‚æœä½ çš„ä¸šåŠ¡éœ€æ±‚å¯¹å¯¼å‡ºæ–‡ä»¶çš„æ ¼å¼æ²¡æœ‰ä»€ä¹ˆè¦æ±‚ï¼Œä¸å»ºè®®å¯¼å‡ºæˆxlsxæ ¼å¼çš„ï¼Œç›´æ¥å¯¼å‡ºæˆcsvçš„å°±å¥½äº†ï¼ŒçœŸçš„ä¼šç®€å•å¾ˆå¤šã€‚åˆ›å»ºä¸€ä¸ªaæ ‡ç­¾ï¼Œå†™ä¸Šdata:text/csv;charset=utf-8å¤´ï¼Œå†æŠŠæ•°æ®å¡è¿›å»ï¼ŒencodeURI(csvContent)ä¸€ä¸‹å°±å¥½äº†ï¼Œè¯¦æƒ…å°±ä¸å±•å¼€äº†ï¼Œå¤§å®¶å¯ä»¥å€Ÿé‰´è¿™ä¸ªstackoverflowå›ç­”ã€‚ æˆ‘ä»¬é‡ç‚¹è¯´ä¸€ä¸‹è½¬xlsxï¼Œæˆ‘ä»¬è¿™é‡Œç”¨åˆ°äº†js-xlsxï¼Œä¸€ä¸ªåŠŸèƒ½å¾ˆå¼ºå¤§excelå¤„ç†åº“ï¼Œåªæ˜¯ä¸‹è½½å„ç§æ ¼å¼excelï¼Œè¿˜æ”¯æŒè¯»å–excelï¼Œä½†ä¸Šæ‰‹éš¾åº¦ä¹Ÿéå¸¸å¤§ï¼Œç›¸å½“çš„å¤æ‚ï¼Œå…¶ä¸­æ¶‰åŠä¸å°‘äºŒè¿›åˆ¶ç›¸å…³çš„ä¸œè¥¿ã€‚ä¸è¿‡å¥½åœ¨å®˜æ–¹ç»™äº†æˆ‘ä»¬ä¸€ä¸ªdemoä¾‹å­,æˆ‘ä»¬å†™ä¸æ¥è¿˜æŠ„ä¸æ¥ä¹ˆï¼Œäºæ˜¯æˆ‘ä»¬å°±å€Ÿé‰´å®˜æ–¹çš„ä¾‹å­æ¥æ”¹é€ äº†ä¸€ä¸‹ï¼Œå…·ä½“åŸç†å°±ä¸è¯¦ç»†è¯´äº†ï¼ŒçœŸçš„å¾ˆå¤æ‚ã€‚ã€‚ã€‚ é‡ç‚¹æ˜¯æˆ‘ä»¬æ€ä¹ˆä½¿ç”¨ï¼é¦–å…ˆæˆ‘ä»¬å°è£…ä¸€ä¸ªExport2Excel.jsï¼Œ å®ƒåˆä¾èµ–ä¸‰ä¸ªåº“ require('script-loader!file-saver'); //ä¿å­˜æ–‡ä»¶ç”¨ require('script-loader!vendor/Blob'); //è½¬äºŒè¿›åˆ¶ç”¨ require('script-loader!xlsx/dist/xlsx.core.min'); //xlsxæ ¸å¿ƒ ç”±äºè¿™å‡ ä¸ªæ–‡ä»¶ä¸æ”¯æŒimportå¼•å…¥ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦`script-loader`æ¥å°†ä»–ä»¬æŒ‚è½½åˆ°å…¨å±€ç¯å¢ƒä¸‹ã€‚ å®ƒæš´éœ²äº†ä¸¤ä¸ªæ¥å£export_table_to_excelå’Œexport_json_to_excel,æˆ‘ä»¬å¸¸ç”¨export_json_to_excelå› ä¸ºæ›´åŠ çš„å¯æ§ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªç”±çš„æ´—æ•°æ®ã€‚ handleDownload() { require.ensure([], () =&gt; { // ç”¨ webpack Code Splitting xlslè¿˜æ˜¯å¾ˆå¤§çš„ const { export_json_to_excel } = require('vendor/Export2Excel'); const tHeader = ['åºå·', 'æ–‡ç« æ ‡é¢˜', 'ä½œè€…', 'é˜…è¯»æ•°', 'å‘å¸ƒæ—¶é—´']; // excel è¡¨æ ¼å¤´ const filterVal = ['id', 'title', 'author', 'pageviews', 'display_time']; const list = this.list; const data = this.formatJson(filterVal, list); // è‡ªè¡Œæ´—æ•°æ® æŒ‰åºæ’åºçš„ä¸€ä¸ªarrayæ•°ç»„ export_json_to_excel(tHeader, data, 'åˆ—è¡¨excel'); }) }ï¼Œ formatJson(filterVal, jsonData) { return jsonData.map(v =&gt; filterVal.map(j =&gt; v[j])) } å®Œæ•´æ˜¾ç¤ºçº¿ä¸Šä»£ç  EChartsç®¡ç†åå°å›¾è¡¨ä¹Ÿæ˜¯å¸¸è§å¾—éœ€æ±‚ã€‚è¿™é‡Œå›¾è¡¨å°±åªæ¨èEChartsï¼ŒåŠŸèƒ½é½å…¨ï¼Œç¤¾åŒºdemoä¹Ÿä¸°å¯Œgalleryã€‚æˆ‘è¿˜æ˜¯é‚£ä¸ªè§‚ç‚¹ï¼Œå¤§éƒ¨åˆ†æ’ä»¶å»ºè®®å¤§å®¶è¿˜æ˜¯è‡ªå·±ç”¨vueæ¥åŒ…è£…å°±å¥½äº†ï¼ŒçœŸçš„å¾ˆç®€å•ã€‚EChartsæ”¯æŒwebpackå¼•å…¥ï¼Œå›¾çœäº‹å¯ä»¥å°†EChartsæ•´ä¸ªå¼•å…¥var echarts = require('echarts');ä¸è¿‡EChartsè¿˜æ˜¯ä¸å°çš„ï¼Œæˆ‘ä»¬å¤§éƒ¨åˆ†æƒ…å†µåªæ˜¯ç”¨åˆ°å¾ˆå°‘ä¸€éƒ¨åˆ†åŠŸèƒ½ï¼Œæˆ‘å¹³æ—¶ä¹ æƒ¯äºæŒ‰éœ€å¼•å…¥çš„ã€‚ // å¼•å…¥ ECharts ä¸»æ¨¡å— var echarts = require('echarts/lib/echarts'); // å¼•å…¥æŸ±çŠ¶å›¾ require('echarts/lib/chart/bar'); // å¼•å…¥æç¤ºæ¡†å’Œæ ‡é¢˜ç»„ä»¶ require('echarts/lib/component/tooltip'); require('echarts/lib/component/title'); [webpackä¸­ä½¿ç”¨EChartsæ–‡æ¡£](http://echarts.baidu.com/tutorial.html#åœ¨ webpack ä¸­ä½¿ç”¨ ECharts) EChartsæŒ‰éœ€å¼•å…¥æ¨¡å—æ–‡æ¡£ æ¥ä¸‹æ¥æˆ‘ä»¬å°±è¦åœ¨vueä¸­å£°æ˜åˆå§‹åŒ–EChartsäº†ã€‚å› ä¸ºEChartsåˆå§‹åŒ–å¿…é¡»ç»‘å®šdomï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½åœ¨vueçš„mountedç”Ÿå‘½å‘¨æœŸé‡Œåˆå§‹åŒ–ã€‚ mounted() { this.initCharts(); }, methods: { this.initCharts() { this.chart = echarts.init(this.$el); this.setOptions(); }, setOptions() { this.chart.setOption({ title: { text: 'ECharts å…¥é—¨ç¤ºä¾‹' }, tooltip: {}, xAxis: { data: [\"è¡¬è¡«\", \"ç¾Šæ¯›è¡«\", \"é›ªçººè¡«\", \"è£¤å­\", \"é«˜è·Ÿé‹\", \"è¢œå­\"] }, yAxis: {}, series: [{ name: 'é”€é‡', type: 'bar', data: [5, 20, 36, 10, 10, 20] }] }) } } å°±è¿™æ ·ç®€å•ï¼ŒEChartså°±é…ç½®å®Œæˆäº†ï¼Œè¿™æ—¶å€™ä½ æƒ³è¯´æˆ‘çš„dataæ˜¯è¿œç¨‹è·å–çš„ï¼Œæˆ–è€…è¯´æˆ‘åŠ¨æ€æ”¹å˜EChartsçš„é…ç½®è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é€šè¿‡watchæ¥è§¦å‘setOptionsæ–¹æ³• //ç¬¬ä¸€ç§ watch optionså˜åŒ– åˆ©ç”¨vueçš„æ·±åº¦ watcherï¼Œoptionsä¸€æœ‰å˜åŒ–å°±é‡æ–°setOption watch: { options: { handler(options) { this.chart.setOption(this.options) }, deep: true }, } //ç¬¬äºŒç§ åªwatch æ•°æ®çš„å˜åŒ– åªæœ‰æ•°æ®å˜åŒ–æ—¶è§¦å‘ECharts watch: { seriesData(val) { this.setOptions({series:val}) } } å…¶å®éƒ½å·®ä¸å¤šï¼Œè¿˜æ˜¯è¦ç»“åˆè‡ªå·±ä¸šåŠ¡æ¥å°è£…ã€‚åé¢å°±å’Œå¹³æ—¶ä½¿ç”¨EChartsæ²¡æœ‰ä»€ä¹ˆåŒºåˆ«äº†ã€‚é¢˜å¤–è¯EChartsçš„å¯é…ç½®é¡¹çœŸå¿ƒå¤šï¼Œå¤§å®¶ä½¿ç”¨çš„æ—¶å€™å¯èƒ½è¦èŠ±ä¸€ç‚¹æ—¶é—´äº†è§£å®ƒçš„apiçš„ã€‚çŸ¥ä¹æœ‰ä¸ªé—®é¢˜ï¼šç™¾åº¦è¿˜æœ‰ä»€ä¹ˆæ¯”è¾ƒè‰¯å¿ƒçš„äº§å“ï¼Ÿç­”æ¡ˆï¼šEChartsï¼Œå¯è§EChartsçš„å¼ºå¤§ä¸å¥½ç”¨ã€‚ ç›¸åŒcomponent ä¸åŒå‚æ•°åˆ›å»ºä¸ç¼–è¾‘ å…¶å®åå°åˆ›å»ºä¸ç¼–è¾‘åŠŸèƒ½æ˜¯æœ€å¸¸è§çš„äº†ï¼Œå®ƒåŒºåˆ«å»å‰å°é¡¹ç›®å¤šäº†æ”¹çš„éœ€æ±‚ï¼Œä½†å¤§éƒ¨åˆ†åˆ›å»ºé¡µé¢ä¸ç¼–è¾‘é¡µé¢å­—æ®µå’Œuiå‡ ä¹æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å‡†å¤‡å…¬ç”¨ä¸€ä¸ªcomponentæ¥å¯¹åº”ä¸åŒçš„é¡µé¢ã€‚æœ‰ä¸¤ç§å¸¸è§çš„æ–¹æ³•ï¼Œæ¥åŒºåˆ«åˆ›å»ºä¸ç¼–è¾‘ã€‚ é€šè¿‡è·¯ç”±pathçš„æ–¹å¼ è¿™ç§æ–¹å¼æœ€ç®€å•æš´åŠ›ï¼Œæˆ‘è‡ªå·±çš„é¡¹ç›®ä¸­ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œé€šè¿‡çº¦å®šè·¯å¾„ä¸­å‡ºç°â€™editâ€™å°±åˆ¤æ–­ä¸ºç¼–è¾‘æ¨¡å¼ã€‚æ¯”è¾ƒçœåŠ›å’Œæ–¹ä¾¿ï¼Œä¸è¿‡è¿™æ˜¯è¦åœ¨å¤§å®¶å†™è·¯å¾„çš„æ—¶å€™éƒ½æŒ‰ç…§è§„èŒƒæ¥å†™çš„å‰æä¸‹ã€‚ é€šè¿‡metaæ¥åŒºåˆ† æ¯”è¾ƒæ¨èè¿™ç§æ–¹å¼æ¥åŒºåˆ†ã€‚ computed: { isEdit() { return this.$route.meta.isEdit // æ ¹æ®metaåˆ¤æ–­ // return this.$route.path.indexOf('edit') !== -1 // æ ¹æ®è·¯ç”±åˆ¤æ–­ } }ï¼Œ created() { if (this.isEdit) { this.fetchData(); } }, å°±è¿™æ ·ç®€å•çš„å®ç°äº†å¤šè·¯ç”±å¤ç”¨äº†ä¸€ä¸ªcomponentï¼Œå…¶å®ä¸åªæ˜¯åˆ›å»ºå’Œç¼–è¾‘å¯ä»¥è¿™æ ·ç”¨ï¼Œå¦‚ä¸¤ä¸ªåˆ—è¡¨çš„ä¸€æ¨¡ä¸€æ ·ï¼Œåªæ˜¯ä¸€ä¸ªæ˜¯å†…éƒ¨æ–‡ç« å¦ä¸€ä¸ªæ˜¯è°ƒå–å¤–éƒ¨æ–‡ç« éƒ½èƒ½å¤ç”¨ç»„ä»¶ï¼Œé€šè¿‡metaçš„æ–¹å¼æ¥åˆ¤æ–­è°ƒå–ä¸åŒçš„æ¥å£ã€‚","categories":[],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://promisefine.github.io/tags/Vue/"}],"author":"Doney"},{"title":"vueé¡¹ç›®æ¶æ„æ­å»º-2","slug":"vueé¡¹ç›®æ¶æ„æ­å»º-2","date":"2020-05-23T09:10:36.000Z","updated":"2021-07-16T07:12:22.017Z","comments":true,"path":"posts/ab03f06a.html","link":"","permalink":"https://promisefine.github.io/posts/ab03f06a.html","excerpt":"","text":"vueé¡¹ç›®æ¶æ„æ­å»º-2å‰è¨€åšåå°é¡¹ç›®åŒºåˆ«äºåšå…¶å®ƒçš„é¡¹ç›®ï¼Œæƒé™éªŒè¯ä¸å®‰å…¨æ€§æ˜¯éå¸¸é‡è¦çš„ï¼Œå¯ä»¥è¯´æ˜¯ä¸€ä¸ªåå°é¡¹ç›®ä¸€å¼€å§‹å°±å¿…é¡»è€ƒè™‘å’Œæ­å»ºçš„åŸºç¡€æ ¸å¿ƒåŠŸèƒ½ã€‚æˆ‘ä»¬æ‰€è¦åšåˆ°çš„æ˜¯ï¼šä¸åŒçš„æƒé™å¯¹åº”ç€ä¸åŒçš„è·¯ç”±ï¼ŒåŒæ—¶ä¾§è¾¹æ ä¹Ÿéœ€æ ¹æ®ä¸åŒçš„æƒé™ï¼Œå¼‚æ­¥ç”Ÿæˆã€‚è¿™é‡Œå…ˆç®€å•è¯´ä¸€ä¸‹ï¼Œæˆ‘å®ç°ç™»å½•å’Œæƒé™éªŒè¯çš„æ€è·¯ã€‚ ç™»å½•ï¼šå½“ç”¨æˆ·å¡«å†™å®Œè´¦å·å’Œå¯†ç åå‘æœåŠ¡ç«¯éªŒè¯æ˜¯å¦æ­£ç¡®ï¼ŒéªŒè¯é€šè¿‡ä¹‹åï¼ŒæœåŠ¡ç«¯ä¼šè¿”å›ä¸€ä¸ªtokenï¼Œæ‹¿åˆ°tokenä¹‹åï¼ˆæˆ‘ä¼šå°†è¿™ä¸ªtokenå­˜è´®åˆ°cookieä¸­ï¼Œä¿è¯åˆ·æ–°é¡µé¢åèƒ½è®°ä½ç”¨æˆ·ç™»å½•çŠ¶æ€ï¼‰ï¼Œå‰ç«¯ä¼šæ ¹æ®tokenå†å»æ‹‰å–ä¸€ä¸ª user_info çš„æ¥å£æ¥è·å–ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯ï¼ˆå¦‚ç”¨æˆ·æƒé™ï¼Œç”¨æˆ·åç­‰ç­‰ä¿¡æ¯ï¼‰ã€‚ æƒé™éªŒè¯ï¼šé€šè¿‡tokenè·å–ç”¨æˆ·å¯¹åº”çš„ roleï¼ŒåŠ¨æ€æ ¹æ®ç”¨æˆ·çš„ role ç®—å‡ºå…¶å¯¹åº”æœ‰æƒé™çš„è·¯ç”±ï¼Œé€šè¿‡ router.addRoutes åŠ¨æ€æŒ‚è½½è¿™äº›è·¯ç”±ã€‚ ä¸Šè¿°æ‰€æœ‰çš„æ•°æ®å’Œæ“ä½œéƒ½æ˜¯é€šè¿‡vuexå…¨å±€ç®¡ç†æ§åˆ¶çš„ã€‚(è¡¥å……è¯´æ˜ï¼šåˆ·æ–°é¡µé¢å vuexçš„å†…å®¹ä¹Ÿä¼šä¸¢å¤±ï¼Œæ‰€ä»¥éœ€è¦é‡å¤ä¸Šè¿°çš„é‚£äº›æ“ä½œ)æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸€èµ·æ‰‹æ‘¸æ‰‹ä¸€æ­¥ä¸€æ­¥å®ç°è¿™ä¸ªç³»ç»Ÿã€‚ ç™»å½•ç¯‡ é¦–å…ˆæˆ‘ä»¬ä¸ç®¡ä»€ä¹ˆæƒé™ï¼Œæ¥å®ç°æœ€åŸºç¡€çš„ç™»å½•åŠŸèƒ½ã€‚ éšä¾¿æ‰¾ä¸€ä¸ªç©ºç™½é¡µé¢æ’¸ä¸Šä¸¤ä¸ªinputçš„æ¡†ï¼Œä¸€ä¸ªæ˜¯ç™»å½•è´¦å·ï¼Œä¸€ä¸ªæ˜¯ç™»å½•å¯†ç ã€‚å†æ”¾ç½®ä¸€ä¸ªç™»å½•æŒ‰é’®ã€‚æˆ‘ä»¬å°†ç™»å½•æŒ‰é’®ä¸Šç»‘ä¸Šclickäº‹ä»¶ï¼Œç‚¹å‡»ç™»å½•ä¹‹åå‘æœåŠ¡ç«¯æäº¤è´¦å·å’Œå¯†ç è¿›è¡ŒéªŒè¯ã€‚ è¿™å°±æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„ç™»å½•é¡µé¢ã€‚å¦‚æœä½ è§‰å¾—è¿˜è¦å†™çš„æ›´åŠ å®Œç¾ç‚¹ï¼Œä½ å¯ä»¥åœ¨å‘æœåŠ¡ç«¯æäº¤ä¹‹å‰å¯¹è´¦å·å’Œå¯†ç åšä¸€æ¬¡ç®€å•çš„æ ¡éªŒã€‚è¯¦ç»†ä»£ç  clickäº‹ä»¶è§¦å‘ç™»å½•æ“ä½œ: this.$store.dispatch('LoginByUsername', this.loginForm).then(() =&gt; { this.$router.push({ path: '/' }); //ç™»å½•æˆåŠŸä¹‹åé‡å®šå‘åˆ°é¦–é¡µ }).catch(err =&gt; { this.$message.error(err); //ç™»å½•å¤±è´¥æç¤ºé”™è¯¯ }); action: LoginByUsername({ commit }, userInfo) { const username = userInfo.username.trim() return new Promise((resolve, reject) =&gt; { loginByUsername(username, userInfo.password).then(response =&gt; { const data = response.data Cookies.set('Token', response.data.token) //ç™»å½•æˆåŠŸåå°†tokenå­˜å‚¨åœ¨cookieä¹‹ä¸­ commit('SET_TOKEN', data.token) resolve() }).catch(error =&gt; { reject(error) }); }); } ç™»å½•æˆåŠŸåï¼ŒæœåŠ¡ç«¯ä¼šè¿”å›ä¸€ä¸ª tokenï¼ˆè¯¥tokençš„æ˜¯ä¸€ä¸ªèƒ½å”¯ä¸€æ ‡ç¤ºç”¨æˆ·èº«ä»½çš„ä¸€ä¸ªkeyï¼‰ï¼Œä¹‹åæˆ‘ä»¬å°†tokenå­˜å‚¨åœ¨æœ¬åœ°cookieä¹‹ä¸­ï¼Œè¿™æ ·ä¸‹æ¬¡æ‰“å¼€é¡µé¢æˆ–è€…åˆ·æ–°é¡µé¢çš„æ—¶å€™èƒ½è®°ä½ç”¨æˆ·çš„ç™»å½•çŠ¶æ€ï¼Œä¸ç”¨å†å»ç™»å½•é¡µé¢é‡æ–°ç™»å½•äº†ã€‚ ps:ä¸ºäº†ä¿è¯å®‰å…¨æ€§ï¼Œå¯ä»¥å°†åå°æ‰€æœ‰tokenæœ‰æ•ˆæœŸ(Expires/Max-Age)éƒ½æ˜¯Sessionï¼Œå°±æ˜¯å½“æµè§ˆå™¨å…³é—­äº†å°±ä¸¢å¤±äº†ã€‚é‡æ–°æ‰“å¼€æ¸¸è§ˆå™¨éƒ½éœ€è¦é‡æ–°ç™»å½•éªŒè¯ï¼Œåç«¯ä¹Ÿä¼šåœ¨æ¯å‘¨å›ºå®šä¸€ä¸ªæ—¶é—´ç‚¹é‡æ–°åˆ·æ–°tokenï¼Œè®©åå°ç”¨æˆ·å…¨éƒ¨é‡æ–°ç™»å½•ä¸€æ¬¡ï¼Œç¡®ä¿åå°ç”¨æˆ·ä¸ä¼šå› ä¸ºç”µè„‘é—å¤±æˆ–è€…å…¶å®ƒåŸå› è¢«äººéšæ„ä½¿ç”¨è´¦å·ã€‚ è·å–ç”¨æˆ·ä¿¡æ¯ç”¨æˆ·ç™»å½•æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬ä¼šåœ¨å…¨å±€é’©å­router.beforeEachä¸­æ‹¦æˆªè·¯ç”±ï¼Œåˆ¤æ–­æ˜¯å¦å·²è·å¾—tokenï¼Œåœ¨è·å¾—tokenä¹‹åæˆ‘ä»¬å°±è¦å»è·å–ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯äº† //router.beforeEach if (store.getters.roles.length === 0) { // åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯å¦å·²æ‹‰å–å®Œuser_infoä¿¡æ¯ store.dispatch('GetInfo').then(res =&gt; { // æ‹‰å–user_info const roles = res.data.role; next();//resolve é’©å­ }) å°±å¦‚å‰é¢æ‰€è¯´çš„ï¼Œæˆ‘åªåœ¨æœ¬åœ°å­˜å‚¨äº†ä¸€ä¸ªç”¨æˆ·çš„tokenï¼Œå¹¶æ²¡æœ‰å­˜å‚¨åˆ«çš„ç”¨æˆ·ä¿¡æ¯ï¼ˆå¦‚ç”¨æˆ·æƒé™ï¼Œç”¨æˆ·åï¼Œç”¨æˆ·å¤´åƒç­‰ï¼‰ã€‚æœ‰äº›äººä¼šé—®ä¸ºä»€ä¹ˆä¸æŠŠä¸€äº›å…¶å®ƒçš„ç”¨æˆ·ä¿¡æ¯ä¹Ÿå­˜ä¸€ä¸‹ï¼Ÿä¸»è¦å‡ºäºå¦‚ä¸‹çš„è€ƒè™‘ï¼š å‡è®¾æˆ‘æŠŠç”¨æˆ·æƒé™å’Œç”¨æˆ·åä¹Ÿå­˜åœ¨äº†æœ¬åœ°ï¼Œä½†æˆ‘è¿™æ—¶å€™ç”¨å¦ä¸€å°ç”µè„‘ç™»å½•ä¿®æ”¹äº†è‡ªå·±çš„ç”¨æˆ·åï¼Œä¹‹åå†ç”¨è¿™å°å­˜æœ‰ä¹‹å‰ç”¨æˆ·ä¿¡æ¯çš„ç”µè„‘ç™»å½•ï¼Œå®ƒé»˜è®¤ä¼šå»è¯»å–æœ¬åœ° cookie ä¸­çš„åå­—ï¼Œå¹¶ä¸ä¼šå»æ‹‰å»æ–°çš„ç”¨æˆ·ä¿¡æ¯ã€‚ æ‰€ä»¥ç°åœ¨çš„ç­–ç•¥æ˜¯ï¼šé¡µé¢ä¼šå…ˆä» cookie ä¸­æŸ¥çœ‹æ˜¯å¦å­˜æœ‰ tokenï¼Œæ²¡æœ‰ï¼Œå°±èµ°ä¸€éä¸Šä¸€éƒ¨åˆ†çš„æµç¨‹é‡æ–°ç™»å½•ï¼Œå¦‚æœæœ‰token,å°±ä¼šæŠŠè¿™ä¸ª token è¿”ç»™åç«¯å»æ‹‰å–user_infoï¼Œä¿è¯ç”¨æˆ·ä¿¡æ¯æ˜¯æœ€æ–°çš„ã€‚ å½“ç„¶å¦‚æœæ˜¯åšäº†å•ç‚¹ç™»å½•å¾—åŠŸèƒ½çš„è¯ï¼Œç”¨æˆ·ä¿¡æ¯å­˜å‚¨åœ¨æœ¬åœ°ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚å½“ä½ ä¸€å°ç”µè„‘ç™»å½•æ—¶ï¼Œå¦ä¸€å°ä¼šè¢«æä¸‹çº¿ï¼Œæ‰€ä»¥æ€»ä¼šé‡æ–°ç™»å½•è·å–æœ€æ–°çš„å†…å®¹ã€‚ è€Œä¸”ä»ä»£ç å±‚é¢æˆ‘å»ºè®®è¿˜æ˜¯æŠŠ loginå’Œget_user_infoä¸¤ä»¶äº‹åˆ†å¼€æ¯”è¾ƒå¥½ï¼Œåœ¨è¿™ä¸ªåç«¯å…¨é¢å¾®æœåŠ¡çš„å¹´ä»£ï¼Œåç«¯åŒå­¦ä¹Ÿæƒ³å†™ä¼˜é›…çš„ä»£ç ~ æƒé™ç¯‡å…ˆè¯´ä¸€è¯´æˆ‘æƒé™æ§åˆ¶çš„ä¸»ä½“æ€è·¯ï¼Œå‰ç«¯ä¼šæœ‰ä¸€ä»½è·¯ç”±è¡¨ï¼Œå®ƒè¡¨ç¤ºäº†æ¯ä¸€ä¸ªè·¯ç”±å¯è®¿é—®çš„æƒé™ã€‚å½“ç”¨æˆ·ç™»å½•ä¹‹åï¼Œé€šè¿‡ token è·å–ç”¨æˆ·çš„ role ï¼ŒåŠ¨æ€æ ¹æ®ç”¨æˆ·çš„ role ç®—å‡ºå…¶å¯¹åº”æœ‰æƒé™çš„è·¯ç”±ï¼Œå†é€šè¿‡router.addRoutesåŠ¨æ€æŒ‚è½½è·¯ç”±ã€‚ä½†è¿™äº›æ§åˆ¶éƒ½åªæ˜¯é¡µé¢çº§çš„ï¼Œè¯´ç™½äº†å‰ç«¯å†æ€ä¹ˆåšæƒé™æ§åˆ¶éƒ½ä¸æ˜¯ç»å¯¹å®‰å…¨çš„ï¼Œåç«¯çš„æƒé™éªŒè¯æ˜¯é€ƒä¸æ‰çš„ã€‚ å¯ä»¥åœ¨å‰ç«¯æ¥æ§åˆ¶é¡µé¢çº§çš„æƒé™ï¼Œä¸åŒæƒé™çš„ç”¨æˆ·æ˜¾ç¤ºä¸åŒçš„ä¾§è¾¹æ å’Œé™åˆ¶å…¶æ‰€èƒ½è¿›å…¥çš„é¡µé¢(ä¹Ÿåšäº†å°‘è®¸æŒ‰é’®çº§åˆ«çš„æƒé™æ§åˆ¶)ï¼Œåç«¯åˆ™ä¼šéªŒè¯æ¯ä¸€ä¸ªæ¶‰åŠè¯·æ±‚çš„æ“ä½œï¼ŒéªŒè¯å…¶æ˜¯å¦æœ‰è¯¥æ“ä½œçš„æƒé™ï¼Œæ¯ä¸€ä¸ªåå°çš„è¯·æ±‚ä¸ç®¡æ˜¯ get è¿˜æ˜¯ post éƒ½ä¼šè®©å‰ç«¯åœ¨è¯·æ±‚ headeré‡Œé¢æºå¸¦ç”¨æˆ·çš„ tokenï¼Œåç«¯ä¼šæ ¹æ®è¯¥ token æ¥éªŒè¯ç”¨æˆ·æ˜¯å¦æœ‰æƒé™æ‰§è¡Œè¯¥æ“ä½œã€‚è‹¥æ²¡æœ‰æƒé™åˆ™æŠ›å‡ºä¸€ä¸ªå¯¹åº”çš„çŠ¶æ€ç ï¼Œå‰ç«¯æ£€æµ‹åˆ°è¯¥çŠ¶æ€ç ï¼Œåšå‡ºç›¸å¯¹åº”çš„æ“ä½œã€‚ æƒé™ å‰ç«¯oråç«¯ æ¥æ§åˆ¶ï¼Ÿæœ‰å¾ˆå¤šäººè¡¨ç¤ºä»–ä»¬å…¬å¸çš„è·¯ç”±è¡¨æ˜¯äºåç«¯æ ¹æ®ç”¨æˆ·çš„æƒé™åŠ¨æ€ç”Ÿæˆçš„ï¼Œä½†æ˜¯ï¼Œä¸é‡‡å–è¿™ç§æ–¹å¼çš„åŸå› å¦‚ä¸‹ï¼š é¡¹ç›®ä¸æ–­çš„è¿­ä»£ä½ ä¼šå¼‚å¸¸ç—›è‹¦ï¼Œå‰ç«¯æ–°å¼€å‘ä¸€ä¸ªé¡µé¢è¿˜è¦è®©åç«¯é…ä¸€ä¸‹è·¯ç”±å’Œæƒé™ï¼Œè®©æˆ‘ä»¬æƒ³äº†æ›¾ç»å‰åç«¯ä¸åˆ†ç¦»ï¼Œè¢«åç«¯æ”¯é…çš„é‚£æ®µææ€–æ—¶é—´äº†ã€‚ å…¶æ¬¡ï¼Œå°±æ‹¿æˆ‘å¸çš„ä¸šåŠ¡æ¥è¯´ï¼Œè™½ç„¶åç«¯çš„ç¡®ä¹Ÿæ˜¯æœ‰æƒé™éªŒè¯çš„ï¼Œä½†å®ƒçš„éªŒè¯å…¶å®æ˜¯é’ˆå¯¹ä¸šåŠ¡æ¥åˆ’åˆ†çš„ï¼Œæ¯”å¦‚è¶…çº§ç¼–è¾‘å¯ä»¥å‘å¸ƒæ–‡ç« ï¼Œè€Œå®ä¹ ç¼–è¾‘åªèƒ½ç¼–è¾‘æ–‡ç« ä¸èƒ½å‘å¸ƒï¼Œä½†å¯¹äºå‰ç«¯æ¥è¯´ä¸ç®¡æ˜¯è¶…çº§ç¼–è¾‘è¿˜æ˜¯å®ä¹ ç¼–è¾‘éƒ½æ˜¯æœ‰æƒé™è¿›å…¥æ–‡ç« ç¼–è¾‘é¡µé¢çš„ã€‚æ‰€ä»¥å‰ç«¯å’Œåç«¯æƒé™çš„åˆ’åˆ†æ˜¯ä¸å¤ªä¸€è‡´ã€‚ è¿˜æœ‰ä¸€ç‚¹æ˜¯å°±vue2.2.0ä¹‹å‰å¼‚æ­¥æŒ‚è½½è·¯ç”±æ˜¯å¾ˆéº»çƒ¦çš„ä¸€ä»¶äº‹ï¼ä¸è¿‡å¥½åœ¨å®˜æ–¹ä¹Ÿå‡ºäº†æ–°çš„apiï¼Œè™½ç„¶æœ¬æ„æ˜¯æ¥è§£å†³ssrçš„ç—›ç‚¹çš„ã€‚ã€‚ã€‚ addRoutesåœ¨ä¹‹å‰é€šè¿‡åç«¯åŠ¨æ€è¿”å›å‰ç«¯è·¯ç”±ä¸€ç›´å¾ˆéš¾åšçš„ï¼Œå› ä¸ºvue-routerå¿…é¡»æ˜¯è¦vueåœ¨å®ä¾‹åŒ–ä¹‹å‰å°±æŒ‚è½½ä¸Šå»çš„ï¼Œä¸å¤ªæ–¹ä¾¿åŠ¨æ€æ”¹å˜ã€‚ä¸è¿‡å¥½åœ¨vue2.2.0ä»¥åæ–°å¢äº†router.addRoutes Dynamically add more routes to the router. The argument must be an Array using the same route config format with the routes constructor option. æœ‰äº†è¿™ä¸ªæˆ‘ä»¬å°±å¯ç›¸å¯¹æ–¹ä¾¿çš„åšæƒé™æ§åˆ¶äº†ã€‚(æ¥¼ä¸»ä¹‹å‰åœ¨æƒé™æ§åˆ¶ä¹Ÿèµ°äº†ä¸å°‘æ­ªè·¯ï¼Œå¯ä»¥åœ¨é¡¹ç›®çš„commitè®°å½•ä¸­çœ‹åˆ°ï¼Œé‡æ„äº†å¾ˆå¤šæ¬¡ï¼Œæœ€æ—©æ²¡ç”¨addRouteæ•´ä¸ªæƒé™æ§åˆ¶ä»£ç é‡Œéƒ½æ˜¯å„ç§if/elseçš„é€»è¾‘åˆ¤æ–­ï¼Œä»£ç ç›¸å½“çš„è€¦åˆå’Œå¤æ‚) å…·ä½“å®ç° åˆ›å»ºvueå®ä¾‹çš„æ—¶å€™å°†vue-routeræŒ‚è½½ï¼Œä½†è¿™ä¸ªæ—¶å€™vue-routeræŒ‚è½½ä¸€äº›ç™»å½•æˆ–è€…ä¸ç”¨æƒé™çš„å…¬ç”¨çš„é¡µé¢ã€‚ å½“ç”¨æˆ·ç™»å½•åï¼Œè·å–ç”¨roleï¼Œå°†roleå’Œè·¯ç”±è¡¨æ¯ä¸ªé¡µé¢çš„éœ€è¦çš„æƒé™ä½œæ¯”è¾ƒï¼Œç”Ÿæˆæœ€ç»ˆç”¨æˆ·å¯è®¿é—®çš„è·¯ç”±è¡¨ã€‚ è°ƒç”¨router.addRoutes(store.getters.addRouters)æ·»åŠ ç”¨æˆ·å¯è®¿é—®çš„è·¯ç”±ã€‚ ä½¿ç”¨vuexç®¡ç†è·¯ç”±è¡¨ï¼Œæ ¹æ®vuexä¸­å¯è®¿é—®çš„è·¯ç”±æ¸²æŸ“ä¾§è¾¹æ ç»„ä»¶ã€‚ router.jsé¦–å…ˆæˆ‘ä»¬å®ç°router.jsè·¯ç”±è¡¨ï¼Œè¿™é‡Œå°±æ‹¿å‰ç«¯æ§åˆ¶è·¯ç”±æ¥ä¸¾ä¾‹(åç«¯å­˜å‚¨çš„ä¹Ÿå·®ä¸å¤šï¼Œç¨å¾®æ”¹é€ ä¸€ä¸‹å°±å¥½äº†) // router.js import Vue from 'vue'; import Router from 'vue-router'; import Login from '../views/login/'; const dashboard = resolve =&gt; require(['../views/dashboard/index'], resolve); //ä½¿ç”¨äº†vue-routerçš„[Lazy Loading Routes](https://router.vuejs.org/en/advanced/lazy-loading.html) //æ‰€æœ‰æƒé™é€šç”¨è·¯ç”±è¡¨ //å¦‚é¦–é¡µå’Œç™»å½•é¡µå’Œä¸€äº›ä¸ç”¨æƒé™çš„å…¬ç”¨é¡µé¢ export const constantRouterMap = [ { path: '/login', component: Login }, { path: '/', component: Layout, redirect: '/dashboard', name: 'é¦–é¡µ', children: [{ path: 'dashboard', component: dashboard }] }, ] //å®ä¾‹åŒ–vueçš„æ—¶å€™åªæŒ‚è½½constantRouter export default new Router({ routes: constantRouterMap }); //å¼‚æ­¥æŒ‚è½½çš„è·¯ç”± //åŠ¨æ€éœ€è¦æ ¹æ®æƒé™åŠ è½½çš„è·¯ç”±è¡¨ export const asyncRouterMap = [ { path: '/permission', component: Layout, name: 'æƒé™æµ‹è¯•', meta: { role: ['admin','super_editor'] }, //é¡µé¢éœ€è¦çš„æƒé™ children: [ { path: 'index', component: Permission, name: 'æƒé™æµ‹è¯•é¡µ', meta: { role: ['admin','super_editor'] } //é¡µé¢éœ€è¦çš„æƒé™ }] }, { path: '*', redirect: '/404', hidden: true } ]; è¿™é‡Œæˆ‘ä»¬æ ¹æ® vue-routerå®˜æ–¹æ¨è çš„æ–¹æ³•é€šè¿‡metaæ ‡ç­¾æ¥æ ‡ç¤ºæ”¹é¡µé¢èƒ½è®¿é—®çš„æƒé™æœ‰å“ªäº›ã€‚å¦‚meta: { role: ['admin','super_editor'] }è¡¨ç¤ºè¯¥é¡µé¢åªæœ‰adminå’Œè¶…çº§ç¼–è¾‘æ‰èƒ½æœ‰èµ„æ ¼è¿›å…¥ã€‚ æ³¨æ„äº‹é¡¹ï¼šè¿™é‡Œæœ‰ä¸€ä¸ªéœ€è¦éå¸¸æ³¨æ„çš„åœ°æ–¹å°±æ˜¯ 404 é¡µé¢ä¸€å®šè¦æœ€ååŠ è½½ï¼Œå¦‚æœæ”¾åœ¨constantRouterMapä¸€åŒå£°æ˜äº†404ï¼Œåé¢çš„æ‰€ä»¥é¡µé¢éƒ½ä¼šè¢«æ‹¦æˆªåˆ°404ï¼Œè¯¦ç»†çš„é—®é¢˜è§addRoutes when youâ€™ve got a wildcard route for 404s does not work main.jså…³é”®çš„main.js // main.js router.beforeEach((to, from, next) =&gt; { if (store.getters.token) { // åˆ¤æ–­æ˜¯å¦æœ‰token if (to.path === '/login') { next({ path: '/' }); } else { if (store.getters.roles.length === 0) { // åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯å¦å·²æ‹‰å–å®Œuser_infoä¿¡æ¯ store.dispatch('GetInfo').then(res =&gt; { // æ‹‰å–info const roles = res.data.role; store.dispatch('GenerateRoutes', { roles }).then(() =&gt; { // ç”Ÿæˆå¯è®¿é—®çš„è·¯ç”±è¡¨ router.addRoutes(store.getters.addRouters) // åŠ¨æ€æ·»åŠ å¯è®¿é—®è·¯ç”±è¡¨ next({ ...to, replace: true }) // hackæ–¹æ³• ç¡®ä¿addRouteså·²å®Œæˆ ,set the replace: true so the navigation will not leave a history record }) }).catch(err =&gt; { console.log(err); }); } else { next() //å½“æœ‰ç”¨æˆ·æƒé™çš„æ—¶å€™ï¼Œè¯´æ˜æ‰€æœ‰å¯è®¿é—®è·¯ç”±å·²ç”Ÿæˆ å¦‚è®¿é—®æ²¡æƒé™çš„å…¨é¢ä¼šè‡ªåŠ¨è¿›å…¥404é¡µé¢ } } } else { if (whiteList.indexOf(to.path) !== -1) { // åœ¨å…ç™»å½•ç™½åå•ï¼Œç›´æ¥è¿›å…¥ next(); } else { next('/login'); // å¦åˆ™å…¨éƒ¨é‡å®šå‘åˆ°ç™»å½•é¡µ } } }); è¿™é‡Œçš„router.beforeEachä¹Ÿç»“åˆäº†ä¸Šä¸€ç« è®²çš„ä¸€äº›ç™»å½•é€»è¾‘ä»£ç ã€‚ ä¸Šé¢ä¸€å¼ å›¾å°±æ˜¯åœ¨ä½¿ç”¨addRoutesæ–¹æ³•ä¹‹å‰çš„æƒé™åˆ¤æ–­ï¼Œéå¸¸çš„ç¹çï¼Œå› ä¸ºæˆ‘æ˜¯æŠŠæ‰€æœ‰çš„è·¯ç”±éƒ½æŒ‚åœ¨äº†ä¸Šå»ï¼Œæ‰€æœ‰æˆ‘è¦å„ç§åˆ¤æ–­å½“å‰çš„ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è¿›å…¥è¯¥é¡µé¢ï¼Œå„ç§if/elseçš„åµŒå¥—ï¼Œç»´æŠ¤èµ·æ¥ç›¸å½“çš„å›°éš¾ã€‚ä½†ç°åœ¨æœ‰äº†addRoutesä¹‹åå°±éå¸¸çš„æ–¹ä¾¿ï¼Œæˆ‘åªæŒ‚è½½äº†ç”¨æˆ·æœ‰æƒé™è¿›å…¥çš„é¡µé¢ï¼Œæ²¡æƒé™ï¼Œè·¯ç”±è‡ªåŠ¨å¸®æˆ‘è·³è½¬çš„404,çœå»äº†ä¸å°‘çš„åˆ¤æ–­ã€‚ è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªå°hackçš„åœ°æ–¹ï¼Œå°±æ˜¯router.addRoutesä¹‹åçš„next()å¯èƒ½ä¼šå¤±æ•ˆï¼Œå› ä¸ºå¯èƒ½next()çš„æ—¶å€™è·¯ç”±å¹¶æ²¡æœ‰å®Œå…¨addå®Œæˆï¼Œå¥½åœ¨æŸ¥é˜…æ–‡æ¡£å‘ç° next(â€˜/â€˜) or next({ path: â€˜/â€˜ }): redirect to a different location. The current navigation will be aborted and a new one will be started. è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç®€å•çš„é€šè¿‡next(to)å·§å¦™çš„é¿å¼€ä¹‹å‰çš„é‚£ä¸ªé—®é¢˜äº†ã€‚è¿™è¡Œä»£ç é‡æ–°è¿›å…¥router.beforeEachè¿™ä¸ªé’©å­ï¼Œè¿™æ—¶å€™å†é€šè¿‡next()æ¥é‡Šæ”¾é’©å­ï¼Œå°±èƒ½ç¡®ä¿æ‰€æœ‰çš„è·¯ç”±éƒ½å·²ç»æŒ‚åœ¨å®Œæˆäº†ã€‚ store/permission.jså°±æ¥å°±è®²ä¸€è®² GenerateRoutes Action // store/permission.js import { asyncRouterMap, constantRouterMap } from 'src/router'; function hasPermission(roles, route) { if (route.meta &amp;&amp; route.meta.role) { return roles.some(role =&gt; route.meta.role.indexOf(role) &gt;= 0) } else { return true } } const permission = { state: { routers: constantRouterMap, addRouters: [] }, mutations: { SET_ROUTERS: (state, routers) =&gt; { state.addRouters = routers; state.routers = constantRouterMap.concat(routers); } }, actions: { GenerateRoutes({ commit }, data) { return new Promise(resolve =&gt; { const { roles } = data; const accessedRouters = asyncRouterMap.filter(v =&gt; { if (roles.indexOf('admin') &gt;= 0) return true; if (hasPermission(roles, v)) { if (v.children &amp;&amp; v.children.length &gt; 0) { v.children = v.children.filter(child =&gt; { if (hasPermission(roles, child)) { return child } return false; }); return v } else { return v } } return false; }); commit('SET_ROUTERS', accessedRouters); resolve(); }) } } }; export default permission; è¿™é‡Œçš„ä»£ç è¯´ç™½äº†å°±æ˜¯å¹²äº†ä¸€ä»¶äº‹ï¼Œé€šè¿‡ç”¨æˆ·çš„æƒé™å’Œä¹‹å‰åœ¨router.jsé‡Œé¢asyncRouterMapçš„æ¯ä¸€ä¸ªé¡µé¢æ‰€éœ€è¦çš„æƒé™åšåŒ¹é…ï¼Œæœ€åè¿”å›ä¸€ä¸ªè¯¥ç”¨æˆ·èƒ½å¤Ÿè®¿é—®è·¯ç”±æœ‰å“ªäº›ã€‚ ä¾§è¾¹æ æœ€åä¸€ä¸ªæ¶‰åŠåˆ°æƒé™çš„åœ°æ–¹å°±æ˜¯ä¾§è¾¹æ ï¼Œä¸è¿‡åœ¨å‰é¢çš„åŸºç¡€ä¸Šå·²ç»å¾ˆæ–¹ä¾¿å°±èƒ½å®ç°åŠ¨æ€æ˜¾ç¤ºä¾§è¾¹æ äº†ã€‚è¿™é‡Œä¾§è¾¹æ åŸºäºelement-uiçš„NavMenuæ¥å®ç°çš„ã€‚ ä»£ç æœ‰ç‚¹å¤šä¸è´´è¯¦ç»†çš„ä»£ç äº†ï¼Œæœ‰å…´è¶£çš„å¯ä»¥ç›´æ¥å»githubä¸Šçœ‹åœ°å€ï¼Œæˆ–è€…ç›´æ¥çœ‹å…³äºä¾§è¾¹æ çš„æ–‡æ¡£ã€‚ è¯´ç™½äº†å°±æ˜¯éå†ä¹‹å‰ç®—å‡ºæ¥çš„permission_routersï¼Œé€šè¿‡vuexæ‹¿åˆ°ä¹‹ååŠ¨æ€v-foræ¸²æŸ“è€Œå·²ã€‚ä¸è¿‡è¿™é‡Œå› ä¸ºæœ‰ä¸€äº›ä¸šåŠ¡éœ€æ±‚æ‰€ä»¥åŠ äº†å¾ˆå¤šåˆ¤æ–­ æ¯”å¦‚æˆ‘ä»¬åœ¨å®šä¹‰è·¯ç”±çš„æ—¶å€™ä¼šåŠ å¾ˆå¤šå‚æ•° /** * hidden: true if `hidden:true` will not show in the sidebar(default is false) * redirect: noredirect if `redirect:noredirect` will no redirct in the breadcrumb * name:'router-name' the name is used by &lt;keep-alive&gt; (must set!!!) * meta : { role: ['admin','editor'] will control the page role (you can set multiple roles) title: 'title' the name show in submenu and breadcrumb (recommend set) icon: 'svg-name' the icon show in the sidebar, noCache: true if fasle ,the page will no be cached(default is false) } **/ è¿™é‡Œä»…ä¾›å‚è€ƒï¼Œè€Œä¸”æœ¬é¡¹ç›®ä¸ºäº†æ”¯æŒæ— é™åµŒå¥—è·¯ç”±ï¼Œæ‰€æœ‰ä¾§è¾¹æ è¿™å—ä½¿ç”¨äº†é€’å½’ç»„ä»¶ã€‚å¦‚éœ€è¦è¯·å¤§å®¶è‡ªè¡Œæ”¹é€ ï¼Œæ¥æ‰“é€ æ»¡è¶³è‡ªå·±ä¸šåŠ¡éœ€æ±‚çš„ä¾§è¾¹æ ã€‚ ä¾§è¾¹æ é«˜äº®é—®é¢˜:å¾ˆå¤šäººåœ¨ç¾¤é‡Œé—®ä¸ºä»€ä¹ˆè‡ªå·±çš„ä¾§è¾¹æ ä¸èƒ½è·Ÿç€è‡ªå·±çš„è·¯ç”±é«˜äº®ï¼Œå…¶å®å¾ˆç®€å•ï¼Œelement-uiå®˜æ–¹å·²ç»ç»™äº†default-activeæ‰€ä»¥æˆ‘ä»¬åªè¦ :default-active=â€$route.pathâ€ å°†default-activeä¸€ç›´æŒ‡å‘å½“å‰è·¯ç”±å°±å¯ä»¥äº†ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å• æŒ‰é’®çº§åˆ«æƒé™æ§åˆ¶æœ‰å¾ˆå¤šäººä¸€ç›´åœ¨é—®å…³äºæŒ‰é’®çº§åˆ«ç²’åº¦çš„æƒé™æ§åˆ¶æ€ä¹ˆåšã€‚æˆ‘å¸ç°åœ¨æ˜¯è¿™æ ·çš„ï¼ŒçœŸæ­£éœ€è¦æŒ‰é’®çº§åˆ«æ§åˆ¶çš„åœ°æ–¹ä¸æ˜¯å¾ˆå¤šï¼Œç°åœ¨æ˜¯é€šè¿‡è·å–åˆ°ç”¨æˆ·çš„roleä¹‹åï¼Œåœ¨å‰ç«¯ç”¨v-ifæ‰‹åŠ¨åˆ¤æ–­æ¥åŒºåˆ†ä¸åŒæƒé™å¯¹åº”çš„æŒ‰é’®çš„ã€‚ç†ç”±å‰é¢ä¹Ÿè¯´äº†ï¼Œæˆ‘å¸é¢—ç²’åº¦çš„æƒé™åˆ¤æ–­æ˜¯äº¤ç»™åç«¯æ¥åšçš„ï¼Œæ¯ä¸ªæ“ä½œåç«¯éƒ½ä¼šè¿›è¡Œæƒé™åˆ¤æ–­ã€‚è€Œä¸”æˆ‘è§‰å¾—å…¶å®å‰ç«¯çœŸæ­£éœ€è¦æŒ‰é’®çº§åˆ«åˆ¤æ–­çš„åœ°æ–¹ä¸æ˜¯å¾ˆå¤šï¼Œå¦‚æœä¸€ä¸ªé¡µé¢æœ‰å¾ˆå¤šç§ä¸åŒæƒé™çš„æŒ‰é’®ï¼Œæˆ‘è§‰å¾—æ›´å¤šçš„åº”è¯¥æ˜¯è€ƒè™‘äº§å“å±‚é¢æ˜¯å¦è®¾è®¡åˆç†ã€‚å½“ç„¶ä½ å¼ºè¡Œè¯´æˆ‘æƒ³åšæŒ‰é’®çº§åˆ«çš„æƒé™æ§åˆ¶ï¼Œä½ ä¹Ÿå¯ä»¥å‚ç…§è·¯ç”±å±‚é¢çš„åšæ³•ï¼Œæä¸€ä¸ªæ“ä½œæƒé™è¡¨ã€‚ã€‚ã€‚ä½†ä¸ªäººè§‰å¾—æœ‰ç‚¹å¤šæ­¤ä¸€ä¸¾ã€‚æˆ–è€…å°†å®ƒå°è£…æˆä¸€ä¸ªæŒ‡ä»¤éƒ½æ˜¯å¯ä»¥çš„ã€‚ axiosæ‹¦æˆªå™¨è¿™é‡Œå†è¯´ä¸€è¯´ axios å§ã€‚è™½ç„¶åœ¨ä¸Šä¸€ç¯‡ç³»åˆ—æ–‡ç« ä¸­ç®€å•ä»‹ç»è¿‡ï¼Œä¸è¿‡è¿™é‡Œè¿˜æ˜¯è¦åœ¨å” å¨ä¸€ä¸‹ã€‚å¦‚ä¸Šæ–‡æ‰€è¯´ï¼Œæˆ‘å¸æœåŠ¡ç«¯å¯¹æ¯ä¸€ä¸ªè¯·æ±‚éƒ½ä¼šéªŒè¯æƒé™ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬é’ˆå¯¹ä¸šåŠ¡å°è£…äº†ä¸€ä¸‹è¯·æ±‚ã€‚é¦–å…ˆæˆ‘ä»¬é€šè¿‡requestæ‹¦æˆªå™¨åœ¨æ¯ä¸ªè¯·æ±‚å¤´é‡Œé¢å¡å…¥tokenï¼Œå¥½è®©åç«¯å¯¹è¯·æ±‚è¿›è¡Œæƒé™éªŒè¯ã€‚å¹¶åˆ›å»ºä¸€ä¸ªresponeæ‹¦æˆªå™¨ï¼Œå½“æœåŠ¡ç«¯è¿”å›ç‰¹æ®Šçš„çŠ¶æ€ç ï¼Œæˆ‘ä»¬ç»Ÿä¸€åšå¤„ç†ï¼Œå¦‚æ²¡æƒé™æˆ–è€…tokenå¤±æ•ˆç­‰æ“ä½œã€‚ import axios from 'axios' import { Message } from 'element-ui' import store from '@/store' import { getToken } from '@/utils/auth' // åˆ›å»ºaxioså®ä¾‹ const service = axios.create({ baseURL: process.env.BASE_API, // apiçš„base_url timeout: 5000 // è¯·æ±‚è¶…æ—¶æ—¶é—´ }) // requestæ‹¦æˆªå™¨ service.interceptors.request.use(config =&gt; { // Do something before request is sent if (store.getters.token) { config.headers['X-Token'] = getToken() // è®©æ¯ä¸ªè¯·æ±‚æºå¸¦token--['X-Token']ä¸ºè‡ªå®šä¹‰key è¯·æ ¹æ®å®é™…æƒ…å†µè‡ªè¡Œä¿®æ”¹ } return config }, error =&gt; { // Do something with request error console.log(error) // for debug Promise.reject(error) }) // responeæ‹¦æˆªå™¨ service.interceptors.response.use( response =&gt; response, /** * ä¸‹é¢çš„æ³¨é‡Šä¸ºé€šè¿‡responseè‡ªå®šä¹‰codeæ¥æ ‡ç¤ºè¯·æ±‚çŠ¶æ€ï¼Œå½“codeè¿”å›å¦‚ä¸‹æƒ…å†µä¸ºæƒé™æœ‰é—®é¢˜ï¼Œç™»å‡ºå¹¶è¿”å›åˆ°ç™»å½•é¡µ * å¦‚é€šè¿‡xmlhttprequest çŠ¶æ€ç æ ‡è¯† é€»è¾‘å¯å†™åœ¨ä¸‹é¢errorä¸­ */ // const res = response.data; // if (res.code !== 20000) { // Message({ // message: res.message, // type: 'error', // duration: 5 * 1000 // }); // // 50008:éæ³•çš„token; 50012:å…¶ä»–å®¢æˆ·ç«¯ç™»å½•äº†; 50014:Token è¿‡æœŸäº†; // if (res.code === 50008 || res.code === 50012 || res.code === 50014) { // MessageBox.confirm('ä½ å·²è¢«ç™»å‡ºï¼Œå¯ä»¥å–æ¶ˆç»§ç»­ç•™åœ¨è¯¥é¡µé¢ï¼Œæˆ–è€…é‡æ–°ç™»å½•', 'ç¡®å®šç™»å‡º', { // confirmButtonText: 'é‡æ–°ç™»å½•', // cancelButtonText: 'å–æ¶ˆ', // type: 'warning' // }).then(() =&gt; { // store.dispatch('FedLogOut').then(() =&gt; { // location.reload();// ä¸ºäº†é‡æ–°å®ä¾‹åŒ–vue-routerå¯¹è±¡ é¿å…bug // }); // }) // } // return Promise.reject('error'); // } else { // return response.data; // } error =&gt; { console.log('err' + error)// for debug Message({ message: error.message, type: 'error', duration: 5 * 1000 }) return Promise.reject(error) }) export default service ä¸¤æ­¥éªŒè¯æ–‡ç« ä¸€å¼€å§‹ä¹Ÿè¯´äº†ï¼Œåå°çš„å®‰å…¨æ€§æ˜¯å¾ˆé‡è¦çš„ï¼Œç®€ç®€å•å•çš„ä¸€ä¸ªè´¦å·+å¯†ç çš„æ–¹å¼æ˜¯å¾ˆéš¾ä¿è¯å®‰å…¨æ€§çš„ã€‚æ‰€ä»¥æˆ‘å¸çš„åå°é¡¹ç›®éƒ½æ˜¯ç”¨äº†ä¸¤æ­¥éªŒè¯çš„æ–¹å¼ï¼Œä¹‹å‰æˆ‘ä»¬ä¹Ÿå°è¯•è¿‡ä½¿ç”¨åŸºäº google-authenticator æˆ–è€…youbikeyè¿™æ ·çš„æ–¹å¼ä½†éš¾åº¦å’Œæ“ä½œæˆæœ¬éƒ½æ¯”è¾ƒå¤§ã€‚åæ¥è¿˜æ˜¯å‡†å¤‡å€ŸåŠ©è…¾è®¯çˆ¸çˆ¸ï¼Œè¿™å¹´ä»£è°ä¸ç”¨å¾®ä¿¡ã€‚ã€‚ã€‚å®‰å…¨æ€§è…¾è®¯çˆ¸çˆ¸ä¹Ÿå¸®æˆ‘åšå¥½äº†ä¿éšœã€‚ æ¥¼ä¸»å»ºè®®ä¸¤æ­¥éªŒè¯è¦æ”¯æŒå¤šä¸ªæ¸ é“ä¸è¦åªå¾®ä¿¡æˆ–è€…QQï¼Œå‰æ®µæ—¶é—´QQç¬¬ä¸‰æ–¹ç™»å½•å°±å‡ºäº†bugï¼Œå®˜æ–¹ä¸¤ä¸‰å¤©æ‰ä¿®å¥½çš„ï¼Œå®³æˆ‘èƒŒäº†é”…/(ã„’oã„’)/~~ ã€‚ è¿™é‡Œçš„ä¸¤éƒ¨éªŒè¯æœ‰ç‚¹åä¸å‰¯å®ï¼Œå…¶å®å°±æ˜¯è´¦å·å¯†ç éªŒè¯è¿‡ä¹‹åè¿˜éœ€è¦ä¸€ä¸ªç»‘å®šçš„ç¬¬ä¸‰æ–¹å¹³å°ç™»å½•éªŒè¯è€Œå·²ã€‚ å†™èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼Œåœ¨åŸæœ‰ç™»å½•å¾—é€»è¾‘ä¸Šæ”¹é€ ä¸€ä¸‹å°±å¥½ã€‚ this.$store.dispatch('LoginByEmail', this.loginForm).then(() =&gt; { //this.$router.push({ path: '/' }); //ä¸é‡å®šå‘åˆ°é¦–é¡µ this.showDialog = true //å¼¹å‡ºé€‰æ‹©ç¬¬ä¸‰æ–¹å¹³å°çš„dialog }).catch(err =&gt; { this.$message.error(err); //ç™»å½•å¤±è´¥æç¤ºé”™è¯¯ }); ç™»å½•æˆåŠŸä¹‹åä¸ç›´æ¥è·³åˆ°é¦–é¡µè€Œæ˜¯è®©ç”¨æˆ·ä¸¤æ­¥ç™»å½•ï¼Œé€‰æ‹©ç™»å½•å¾—å¹³å°ã€‚ æ¥ä¸‹æ¥å°±æ˜¯æ‰€æœ‰ç¬¬ä¸‰æ–¹ç™»å½•ä¸€æ ·çš„åœ°æ–¹é€šè¿‡ OAuth2.0 æˆæƒã€‚è¿™ä¸ªå„å¤§å¹³å°å¤§åŒå°å¼‚ï¼Œå¤§å®¶è‡ªè¡ŒæŸ¥é˜…æ–‡æ¡£ï¼Œä¸å±•å¼€äº†ï¼Œå°±è¯´ä¸€ä¸ªå¾®ä¿¡æˆæƒæ¯”è¾ƒå‘çš„åœ°æ–¹ã€‚æ³¨æ„ä½ è¿å‚æ•°çš„é¡ºåºéƒ½ä¸èƒ½æ¢ï¼Œä¸ç„¶ä¼šéªŒè¯ä¸é€šè¿‡ã€‚å…·ä½“ä»£ç ï¼ŒåŒæ—¶æˆ‘ä¹Ÿå°è£…äº†openWindowæ–¹æ³•å¤§å®¶è‡ªè¡Œçœ‹å§ã€‚ å½“ç¬¬ä¸‰æ–¹æˆæƒæˆåŠŸä¹‹åéƒ½ä¼šè·³åˆ°ä¸€ä¸ªä½ ä¹‹å‰æœ‰ä¸€ä¸ªä¼ å…¥redirectâ€”â€”uriçš„é¡µé¢ å¦‚å¾®ä¿¡è¿˜å¿…é¡»æ˜¯ä½ æˆæƒè´¦å·çš„ä¸€çº§åŸŸåã€‚æ‰€ä»¥ä½ æˆæƒçš„åŸŸåæ˜¯vue-element-admin.com,ä½ å°±å¿…é¡»é‡å®šå‘åˆ°vue-element-admin.com/xxx/ä¸‹é¢ï¼Œæ‰€ä»¥ä½ éœ€è¦å†™ä¸€ä¸ªé‡å®šå‘çš„æœåŠ¡ï¼Œå¦‚vue-element-admin.com/auth/redirect?a.com è·³åˆ°è¯¥é¡µé¢æ—¶ä¼šå†æ¬¡é‡å®šå‘ç»™a.comã€‚ æ‰€ä»¥æˆ‘ä»¬åå°ä¹Ÿéœ€è¦å¼€ä¸€ä¸ªauthredirecté¡µé¢ï¼šä»£ç ã€‚ä»–çš„ä½œç”¨æ˜¯ç¬¬ä¸‰æ–¹ç™»å½•æˆåŠŸä¹‹åä¼šé»˜è®¤è·³åˆ°æˆæƒçš„é¡µé¢ï¼Œæˆæƒçš„é¡µé¢ä¼šå†æ¬¡é‡å®šå‘å›æˆ‘ä»¬çš„åå°ï¼Œç”±äºæ˜¯spaï¼Œæ”¹å˜è·¯ç”±çš„ä½“éªŒä¸å¥½ï¼Œæˆ‘ä»¬é€šè¿‡window.opener.location.hrefçš„æ–¹å¼æ”¹å˜hashï¼Œåœ¨login.jsé‡Œé¢å†ç›‘å¬hashçš„å˜åŒ–ã€‚å½“hashå˜åŒ–æ—¶ï¼Œè·å–ä¹‹å‰ç¬¬ä¸‰æ–¹ç™»å½•æˆåŠŸè¿”å›çš„codeä¸ç¬¬ä¸€æ­¥è´¦å·å¯†ç ç™»å½•ä¹‹åè¿”å›çš„uidä¸€åŒå‘é€ç»™æœåŠ¡ç«¯éªŒè¯æ˜¯å¦æ­£ç¡®ï¼Œå¦‚æœæ­£ç¡®ï¼Œè¿™æ—¶å€™å°±æ˜¯çœŸæ­£çš„ç™»å½•æˆåŠŸã€‚ created() { window.addEventListener('hashchange', this.afterQRScan); }, destroyed() { window.removeEventListener('hashchange', this.afterQRScan); }, afterQRScan() { const hash = window.location.hash.slice(1); const hashObj = getQueryObject(hash); const originUrl = window.location.origin; history.replaceState({}, '', originUrl); const codeMap = { wechat: 'code', tencent: 'code' }; const codeName = hashObj[codeMap[this.auth_type]]; this.$store.dispatch('LoginByThirdparty', codeName).then(() =&gt; { this.$router.push({ path: '/' }); }); } åˆ°è¿™é‡Œæ¶‰åŠç™»å½•æƒé™çš„ä¸œè¥¿ä¹Ÿå·®ä¸å¤šè®²å®Œäº†ï¼Œè¿™é‡Œæ¥¼ä¸»åªæ˜¯ç»™äº†å¤§å®¶ä¸€ä¸ªå®ç°çš„æ€è·¯(éƒ½æ˜¯æ¥¼ä¸»ä¸æ–­æ‘¸ç´¢çš„è¡€æ³ªå²)ï¼Œæ¯ä¸ªå…¬å¸å®ç°çš„æ–¹æ¡ˆéƒ½æœ‰äº›å‡ºå…¥ï¼Œè¯·è°¨æ…é€‰æ‹©é€‚åˆè‡ªå·±ä¸šåŠ¡å½¢æ€çš„è§£å†³æ–¹æ¡ˆã€‚å¦‚æœæœ‰ä»€ä¹ˆæƒ³æ³•æˆ–è€…å»ºè®®æ¬¢è¿å»æœ¬é¡¹ç›®ä¸‹ç•™è¨€ï¼Œä¸€åŒè®¨è®ºã€‚","categories":[],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://promisefine.github.io/tags/Vue/"}],"author":"Doney"},{"title":"vueé¡¹ç›®æ¶æ„æ­å»º-1","slug":"vueé¡¹ç›®æ¶æ„æ­å»º-1","date":"2020-05-23T07:05:27.000Z","updated":"2021-07-16T07:10:06.607Z","comments":true,"path":"posts/320aa1d0.html","link":"","permalink":"https://promisefine.github.io/posts/320aa1d0.html","excerpt":"","text":"vueé¡¹ç›®æ¶æ„æ­å»º-1å‰è¨€è¯´å¥½çš„æ•™ç¨‹ç»ˆäºæ¥äº†ï¼Œç¬¬ä¸€ç¯‡æ–‡ç« ä¸»è¦æ¥è¯´ä¸€è¯´åœ¨å¼€å§‹å†™å®é™…ä¸šåŠ¡ä»£ç ä¹‹å‰çš„ä¸€äº›å‡†å¤‡å·¥ä½œå§ï¼Œä½†è¿™é‡Œä¸ä¼šæ•™ä½  webpack çš„åŸºç¡€é…ç½®ï¼Œçƒ­æ›´æ–°åŸç†æ˜¯ä»€ä¹ˆï¼Œwebpacké€Ÿåº¦ä¼˜åŒ–ç­‰ç­‰ï¼Œæœ‰éœ€æ±‚çš„è¯·è‡ªè¡Œ googleï¼Œç›¸å…³æ–‡ç« å·²ç»å¾ˆå¤šäº†ã€‚ ç›®å½•ç»“æ„â”œâ”€â”€ build // æ„å»ºç›¸å…³ â”œâ”€â”€ config // é…ç½®ç›¸å…³ â”œâ”€â”€ src // æºä»£ç  â”‚ â”œâ”€â”€ api // æ‰€æœ‰è¯·æ±‚ â”‚ â”œâ”€â”€ assets // ä¸»é¢˜ å­—ä½“ç­‰é™æ€èµ„æº â”‚ â”œâ”€â”€ components // å…¨å±€å…¬ç”¨ç»„ä»¶ â”‚ â”œâ”€â”€ directive // å…¨å±€æŒ‡ä»¤ â”‚ â”œâ”€â”€ filtres // å…¨å±€ filter â”‚ â”œâ”€â”€ icons // é¡¹ç›®æ‰€æœ‰ svg icons â”‚ â”œâ”€â”€ lang // å›½é™…åŒ– language â”‚ â”œâ”€â”€ mock // é¡¹ç›®mock æ¨¡æ‹Ÿæ•°æ® â”‚ â”œâ”€â”€ router // è·¯ç”± â”‚ â”œâ”€â”€ store // å…¨å±€ storeç®¡ç† â”‚ â”œâ”€â”€ styles // å…¨å±€æ ·å¼ â”‚ â”œâ”€â”€ utils // å…¨å±€å…¬ç”¨æ–¹æ³• â”‚ â”œâ”€â”€ vendor // å…¬ç”¨vendor â”‚ â”œâ”€â”€ views // view â”‚ â”œâ”€â”€ App.vue // å…¥å£é¡µé¢ â”‚ â”œâ”€â”€ main.js // å…¥å£ åŠ è½½ç»„ä»¶ åˆå§‹åŒ–ç­‰ â”‚ â””â”€â”€ permission.js // æƒé™ç®¡ç† â”œâ”€â”€ static // ç¬¬ä¸‰æ–¹ä¸æ‰“åŒ…èµ„æº â”‚ â””â”€â”€ Tinymce // å¯Œæ–‡æœ¬ â”œâ”€â”€ .babelrc // babel-loader é…ç½® â”œâ”€â”€ eslintrc.js // eslint é…ç½®é¡¹ â”œâ”€â”€ .gitignore // git å¿½ç•¥é¡¹ â”œâ”€â”€ favicon.ico // faviconå›¾æ ‡ â”œâ”€â”€ index.html // htmlæ¨¡æ¿ â””â”€â”€ package.json // package.json å¤åˆ¶ä»£ç  è¿™é‡Œæ¥ç®€å•è®²ä¸€ä¸‹srcæ–‡ä»¶ api å’Œ viewsç®€å•æˆªå–ä¸€ä¸‹å…¬å¸åå°é¡¹ç›®ï¼Œç°åœ¨åå°å¤§æ¦‚æœ‰å››äº”åä¸ª api æ¨¡å— å¦‚å›¾å¯è§æ¨¡å—æœ‰å¾ˆå¤šï¼Œè€Œä¸”éšç€ä¸šåŠ¡çš„è¿­ä»£ï¼Œæ¨¡å—è¿˜ä¼šä¼šè¶Šæ¥è¶Šå¤šã€‚ æ‰€ä»¥è¿™é‡Œå»ºè®®æ ¹æ®ä¸šåŠ¡æ¨¡å—æ¥åˆ’åˆ† viewsï¼Œå¹¶ä¸” å°†views å’Œ api ä¸¤ä¸ªæ¨¡å—ä¸€ä¸€å¯¹åº”ï¼Œä»è€Œæ–¹ä¾¿ç»´æŠ¤ã€‚ å¦‚ article æ¨¡å—ä¸‹æ”¾çš„éƒ½æ˜¯æ–‡ç« ç›¸å…³çš„ apiï¼Œè¿™æ ·ä¸ç®¡é¡¹ç›®æ€ä¹ˆç´¯åŠ ï¼Œapiå’Œviewsçš„ç»´æŠ¤è¿˜æ˜¯æ¸…æ™°çš„ï¼Œå½“ç„¶ä¹Ÿæœ‰ä¸€äº›å…¨åŒºå…¬ç”¨çš„apiæ¨¡å—ï¼Œå¦‚ä¸ƒç‰›uploadï¼ŒremoteSearchç­‰ç­‰ï¼Œè¿™äº›å•ç‹¬æ”¾ç½®å°±è¡Œã€‚ componentsè¿™é‡Œçš„ components æ”¾ç½®çš„éƒ½æ˜¯å…¨å±€å…¬ç”¨çš„ä¸€äº›ç»„ä»¶ï¼Œå¦‚ä¸Šä¼ ç»„ä»¶ï¼Œå¯Œæ–‡æœ¬ç­‰ç­‰ã€‚ä¸€äº›é¡µé¢çº§çš„ç»„ä»¶å»ºè®®è¿˜æ˜¯æ”¾åœ¨å„è‡ªviewsæ–‡ä»¶ä¸‹ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚ storeè¿™é‡Œæˆ‘ä¸ªäººå»ºè®®ä¸è¦ä¸ºäº†ç”¨ vuex è€Œç”¨ vuexã€‚å°±æ‹¿æˆ‘å¸çš„åå°é¡¹ç›®æ¥è¯´ï¼Œå®ƒè™½ç„¶æ¯”è¾ƒåºå¤§ï¼Œå‡ åä¸ªä¸šåŠ¡æ¨¡å—ï¼Œå‡ åç§æƒé™ï¼Œä½†ä¸šåŠ¡ä¹‹é—´çš„è€¦åˆåº¦æ˜¯å¾ˆä½çš„ï¼Œæ–‡ç« æ¨¡å—å’Œè¯„è®ºæ¨¡å—å‡ ä¹æ˜¯ä¿©ä¸ªç‹¬ç«‹çš„ä¸œè¥¿ï¼Œæ‰€ä»¥æ ¹æœ¬æ²¡æœ‰å¿…è¦ä½¿ç”¨ vuex æ¥å­˜å‚¨dataï¼Œæ¯ä¸ªé¡µé¢é‡Œå­˜æ”¾è‡ªå·±çš„ data å°±è¡Œã€‚å½“ç„¶æœ‰äº›æ•°æ®è¿˜æ˜¯éœ€è¦ç”¨ vuex æ¥ç»Ÿä¸€ç®¡ç†çš„ï¼Œå¦‚ç™»å½•token,ç”¨æˆ·ä¿¡æ¯ï¼Œæˆ–è€…æ˜¯ä¸€äº›å…¨å±€ä¸ªäººåå¥½è®¾ç½®ç­‰ï¼Œè¿˜æ˜¯ç”¨vuexç®¡ç†æ›´åŠ çš„æ–¹ä¾¿ï¼Œå…·ä½“å½“ç„¶è¿˜æ˜¯è¦ç»“åˆè‡ªå·±çš„ä¸šåŠ¡åœºæ™¯çš„ã€‚æ€»ä¹‹è¿˜æ˜¯é‚£å¥è¯ï¼Œä¸è¦ä¸ºäº†ç”¨vuexè€Œç”¨vuexï¼ webpack æ‰‹æ­webpack jquery (ä¸å»ºè®®ç”¨)ç®¡ç†åå°ä¸åŒäºå‰å°é¡¹ç›®ï¼Œä¼šç»å¸¸ç”¨åˆ°ä¸€äº›ç¬¬ä¸‰æ–¹æ’ä»¶ï¼Œä½†æœ‰äº›æ’ä»¶æ˜¯ä¸å¾—ä¸ä¾èµ– jquery çš„ï¼Œå¦‚å¸‚é¢å¾ˆå¤šå¯Œæ–‡æœ¬åŸºéƒ½æ˜¯ä¾èµ– jquery çš„ï¼Œæ‰€ä»¥å¹²è„†å°±ç›´æ¥å¼•å…¥åˆ°é¡¹ç›®ä¸­çœäº‹(gzipä¹‹ååªæœ‰34kbï¼Œè€Œä¸”å¸¸å¹´from cache,ä¸è¦è€ƒè™‘é‚£äº›å¹æ¯›æ±‚ç–µçš„å¤§å°é—®é¢˜ï¼Œè¿™å‡ kbå’Œæé«˜çš„å¼€å‘æ•ˆç‡æ ¹æœ¬ä¸èƒ½æ¯”)ã€‚ä½†æ˜¯å¦‚æœç¬¬ä¸‰æ–¹åº“çš„ä»£ç ä¸­å‡ºç°!åˆ™ä¼šç›´æ¥æŠ¥é”™ã€‚è¦è¾¾åˆ°ç±»ä¼¼çš„æ•ˆæœï¼Œåˆ™éœ€è¦ä½¿ç”¨ webpack å†…ç½®çš„ ProvidePlugin æ’ä»¶ï¼Œé…ç½®å¾ˆç®€å•ï¼Œåªéœ€è¦ new webpack.ProvidePlugin({ $: 'jquery' , 'jQuery': 'jquery' }) è¿™æ ·å½“ webpack ç¢°åˆ° require çš„ç¬¬ä¸‰æ–¹åº“ä¸­å‡ºç°å…¨å±€çš„$ã€jQeuryå’Œwindow.jQuery æ—¶ï¼Œå°±ä¼šä½¿ç”¨ node_module ä¸‹ jquery åŒ… export å‡ºæ¥çš„ä¸œè¥¿äº†ã€‚ aliaså½“é¡¹ç›®é€æ¸å˜å¤§ä¹‹åï¼Œæ–‡ä»¶ä¸æ–‡ä»¶ç›´æ¥çš„å¼•ç”¨å…³ç³»ä¼šå¾ˆå¤æ‚ï¼Œè¿™æ—¶å€™å°±éœ€è¦ä½¿ç”¨alias äº†ã€‚ æœ‰çš„äººå–œæ¬¢alias æŒ‡å‘srcç›®å½•ä¸‹ï¼Œå†ä½¿ç”¨ç›¸å¯¹è·¯å¾„æ‰¾æ–‡ä»¶ resolve: { alias: { '@': resolve(__dirname, 'src') } } //ä½¿ç”¨ import stickTop from '@/components/stickTop' æˆ–è€…ä¹Ÿå¯ä»¥ alias: { 'src': path.resolve(__dirname, '../src'), 'components': path.resolve(__dirname, '../src/components'), 'api': path.resolve(__dirname, '../src/api'), 'utils': path.resolve(__dirname, '../src/utils'), 'store': path.resolve(__dirname, '../src/store'), 'router': path.resolve(__dirname, '../src/router') } //ä½¿ç”¨ import stickTop from 'components/stickTop' import getArticle from 'api/article' æ²¡æœ‰å¥½ä¸åå¯¹ä¸é”™ï¼Œçº¯çœ‹ä¸ªäººå–œå¥½å’Œå›¢é˜Ÿè§„èŒƒã€‚ ESLintä¸ç®¡æ˜¯å¤šäººåˆä½œè¿˜æ˜¯ä¸ªäººé¡¹ç›®ï¼Œä»£ç è§„èŒƒæ˜¯å¾ˆé‡è¦çš„ã€‚è¿™æ ·åšä¸ä»…å¯ä»¥å¾ˆå¤§ç¨‹åº¦åœ°é¿å…åŸºæœ¬è¯­æ³•é”™è¯¯ï¼Œä¹Ÿä¿è¯äº†ä»£ç çš„å¯è¯»æ€§ã€‚è¿™æ‰€è°“å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ï¼Œä¸ªäººæ¨è eslint+vscode æ¥å†™ vueï¼Œç»å¯¹æœ‰ç§é£ä¸€èˆ¬çš„æ„Ÿè§‰ã€‚ æ¯æ¬¡ä¿å­˜ï¼Œvscodeå°±èƒ½æ ‡çº¢ä¸ç¬¦åˆeslintè§„åˆ™çš„åœ°æ–¹ï¼ŒåŒæ—¶è¿˜ä¼šåšä¸€äº›ç®€å•çš„è‡ªæˆ‘ä¿®æ­£ã€‚å®‰è£…æ­¥éª¤å¦‚ä¸‹ï¼š é¦–å…ˆå®‰è£…eslintæ’ä»¶ å®‰è£…å¹¶é…ç½®å®Œæˆ ESLint åï¼Œæˆ‘ä»¬ç»§ç»­å›åˆ° VSCode è¿›è¡Œæ‰©å±•è®¾ç½®ï¼Œä¾æ¬¡ç‚¹å‡» æ–‡ä»¶ &gt; é¦–é€‰é¡¹ &gt; è®¾ç½® æ‰“å¼€ VSCode é…ç½®æ–‡ä»¶,æ·»åŠ å¦‚ä¸‹é…ç½® \"files.autoSave\":\"off\", \"eslint.validate\": [ \"javascript\", \"javascriptreact\", \"html\", { \"language\": \"vue\", \"autoFix\": true } ], \"eslint.options\": { \"plugins\": [\"html\"] } è¿™æ ·æ¯æ¬¡ä¿å­˜çš„æ—¶å€™å°±å¯ä»¥æ ¹æ®æ ¹ç›®å½•ä¸‹.eslintrc.jsä½ é…ç½®çš„eslintè§„åˆ™æ¥æ£€æŸ¥å’Œåšä¸€äº›ç®€å•çš„fixã€‚è¿™é‡Œæä¾›äº†ä¸€ä»½æˆ‘å¹³æ—¶çš„eslintè§„åˆ™åœ°å€ï¼Œéƒ½ç®€å•å†™ä¸Šäº†æ³¨é‡Šã€‚æ¯ä¸ªäººå’Œå›¢é˜Ÿéƒ½æœ‰è‡ªå·±çš„ä»£ç è§„èŒƒï¼Œç»Ÿä¸€å°±å¥½äº†ï¼Œå»æ‰“é€ ä¸€ä»½å±äºè‡ªå·±çš„eslint è§„åˆ™ä¸Šä¼ åˆ°npmå§ï¼Œå¦‚é¥¿äº†ä¹ˆå›¢é˜Ÿçš„ configï¼Œvueçš„ configã€‚ vscode æ’ä»¶å’Œé…ç½®æ¨è å°è£… axiosæˆ‘ä»¬ç»å¸¸é‡åˆ°ä¸€äº›çº¿ä¸Š çš„bugï¼Œä½†æµ‹è¯•ç¯å¢ƒå¾ˆéš¾æ¨¡æ‹Ÿã€‚å…¶å®å¯ä»¥é€šè¿‡ç®€å•çš„é…ç½®å°±å¯ä»¥åœ¨æœ¬åœ°è°ƒè¯•çº¿ä¸Šç¯å¢ƒã€‚ è¿™é‡Œç»“åˆä¸šåŠ¡å°è£…äº†axios ï¼Œçº¿ä¸Šä»£ç  import axios from 'axios' import { Message } from 'element-ui' import store from '@/store' import { getToken } from '@/utils/auth' // åˆ›å»ºaxioså®ä¾‹ const service = axios.create({ baseURL: process.env.BASE_API, // apiçš„base_url timeout: 5000 // è¯·æ±‚è¶…æ—¶æ—¶é—´ }) // requestæ‹¦æˆªå™¨ service.interceptors.request.use(config =&gt; { // Do something before request is sent if (store.getters.token) { config.headers['X-Token'] = getToken() // è®©æ¯ä¸ªè¯·æ±‚æºå¸¦token--['X-Token']ä¸ºè‡ªå®šä¹‰key è¯·æ ¹æ®å®é™…æƒ…å†µè‡ªè¡Œä¿®æ”¹ } return config }, error =&gt; { // Do something with request error console.log(error) // for debug Promise.reject(error) }) // responeæ‹¦æˆªå™¨ service.interceptors.response.use( response =&gt; response, /** * ä¸‹é¢çš„æ³¨é‡Šä¸ºé€šè¿‡responseè‡ªå®šä¹‰codeæ¥æ ‡ç¤ºè¯·æ±‚çŠ¶æ€ï¼Œå½“codeè¿”å›å¦‚ä¸‹æƒ…å†µä¸ºæƒé™æœ‰é—®é¢˜ï¼Œç™»å‡ºå¹¶è¿”å›åˆ°ç™»å½•é¡µ * å¦‚é€šè¿‡xmlhttprequest çŠ¶æ€ç æ ‡è¯† é€»è¾‘å¯å†™åœ¨ä¸‹é¢errorä¸­ */ // const res = response.data; // if (res.code !== 20000) { // Message({ // message: res.message, // type: 'error', // duration: 5 * 1000 // }); // // 50008:éæ³•çš„token; 50012:å…¶ä»–å®¢æˆ·ç«¯ç™»å½•äº†; 50014:Token è¿‡æœŸäº†; // if (res.code === 50008 || res.code === 50012 || res.code === 50014) { // MessageBox.confirm('ä½ å·²è¢«ç™»å‡ºï¼Œå¯ä»¥å–æ¶ˆç»§ç»­ç•™åœ¨è¯¥é¡µé¢ï¼Œæˆ–è€…é‡æ–°ç™»å½•', 'ç¡®å®šç™»å‡º', { // confirmButtonText: 'é‡æ–°ç™»å½•', // cancelButtonText: 'å–æ¶ˆ', // type: 'warning' // }).then(() =&gt; { // store.dispatch('FedLogOut').then(() =&gt; { // location.reload();// ä¸ºäº†é‡æ–°å®ä¾‹åŒ–vue-routerå¯¹è±¡ é¿å…bug // }); // }) // } // return Promise.reject('error'); // } else { // return response.data; // } error =&gt; { console.log('err' + error)// for debug Message({ message: error.message, type: 'error', duration: 5 * 1000 }) return Promise.reject(error) }) export default service import request from '@/utils/request' //ä½¿ç”¨ export function getInfo(params) { return request({ url: '/user/info', method: 'get', params }); } æ¯”å¦‚åå°é¡¹ç›®ï¼Œæ¯ä¸€ä¸ªè¯·æ±‚éƒ½æ˜¯è¦å¸¦ token æ¥éªŒè¯æƒé™çš„ï¼Œè¿™æ ·å°è£…ä»¥ä¸‹çš„è¯æˆ‘ä»¬å°±ä¸ç”¨æ¯ä¸ªè¯·æ±‚éƒ½æ‰‹åŠ¨æ¥å¡ tokenï¼Œæˆ–è€…æ¥åšä¸€äº›ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†ï¼Œä¸€åŠ³æ°¸é€¸ã€‚ è€Œä¸”å› ä¸ºæˆ‘ä»¬çš„ api æ˜¯æ ¹æ® env ç¯å¢ƒå˜é‡åŠ¨æ€åˆ‡æ¢çš„ï¼Œå¦‚æœä»¥åçº¿ä¸Šå‡ºç°äº†bugï¼Œæˆ‘ä»¬åªéœ€é…ç½®ä¸€ä¸‹ @/config/dev.env.js å†é‡å¯ä¸€ä¸‹æœåŠ¡ï¼Œå°±èƒ½åœ¨æœ¬åœ°æ¨¡æ‹Ÿçº¿ä¸Šçš„ç¯å¢ƒäº†ã€‚ module.exports = { NODE_ENV: '\"development\"', BASE_API: '\"https://api-dev\"', //ä¿®æ”¹ä¸º'\"https://api-prod\"'å°±è¡Œäº† APP_ORIGIN: '\"https://wallstreetcn.com\"' //çº¿ä¸Šåœ°å€ pcç«™ä¸ºvue+ssr } å¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘è°ƒè¯•çº¿ä¸Šbugäº†ã€‚ å½“ç„¶è¿™é‡Œåªæ˜¯ç®€å•ä¸¾äº†ä¸ªä¾‹å­ï¼Œaxiosè¿˜å¯ä»¥æ‰§è¡Œå¤šä¸ªå¹¶å‘è¯·æ±‚ï¼Œæ‹¦æˆªå™¨ä»€ä¹ˆçš„ï¼Œå¤§å®¶è‡ªè¡Œå»ç ”ç©¶å§ã€‚ å¤šç¯å¢ƒvue-cli é»˜è®¤åªæä¾›äº†devå’Œprodä¸¤ç§ç¯å¢ƒã€‚ä½†å…¶å®æ­£çœŸçš„å¼€å‘æµç¨‹å¯èƒ½è¿˜ä¼šå¤šä¸€ä¸ªsitæˆ–è€…stageç¯å¢ƒï¼Œå°±æ˜¯æ‰€è°“çš„æµ‹è¯•ç¯å¢ƒå’Œé¢„å‘å¸ƒç¯å¢ƒã€‚æ‰€ä»¥æˆ‘ä»¬å°±è¦ç®€å•çš„ä¿®æ”¹ä¸€ä¸‹ä»£ç ã€‚å…¶å®å¾ˆç®€å•å°±æ˜¯è®¾ç½®ä¸åŒçš„ç¯å¢ƒå˜é‡ \"build:prod\": \"NODE_ENV=production node build/build.js\", \"build:sit\": \"NODE_ENV=sit node build/build.js\", ä¹‹ååœ¨ä»£ç é‡Œè‡ªè¡Œåˆ¤æ–­ï¼Œæƒ³å¹²å°±å¹²å•¥ var env = process.env.NODE_ENV === 'production' ? config.build.prodEnv : config.build.sitEnv æ–°ç‰ˆçš„ vue-cli ä¹Ÿå†…ç½®äº† webpack-bundle-analyzer ä¸€ä¸ªæ¨¡å—åˆ†æçš„ä¸œè¥¿ï¼Œç›¸å½“çš„å¥½ç”¨ã€‚ä½¿ç”¨æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œå’Œä¹‹å‰ä¸€æ ·å°è£…ä¸€ä¸ª npm script å°±å¯ä»¥ã€‚ //package.json \"build:sit-preview\": \"cross-env NODE_ENV=production env_config=sit npm_config_preview=true npm_config_report=true node build/build.js\" //ä¹‹åé€šè¿‡process.env.npm_config_reportæ¥åˆ¤æ–­æ˜¯å¦æ¥å¯ç”¨webpack-bundle-analyzer var BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin webpackConfig.plugins.push(new BundleAnalyzerPlugin()) webpack-bundle-analyzerè¿™ä¸ªæ’ä»¶è¿˜æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œå¯¹åæœŸçš„ä»£ç ä¼˜åŒ–ä»€ä¹ˆçš„ï¼Œæœ€é‡è¦çš„æ˜¯å®ƒå¤Ÿè£…é€¼~ å‰åç«¯äº¤äº’æ¯ä¸ªå…¬å¸éƒ½æœ‰è‡ªå·±ä¸€å¥—çš„å¼€å‘æµç¨‹ï¼Œæ²¡æœ‰ç»å¯¹çš„å¥½ä¸åã€‚è¿™é‡Œæˆ‘æ¥è®²è®²æˆ‘å¸çš„å‰åç«¯äº¤äº’æµç¨‹ã€‚ è·¨åŸŸé—®é¢˜é¦–å…ˆå‰åç«¯äº¤äº’ä¸å¯é¿å…çš„å°±ä¼šé‡åˆ°è·¨åŸŸé—®é¢˜ï¼Œæˆ‘å¸ç°åœ¨å…¨æ˜¯ç”¨ corsæ¥è§£å†³çš„ï¼Œå¦‚æœä½ å¸åç«¯å«Œéº»çƒ¦ä¸è‚¯é…ç½®çš„è¯ï¼Œdevç¯å¢ƒä¹Ÿå¯ä»¥é€šè¿‡ webpack-dev-serverçš„proxyæ¥è§£å†³ï¼Œå¼€å‘ç¯å¢ƒç”¨nginxåä»£ç†ä¸€ä¸‹å°±å¥½äº†ï¼Œå…·ä½“é…ç½®è¿™é‡Œå°±ä¸å±•å¼€äº†ã€‚ å‰åç«¯çš„äº¤äº’é—®é¢˜å…¶å®å¤§å®¶ä¹ŸçŸ¥é“ï¼Œå¹³æ—¶çš„å¼€å‘ä¸­äº¤æµæˆæœ¬å æ®äº†æˆ‘ä»¬å¾ˆå¤§ä¸€éƒ¨åˆ†æ—¶é—´ï¼Œä½†å‰åç«¯å¦‚æœæœ‰ä¸€ä¸ªå¥½çš„åä½œæ–¹å¼çš„è¯èƒ½è§£å†³å¾ˆå¤šæ—¶é—´ã€‚æˆ‘å¸å¼€å‘æµç¨‹éƒ½æ˜¯å‰åç«¯å’Œäº§å“ä¸€èµ·å¼€ä¼šè®¨è®ºé¡¹ç›®ï¼Œä¹‹ååç«¯æ ¹æ®éœ€æ±‚ï¼Œé¦–å…ˆå®šä¹‰æ•°æ®æ ¼å¼å’Œapiï¼Œç„¶å mock api ç”Ÿæˆå¥½æ–‡æ¡£ï¼Œæˆ‘ä»¬å‰ç«¯æ‰æ˜¯å¯¹æ¥æ¥å£çš„ã€‚è¿™é‡Œæ¨èä¸€ä¸ªæ–‡æ¡£ç”Ÿæˆå™¨ swaggerã€‚ swaggeræ˜¯ä¸€ä¸ªREST APIsæ–‡æ¡£ç”Ÿæˆå·¥å…·ï¼Œå¯ä»¥åœ¨è®¸å¤šä¸åŒçš„å¹³å°ä¸Šä»ä»£ç æ³¨é‡Šä¸­è‡ªåŠ¨ç”Ÿæˆï¼Œå¼€æºï¼Œæ”¯æŒå¤§éƒ¨åˆ†è¯­è¨€ï¼Œç¤¾åŒºå¥½ï¼Œæ€»ä¹‹å°±æ˜¯ä¸€ä¸ªå¼ºå¤§ï¼Œå¦‚ä¸‹å›¾çš„api æ–‡æ¡£(swaggerè‡ªåŠ¨ç”Ÿæˆï¼Œuiå¿½ç•¥) api åœ°å€ï¼Œéœ€è¦ä¼ æ˜¯æ²¡å‚æ•°ï¼Œéœ€è¦çš„ä¼ å‚ç±»å‹ï¼Œè¿”å›çš„æ•°æ®æ ¼å¼ä»€ä¹ˆéƒ½ä¸€æ¸…äºŒæ¥šäº†ã€‚ å‰ç«¯è‡ªè¡Œmockå¦‚æœåç«¯ä¸è‚¯æ¥å¸®ä½  mock æ•°æ®çš„è¯ï¼Œå‰ç«¯è‡ªå·±æ¥ mock ä¹Ÿæ˜¯å¾ˆç®€å•çš„ã€‚ä½ å¯ä»¥ä½¿ç”¨mock server æˆ–è€…ä½¿ç”¨ mockjs + rap ä¹Ÿæ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚ ä¸ä¹…å‰å‡ºçš„ easy-mockä¹Ÿç›¸å½“çš„ä¸é”™ï¼Œè¿˜èƒ½ç»“åˆ swaggerã€‚ æˆ‘ä»¬å¤§å‰ç«¯ç»ˆäºä¸ç”¨å†çœ‹åç«¯çš„è„¸è‰²äº†~ iconfontelement-ui é»˜è®¤çš„iconä¸æ˜¯å¾ˆå¤šï¼Œè¿™é‡Œè¦å®‰åˆ©ä¸€æ³¢é˜¿é‡Œçš„iconfontç®€ç›´æ˜¯ç¥å™¨ï¼Œä¸ç®¡æ˜¯å…¬å¸é¡¹ç›®è¿˜æ˜¯ä¸ªäººé¡¹ç›®éƒ½åœ¨ä½¿ç”¨ã€‚å®ƒæä¾›äº†png,ai,svgä¸‰ç§æ ¼å¼ï¼ŒåŒæ—¶ä½¿ç”¨ä¹Ÿæ”¯æŒunicodeï¼Œfont-classï¼Œsymbolä¸‰ç§æ–¹å¼ã€‚ è¯¦ç»†å…·ä½“çš„ä½¿ç”¨å¯ä»¥è§æ–‡ç«  æ‰‹æ‘¸æ‰‹ï¼Œå¸¦ä½ ä¼˜é›…çš„ä½¿ç”¨ icon router-viewdifferent router the same component vueã€‚çœŸå®çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œè¿™ç§æƒ…å†µå¾ˆå¤šã€‚ æˆ‘åˆ›å»ºå’Œç¼–è¾‘çš„é¡µé¢ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªcomponent,é»˜è®¤æƒ…å†µä¸‹å½“è¿™ä¸¤ä¸ªé¡µé¢åˆ‡æ¢æ—¶å¹¶ä¸ä¼šè§¦å‘vueçš„createdæˆ–è€…mountedé’©å­ï¼Œå®˜æ–¹è¯´ä½ å¯ä»¥é€šè¿‡watch $routeçš„å˜åŒ–æ¥åšå¤„ç†ï¼Œä½†å…¶å®è¯´çœŸçš„è¿˜æ˜¯è›®éº»çƒ¦çš„ã€‚åæ¥å‘ç°å…¶å®å¯ä»¥ç®€å•çš„åœ¨ router-viewä¸ŠåŠ ä¸Šä¸€ä¸ªå”¯ä¸€çš„keyï¼Œæ¥ä¿è¯è·¯ç”±åˆ‡æ¢æ—¶éƒ½ä¼šé‡æ–°æ¸²æŸ“è§¦å‘é’©å­äº†ã€‚è¿™æ ·ç®€å•çš„å¤šäº†ã€‚ &lt;router-view :key=\"key\"&gt;&lt;/router-view&gt; computed: { key() { return this.$route.name !== undefined? this.$route.name + +new Date(): this.$route + +new Date() } } ä¼˜åŒ–æœ‰äº›äººä¼šè§‰å¾—ç°åœ¨æ„å»ºæ˜¯ä¸æ˜¯æœ‰ç‚¹æ…¢ï¼Œå¯ä»¥æå‡æŠ€æœ¯æ ˆä¸ºå®¹å™¨æœåŠ¡ï¼Œåå°é¡¹ç›®ä¼šæŠŠdistæ–‡ä»¶å¤¹é‡Œçš„ä¸œè¥¿éƒ½ä¼šæ‰“åŒ…æˆä¸€ä¸ªdockeré•œåƒï¼ŒåŸºæœ¬æ­¥éª¤ä¸º npm install npm run build:prod åŠ æ‰“åŒ…é•œåƒï¼Œä¸€å…±æ˜¯è€—æ—¶å¦‚ä¸‹ è¿˜æ˜¯å±äºèƒ½æ¥å—æ—¶é—´çš„èŒƒå›´ã€‚ ä¸»ç«™PCç«™åŸºäºnodejsã€Vueå®ç°æœåŠ¡ç«¯æ¸²æŸ“ï¼Œæ‰€ä»¥ä¸ä»…éœ€è¦ä¾èµ–nodejsï¼Œè€Œä¸”éœ€è¦åˆ©ç”¨pm2è¿›è¡Œnodejsç”Ÿå‘½å‘¨æœŸçš„ç®¡ç†ã€‚ä¸ºäº†åŠ é€Ÿçº¿ä¸Šé•œåƒæ„å»ºçš„é€Ÿåº¦ï¼Œæˆ‘ä»¬åˆ©ç”¨taobaoæº registry.npm.taobao.org è¿›è¡ŒåŠ é€Ÿ, å¹¶ä¸”å°†ä¸€äº›å¸¸è§çš„npmä¾èµ–æ‰“å…¥äº†åŸºç¡€é•œåƒï¼Œé¿å…æ¯æ¬¡éƒ½éœ€è¦é‡æ–°ä¸‹è½½ã€‚ è¿™é‡Œæ³¨æ„ä¸‹ å»ºè®®ä¸è¦ä½¿ç”¨cnpm installæˆ–è€…update å®ƒçš„åŒ…éƒ½æ˜¯ä¸€ä¸ªlinkï¼Œåæ­£ä¼šæœ‰å„ç§è¯¡å¼‚çš„bugï¼Œè¿™é‡Œå»ºè®®è¿™æ ·ä½¿ç”¨ npm install --registry=https://registry.npm.taobao.org å¦‚æœä½ è§‰å¾—æ…¢è¿˜æ˜¯æœ‰å¯ä¼˜åŒ–çš„ç©ºé—´å¦‚ä½¿ç”¨webpack dll æˆ–è€…æŠŠé‚£äº›ç¬¬ä¸‰æ–¹vendorå•ç‹¬æ‰“åŒ… externalå‡ºå»ï¼Œæˆ–è€…æˆ‘å¸ç°åœ¨ç”¨çš„æ˜¯http2 å¯ä»¥ä½¿ç”¨AggressiveSplittingPluginç­‰ç­‰ï¼Œè¿™é‡Œæœ‰éœ€æ±‚çš„å¯ä»¥è‡ªè¡Œä¼˜åŒ–ã€‚","categories":[],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://promisefine.github.io/tags/Vue/"}],"author":"Doney"},{"title":"æ¶æ„å›¾ä»¥åŠvueçš„ç®€ä»‹","slug":"vueç®€ä»‹","date":"2020-05-08T08:48:01.000Z","updated":"2021-07-16T06:49:55.328Z","comments":true,"path":"posts/c0add594.html","link":"","permalink":"https://promisefine.github.io/posts/c0add594.html","excerpt":"","text":"[æ¶æ„å›¾ä»¥åŠvueçš„ç®€ä»‹]æ¶æ„å›¾å‰åç«¯åˆ†ç¦»æ€»æ¶æ„å›¾ å‰ç«¯æ¶æ„è®¾è®¡å›¾ MVVM æ¶æ„æ¨¡å¼MVVM çš„ç®€ä»‹MVVM ç”± Model,View,ViewModel ä¸‰éƒ¨åˆ†æ„æˆï¼ŒModel å±‚ä»£è¡¨æ•°æ®æ¨¡å‹ï¼Œä¹Ÿå¯ä»¥åœ¨Modelä¸­å®šä¹‰æ•°æ®ä¿®æ”¹å’Œæ“ä½œçš„ä¸šåŠ¡é€»è¾‘ï¼›View ä»£è¡¨UI ç»„ä»¶ï¼Œå®ƒè´Ÿè´£å°†æ•°æ®æ¨¡å‹è½¬åŒ–æˆUI å±•ç°å‡ºæ¥ï¼ŒViewModel æ˜¯ä¸€ä¸ªåŒæ­¥View å’Œ Modelçš„å¯¹è±¡ã€‚ åœ¨MVVMæ¶æ„ä¸‹ï¼ŒView å’Œ Model ä¹‹é—´å¹¶æ²¡æœ‰ç›´æ¥çš„è”ç³»ï¼Œè€Œæ˜¯é€šè¿‡ViewModelè¿›è¡Œäº¤äº’ï¼ŒModel å’Œ ViewModel ä¹‹é—´çš„äº¤äº’æ˜¯åŒå‘çš„ï¼Œ å› æ­¤View æ•°æ®çš„å˜åŒ–ä¼šåŒæ­¥åˆ°Modelä¸­ï¼Œè€ŒModel æ•°æ®çš„å˜åŒ–ä¹Ÿä¼šç«‹å³ååº”åˆ°View ä¸Šã€‚ ViewModel é€šè¿‡åŒå‘æ•°æ®ç»‘å®šæŠŠ View å±‚å’Œ Model å±‚è¿æ¥äº†èµ·æ¥ï¼Œè€ŒView å’Œ Model ä¹‹é—´çš„åŒæ­¥å·¥ä½œå®Œå…¨æ˜¯è‡ªåŠ¨çš„ï¼Œæ— éœ€äººä¸ºå¹²æ¶‰ï¼Œå› æ­¤å¼€å‘è€…åªéœ€å…³æ³¨ä¸šåŠ¡é€»è¾‘ï¼Œä¸éœ€è¦æ‰‹åŠ¨æ“ä½œDOM, ä¸éœ€è¦å…³æ³¨æ•°æ®çŠ¶æ€çš„åŒæ­¥é—®é¢˜ï¼Œå¤æ‚çš„æ•°æ®çŠ¶æ€ç»´æŠ¤å®Œå…¨ç”± MVVM æ¥ç»Ÿä¸€ç®¡ç†ã€‚ MVVM æ¨¡å¼å›¾ vue1. å­¦ä¹  vue çš„å‰æ ä½ åªéœ€è¦äº†è§£å…³äº HTMLã€CSS å’Œ JavaScript çš„ä¸­çº§çŸ¥è¯†ï¼Œå°±èƒ½è¿›è¡Œå¼€å‘ã€‚ vueç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„æ¸è¿›å¼æ¡†æ¶ï¼Œæ¸è¿›å¼ä»£è¡¨çš„å«ä¹‰æ˜¯ï¼šä¸»å¼ æœ€å°‘ã€‚æ¯ä¸ªæ¡†æ¶éƒ½ä¸å¯é¿å…ä¼šæœ‰è‡ªå·±çš„ä¸€äº›ç‰¹ç‚¹ï¼Œä»è€Œä¼šå¯¹ä½¿ç”¨è€…æœ‰ä¸€å®šçš„è¦æ±‚ï¼Œè¿™äº›è¦æ±‚å°±æ˜¯ä¸»å¼ ï¼Œä¸»å¼ æœ‰å¼ºæœ‰å¼±ï¼Œå®ƒçš„å¼ºåŠ¿ç¨‹åº¦ä¼šå½±å“åœ¨ä¸šåŠ¡å¼€å‘ä¸­çš„ä½¿ç”¨æ–¹å¼ã€‚ Vueå¯èƒ½æœ‰äº›æ–¹é¢æ˜¯ä¸å¦‚Reactï¼Œä¸å¦‚Angularï¼Œä½†å®ƒæ˜¯æ¸è¿›çš„ï¼Œæ²¡æœ‰å¼ºä¸»å¼ ï¼Œä½ å¯ä»¥åœ¨åŸæœ‰å¤§ç³»ç»Ÿçš„ä¸Šé¢ï¼ŒæŠŠä¸€ä¸¤ä¸ªç»„ä»¶æ”¹ç”¨å®ƒå®ç°ï¼Œå½“jQueryç”¨ï¼›ä¹Ÿå¯ä»¥æ•´ä¸ªç”¨å®ƒå…¨å®¶æ¡¶å¼€å‘ï¼Œå½“Angularç”¨ï¼›è¿˜å¯ä»¥ç”¨å®ƒçš„è§†å›¾ï¼Œæ­é…ä½ è‡ªå·±è®¾è®¡çš„æ•´ä¸ªä¸‹å±‚ç”¨ã€‚ä½ å¯ä»¥åœ¨åº•å±‚æ•°æ®é€»è¾‘çš„åœ°æ–¹ç”¨OOå’Œè®¾è®¡æ¨¡å¼çš„é‚£å¥—ç†å¿µï¼Œä¹Ÿå¯ä»¥å‡½æ•°å¼ï¼Œéƒ½å¯ä»¥ï¼Œå®ƒåªæ˜¯ä¸ªè½»é‡è§†å›¾è€Œå·²ï¼Œåªåšäº†è‡ªå·±è¯¥åšçš„äº‹ï¼Œæ²¡æœ‰åšä¸è¯¥åšçš„äº‹ï¼Œä»…æ­¤è€Œå·²ã€‚ æˆ‘ä»¬æ²¡å¿…è¦ä¸€ä¸Šæ¥å°±ææ‡‚Vueçš„æ¯ä¸€ä¸ªéƒ¨ä»¶å’ŒåŠŸèƒ½ï¼Œå…ˆä»æ ¸å¿ƒåŠŸèƒ½å¼€å§‹å­¦ä¹ ï¼Œé€æ¸æ‰©å±•ã€‚ åŒæ—¶ï¼Œåœ¨ä½¿ç”¨ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿæ²¡æœ‰å¿…è¦æŠŠå…¨éƒ¨ä»¶èƒ½éƒ½æ‹¿å‡ºæ¥ï¼Œéœ€è¦ä»€ä¹ˆç”¨ä»€ä¹ˆå°±æ˜¯äº†ï¼Œè€Œä¸”ä¹Ÿå¯ä»¥æŠŠVueå¾ˆæ–¹ä¾¿çš„ä¸å…¶å®ƒå·²æœ‰é¡¹ç›®æˆ–æ¡†æ¶ç›¸ç»“åˆ 2. vue çš„ç®€å•ä»‹ç»Vue.js å¯ä»¥è¯´æ˜¯MVVM æ¶æ„çš„æœ€ä½³å®è·µï¼Œæ˜¯ä¸€ä¸ªJavaScriptMVVMåº“ï¼Œæ˜¯ä¸€å¥—æ„å»ºç”¨æˆ·ç•Œé¢çš„æ¸è¿›å¼æ¡†æ¶ã€‚ä¸“æ³¨äº MVVM ä¸­çš„ ViewModelï¼Œä¸ä»…åšåˆ°äº†æ•°æ®åŒå‘ç»‘å®šï¼Œè€Œä¸”ä¹Ÿæ˜¯ä¸€æ¬¾ç›¸å¯¹æ¯”è¾ƒè½»é‡çº§çš„JS åº“ï¼ŒAPI ç®€æ´ 3. vue çƒ­åŠ è½½å› ä¸ºvueçš„åŒå‘æ•°æ®ç»‘å®šç‰¹æ€§ä»¥åŠæŠ€æœ¯çš„æˆå½¢ï¼Œå®ç°äº†é¡¹ç›®çš„çƒ­åŠ è½½ï¼Œæ”¹å®Œé¡µé¢ä»£ç èƒ½ç«‹å³åœ¨æµè§ˆå™¨æ–¹é¢æ˜¾ç¤ºæ•ˆæœï¼Œæé«˜å¼€å‘æ•ˆç‡ 4. vue çš„åŒå‘æ•°æ®ç»‘å®šçš„åŸç†Vue.js æ˜¯é‡‡ç”¨ Object.defineProperty çš„ getter å’Œ setterï¼Œå¹¶ç»“åˆè§‚å¯Ÿè€…æ¨¡å¼æ¥å®ç°æ•°æ®ç»‘å®šçš„ã€‚å½“æŠŠä¸€ä¸ªæ™®é€š Javascript å¯¹è±¡ä¼ ç»™ Vue å®ä¾‹æ¥ä½œä¸ºå®ƒçš„ data é€‰é¡¹æ—¶ï¼ŒVue å°†éå†å®ƒçš„å±æ€§ï¼Œç”¨ Object.defineProperty å°†å®ƒä»¬è½¬ä¸º getter/setterã€‚ç”¨æˆ·çœ‹ä¸åˆ° getter/setterï¼Œä½†æ˜¯åœ¨å†…éƒ¨å®ƒä»¬è®© Vue è¿½è¸ªä¾èµ–ï¼Œåœ¨å±æ€§è¢«è®¿é—®å’Œä¿®æ”¹æ—¶é€šçŸ¥å˜åŒ–ã€‚ Observer æ•°æ®ç›‘å¬å™¨ï¼Œèƒ½å¤Ÿå¯¹æ•°æ®å¯¹è±¡çš„æ‰€æœ‰å±æ€§è¿›è¡Œç›‘å¬ï¼Œå¦‚æœ‰å˜åŠ¨å¯æ‹¿åˆ°æœ€æ–°å€¼å¹¶é€šçŸ¥è®¢é˜…è€…ï¼Œå†…éƒ¨é‡‡ç”¨Object.definePropertyçš„getterå’Œsetteræ¥å®ç°ã€‚ Compile æŒ‡ä»¤è§£æå™¨ï¼Œå®ƒçš„ä½œç”¨å¯¹æ¯ä¸ªå…ƒç´ èŠ‚ç‚¹çš„æŒ‡ä»¤è¿›è¡Œæ‰«æå’Œè§£æï¼Œæ ¹æ®æŒ‡ä»¤æ¨¡æ¿æ›¿æ¢æ•°æ®ï¼Œä»¥åŠç»‘å®šç›¸åº”çš„æ›´æ–°å‡½æ•°ã€‚ Watcher è®¢é˜…è€…ï¼Œ ä½œä¸ºè¿æ¥ Observer å’Œ Compile çš„æ¡¥æ¢ï¼Œèƒ½å¤Ÿè®¢é˜…å¹¶æ”¶åˆ°æ¯ä¸ªå±æ€§å˜åŠ¨çš„é€šçŸ¥ï¼Œæ‰§è¡ŒæŒ‡ä»¤ç»‘å®šçš„ç›¸åº”å›è°ƒå‡½æ•°ã€‚ Dep æ¶ˆæ¯è®¢é˜…å™¨ï¼Œå†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªæ•°ç»„ï¼Œç”¨æ¥æ”¶é›†è®¢é˜…è€…ï¼ˆWatcherï¼‰ï¼Œæ•°æ®å˜åŠ¨è§¦å‘notify å‡½æ•°ï¼Œå†è°ƒç”¨è®¢é˜…è€…çš„ update æ–¹æ³•ã€‚ 5. vue å¼•ç”¨ä¸åå°çš„äº¤äº’åœ¨è®¿é—®ä¸€ä¸ª API å¹¶å±•ç¤ºå…¶æ•°æ®ï¼ŒåŸºäº promise çš„ HTTP å®¢æˆ·ç«¯ axios åˆ™æ˜¯å…¶ä¸­éå¸¸æµè¡Œçš„ä¸€ç§ï¼Œ é¦–å…ˆï¼Œæˆ‘ä»¬è¦é€šè¿‡ npm/Yarn æˆ–ä¸€ä¸ª CDN é“¾æ¥å®‰è£… axiosï¼Œ æˆ‘ä»¬æœ‰å¾ˆå¤šç§æ–¹å¼å¯ä»¥ä» API è¯·æ±‚ä¿¡æ¯ï¼Œä½†æ˜¯æœ€å¥½é¦–å…ˆç¡®è®¤è¿™äº›æ•°æ®çœ‹èµ·æ¥é•¿ä»€ä¹ˆæ ·ï¼Œä»¥ä¾¿è¿›ä¸€æ­¥ç¡®å®šå¦‚ä½•å±•ç¤ºå®ƒã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬ä¼šè°ƒç”¨ä¸€æ¬¡è¿™ä¸ª API å¹¶è¾“å‡ºç»“æœï¼Œä»¥ä¾¿æˆ‘ä»¬èƒ½å¤Ÿçœ‹æ¸…æ¥šå®ƒã€‚å¦‚ CoinDesk çš„ API æ–‡æ¡£æ‰€è¿°ï¼Œè¯·æ±‚ä¼šå‘é€åˆ° https://api.coindesk.com/v1/bpi/currentprice.jsonã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸€ä¸ª data é‡Œçš„å±æ€§ä»¥æœ€ç»ˆæ”¾ç½®ä¿¡æ¯ï¼Œç„¶åå°†ä¼šåœ¨ mounted ç”Ÿå‘½å‘¨æœŸé’©å­ä¸­è·å–æ•°æ®å¹¶èµ‹å€¼è¿‡å»ï¼š new Vue({ el: '#app', data () { return { info: null } }, mounted () { axios .get('https://api.coindesk.com/v1/bpi/currentprice.json') .then(response =&gt; (this.info = response)) } }) &lt;div id=\"app\"&gt; {{ info }} &lt;/div&gt; æˆ‘ä»¬å¾—åˆ°çš„ä¸œè¥¿æ˜¯è¿™æ ·çš„ï¼š { \"USD\": { \"code\": \"USD\", \"symbol\": \"&amp;#36;\", \"rate\": \"5,255.3433\", \"description\": \"United States Dollar\", \"rate_float\": 5255.3433 }, \"GBP\": { \"code\": \"GBP\", \"symbol\": \"&amp;pound;\", \"rate\": \"4,061.1927\", \"description\": \"British Pound Sterling\", \"rate_float\": 4061.1927 }, \"EUR\": { \"code\": \"EUR\", \"symbol\": \"&amp;euro;\", \"rate\": \"4,699.5277\", \"description\": \"Euro\", \"rate_float\": 4699.5277 } } å½“ç„¶è¿™ä¸ªåªæ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ç¤ºä¾‹ï¼Œåœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šåŸºäºaxiosåšä¸€äº›å°è£…ï¼ŒåŒ…æ‹¬é”™è¯¯å¤„ç†ï¼Œè¯·æ±‚æ‹¦æˆªï¼Œè¯·æ±‚ä¼˜åŒ–ç­‰ç­‰ 6. vue å¸¸ç”¨çš„ç½‘ç«™vueå®˜æ–¹æ–‡æ¡£ï¼šhttps://cn.vuejs.org/v2/guide/ vueèµ„æºç²¾é€‰ï¼šhttp://vue.awesometiny.com/ vue GitHubåœ°å€ï¼šhttps://github.com/vuejs/vue åŸºäºvueå’Œelementæ„å»ºçš„åå°å‰ç«¯è§£å†³æ–¹æ¡ˆï¼šhttps://panjiachen.github.io/vue-element-admin-site/zh/ vue é¡¹ç›®è¯´æ˜vueé¡¹ç›®ç½‘ä¸Šæœ‰éå¸¸å¤šçš„æˆåæ¨¡æ¿ï¼Œæˆ‘æ¨èä¸€ä¸ªï¼Œæƒ³æ·±å…¥å­¦ä¹ å»ºè®®å¤šå¤šæµè§ˆä¸‹é¢çš„åœ°å€ vueå’Œelementæ„å»ºçš„åå°å‰ç«¯è§£å†³æ–¹æ¡ˆï¼š&lt;https://panjiachen.github.io/vue-element-admin-site/zh/ ç›®å½•ç»“æ„â”œâ”€â”€ build # æ„å»ºç›¸å…³â”œâ”€â”€ static # é™æ€èµ„æºâ”‚ â”‚â”€â”€ img # å›¾ç‰‡â”‚ â”‚â”€â”€ favicon.ico # faviconå›¾æ ‡â”‚ â””â”€â”€ index.html # htmlæ¨¡æ¿â”‚ â”‚â”€â”€ Tinymce # å¯Œæ–‡æœ¬â”œâ”€â”€ src # æºä»£ç â”‚ â”œâ”€â”€ api # æ‰€æœ‰è¯·æ±‚â”‚ â”œâ”€â”€ assets # ä¸»é¢˜ å­—ä½“ç­‰é™æ€èµ„æºâ”‚ â”œâ”€â”€ components # å…¨å±€å…¬ç”¨ç»„ä»¶â”‚ â”œâ”€â”€ directive # å…¨å±€æŒ‡ä»¤â”‚ â”œâ”€â”€ icons # é¡¹ç›®æ‰€æœ‰ svg iconsâ”‚ â”œâ”€â”€ lang # å›½é™…åŒ– languageâ”‚ â”œâ”€â”€ layout # å…¨å±€ layoutâ”‚ â”œâ”€â”€ router # è·¯ç”±â”‚ â”œâ”€â”€ store # å…¨å±€ storeç®¡ç†â”‚ â”œâ”€â”€ styles # å…¨å±€æ ·å¼â”‚ â”œâ”€â”€ utils # å…¨å±€å…¬ç”¨æ–¹æ³•â”‚ â”œâ”€â”€ views # views æ‰€æœ‰é¡µé¢â”‚ â”œâ”€â”€ App.vue # å…¥å£é¡µé¢â”‚ â”œâ”€â”€ main.js # å…¥å£æ–‡ä»¶ åŠ è½½ç»„ä»¶ åˆå§‹åŒ–ç­‰â”‚ â””â”€â”€ permission.js # æƒé™ç®¡ç†â”œâ”€â”€ tests # æµ‹è¯•â”œâ”€â”€ .env.xxx # ç¯å¢ƒå˜é‡é…ç½®â”œâ”€â”€ .eslintrc.js # eslint é…ç½®é¡¹â”œâ”€â”€ .gitignore # git é…ç½®é¡¹â”œâ”€â”€ .babelrc # babel-loader é…ç½®â”œâ”€â”€ .travis.yml # è‡ªåŠ¨åŒ–CIé…ç½®â”œâ”€â”€ vue.config.js # vue-cli é…ç½®â””â”€â”€ package.json # package.json æ­¤ä¸ºå¸¸è§çš„ç›®å½•ç»“æ„ï¼Œåœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¼šå› ä¸ºé¡¹ç›®çš„å·®å¼‚ï¼Œç›®å½•æœ‰äº›å°çš„æ”¹åŠ¨ã€‚ é¡¹ç›®å¯åŠ¨åœ¨ç»ˆç«¯ # è¿›å…¥é¡¹ç›®ç›®å½•ï¼ˆå‡è®¾é¡¹ç›®åä¸ºï¼švue-element-adminï¼‰ cd vue-element-admin # å®‰è£…ä¾èµ– npm install # æœ¬åœ°å¼€å‘ å¯åŠ¨é¡¹ç›® npm run dev # å¯åŠ¨å®Œæˆæˆ‘ä»¬å°±èƒ½åœ¨ï¼Œæç¤ºçš„åœ°å€ä¸­ï¼Œæµè§ˆæˆ–å¼€å‘é¡¹ç›®ï¼ˆä¾‹å¦‚åœ°å€ä¸ºï¼šhttp://127.0.0.1:9528ï¼‰ http://127.0.0.1:9528 url**åˆ°é¡µé¢æ˜¾ç¤ºçš„è¿‡ç¨‹** æµè§ˆå™¨ç«¯æ˜¾ç¤ºHTMLçš„è¿‡ç¨‹","categories":[],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://promisefine.github.io/tags/Vue/"}],"author":"Doney"},{"title":"webpack","slug":"webpack","date":"2020-03-15T06:39:22.000Z","updated":"2021-07-16T06:49:19.589Z","comments":true,"path":"posts/b9f20a20.html","link":"","permalink":"https://promisefine.github.io/posts/b9f20a20.html","excerpt":"","text":"webpackå¯ä»¥åšçš„äº‹æƒ… ä»£ç è½¬æ¢ã€æ–‡ä»¶ä¼˜åŒ–ã€ä»£ç åˆ†å‰²ã€æ¨¡å—åˆå¹¶ã€è‡ªåŠ¨åˆ·æ–°ã€ä»£ç æ ¡éªŒã€è‡ªåŠ¨å‘å¸ƒ æœ€ç»ˆç›®çš„ webpackçš„åŸºæœ¬é…ç½® webpackçš„é«˜çº§é…ç½® webpackçš„ä¼˜åŒ–ç­–ç•¥ astæŠ½è±¡è¯­æ³•æ ‘ webpackçš„Tapable æŒæ¡webpackçš„æµç¨‹ æ‰‹å†™webpack æ‰‹å†™webpackä¸­å¸¸è§çš„loader æ‰‹å†™webpackä¸­å¸¸è§çš„plugin 1. å®‰è£…webpack webpack:æä¾›äº†å†…ç½®çš„ä¸œè¥¿ express plugin webpack-cli: npx webpack æœåŠ¡: webpack-dev-server:å¯åŠ¨æœåŠ¡ proxy beforeapp ä¸ä¼šçœŸæ­£çš„æ‰“åŒ…æ–‡ä»¶, åªä¼šåœ¨å†…å­˜ä¸­æ‰“åŒ… è¿è¡Œå‘½ä»¤ npx webpack-dev-server 2.é…ç½®æ–‡ä»¶let path = require(\"path\"); let HtmlWebpackPlugin = require(\"html-webpack-plugin\"); module.exports = {//webpack æ˜¯nodeä¸­çš„ä¸€ä¸ªæ¨¡å— CommonJs devServer: {//é™æ€æœåŠ¡å™¨çš„é…ç½® port: 3000, progress: true,//è¿›åº¦æå“¦å•Š contentBase: \"./dist\",//é™æ€èµ„æºè·¯å¾„ compress:true//æ˜¯å¦å‹ç¼©Gzip }, mode: \"production\",//ç¯å¢ƒ entry: \"./src/index.js\", output: { filename: \"bundle[hash:8].js\",//è®¾ç½®hashä¹‹åä¼šè§£å†³æµè§ˆå™¨ç¼“å­˜é—®é¢˜ path: path.resolve(__dirname, \"dist\")//è§£æ ä¼šæŠŠç›¸å¯¹è·¯å¾„è§£ææˆç»å¯¹è·¯å¾„ }, plugins: [ new HtmlWebpackPlugin({//æ‰“åŒ…çš„æ—¶å€™ è‡ªåŠ¨æŠŠhtmlæ‰“åŒ…åˆ°distç›®å½• template: \"./src/index.html\", filename: \"index.html\", minify:{ removeAttributeQuotes:true,//å»é™¤åŒå¼•å· collapseWhitespace:true//å•è¡Œå‹ç¼© }, hash:true//æ˜¯å¦åŠ hashåç¼€ }) ] }; æ€è€ƒ1: å¦‚ä½•å‹ç¼©htmlæ–‡ä»¶ æ€è€ƒ2: å¦‚ä½•å®ç°å‘½åçš„hashä¸² plugins:[ new HtmlWebpackPlugin({ template: './src/index.html', filename: 'index.html', minify: { collapseWhitespace: true, removeAttributeQuotes: true }, hash: true }) ] 2.1 ä¿®æ”¹æ ·å¼2.2.1 loaderé…ç½®å¦‚æœç›´æ¥æ’å…¥cssæ–‡ä»¶ä¼šæŠ¥é”™ è§£å†³: ä¸‹è½½ä¸¤ä¸ªloader module: {//æ¨¡å— rules: [//è§„åˆ™ { test: /\\.css$/, use: [{ loader: 'style-loader',//å°†cssæ’å…¥åˆ°headä¸­ options: { insert: 'top'//head/top foot } }, 'css-loader'] }, { test: /\\.scss$/, use: ['style-loader','css-loader', 'sass-loader'] } ], }, 2.1.1 åˆ†ç¦»cssä½†æ˜¯ æ­¤æ—¶ æˆ‘ä»¬æ‰“åŒ…åå‘ç° cssæ˜¯æ’å…¥åœ¨jsé‡Œé¢ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ æ¥ä¸‹æ¥æˆ‘ä»¬å¼•å…¥ mini-css-extract-pluginè¿™ä¸ªæ’ä»¶ let MiniCssExtractPlugin require('mini-css-extract-plugin') rules: [ { test: /\\.css$/, use: [{ loader: MiniCssExtractPlugin.loader, }, 'css-loader']//loaderé¡ºåºçš„è§„å¾‹ }, { test: /\\.(sc|sa)ss$/, use: [{ loader: MiniCssExtractPlugin.loader, }, 'css-loader', 'sass-loader']//loaderé¡ºåºçš„è§„å¾‹ } ] å½“æˆ‘ä»¬åŠ å…¥css3ä¹‹å æ–°çš„é—®é¢˜å‡ºç°äº† æ²¡æœ‰å‰ç¼€ 2.1.3 å¼•å…¥å‰ç¼€æ­¤æ—¶ æˆ‘ä»¬éœ€è¦ä¸‹è½½ä¸€ä¸ªåŒ…autoprefixerä»¥åŠä¸€ä¸ªloaderæ–‡ä»¶postcss-loader { test: /\\.css$/, use: [{ loader: MiniCssExtractPlugin.loader, }, 'css-loader','postcss-loader']//loaderé¡ºåºçš„è§„å¾‹ }, åˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ postcss.config.js module.exports = { plugins: [require('autoprefixer')] }; å†æ¬¡æ‰“åŒ… éœ€è¦æ³¨æ„çš„æ˜¯ æ­¤è®¾ç½®é¡¹åªèƒ½ç”¨æ—©ç”Ÿäº§ç¯å¢ƒ mode: 'production', 2.1.4 å‹ç¼©cssæ–‡ä»¶å¦‚ä½•å‹ç¼©æ–‡ä»¶å‘¢ å…¶ä¸­æœ‰ä¸ªåŒ… optimize-css-assets-webpack-plugin æ­¤åŒ…ä¸»è¦æ˜¯ç”¨æ¥å‹ç¼©cssçš„ ä½†æ˜¯ å¼•å…¥è¿™ä¸ªåŒ…åå‡ºç°äº†jsæ²¡è¢«å‹ç¼©çš„é—®é¢˜ æ€ä¹ˆè§£å†³å‘¢ æŒ‰ç…§å®˜ç½‘é…ç½®éœ€è¦ä½¿ç”¨TerserJSPlugin https://www.npmjs.com/package/mini-css-extract-plugin optimization: {//webpack4.0ä¹‹åæ–°å‡ºçš„ä¼˜åŒ–é¡¹é…ç½® minimizer: [new TerserJSPlugin({}), new OptimizeCssAssetsPlugin({})] }, TerserJSPluginå…·ä½“å‚æ•°æŸ¥çœ‹è¿™ä¸ª interface TerserPluginOptions { test?: string | RegExp | Array&lt;string | RegExp&gt;; include?: string | RegExp | Array&lt;string | RegExp&gt;; exclude?: string | RegExp | Array&lt;string | RegExp&gt;; chunkFilter?: (chunk: webpack.compilation.Chunk) =&gt; boolean; cache?: boolean | string; cacheKeys?: (defaultCacheKeys: any, file: any) =&gt; object; parallel?: boolean | number; sourceMap?: boolean; minify?: (file: any, sourceMap: any) =&gt; MinifyResult; terserOptions?: MinifyOptions; extractComments?: boolean | string | RegExp | ExtractCommentFn | ExtractCommentOptions; warningsFilter?: (warning: any, source: any) =&gt; boolean; } 2.2 å¤„ç†jsæ–‡ä»¶2.2.1 babelæ ¸å¿ƒæ¨¡å—å½“æˆ‘ä»¬å°è¯•å¯¹å†™äº†es6è¯­æ³•çš„ä»£ç è¿›è¡Œæ‰“åŒ…æ—¶å€™å¹¶æ²¡æœ‰å˜æˆes5 æ¥ä¸‹æ¥æ‰§è¡Œå‘½ä»¤ babel yarn add babel-loader @babel/core @babel/preset-env babel-loader : babelåŠ è½½å™¨ @babel/core : babelçš„æ ¸å¿ƒæ¨¡å— @babel/preset-env : å°†es6è½¬æ¢æˆes5 @babel/plugin-transform-runtime @babel/runtime @babel/polyfill { test: /\\.js$/, use: [ { loader: 'babel-loader', options: {//é¢„è®¾ presets: ['@babel/preset-env'] } } ] } 2.2.2 å¤„ç†ç®­å¤´å‡½æ•°@babel/preset-env 2.2.3 å¤„ç†è£…é¥°å™¨å½“æˆ‘ä»¬æ·»åŠ è£…é¥°å™¨ ä¼šæœ‰å¦‚ä¸‹æç¤º å…·ä½“å¯ä»¥æŸ¥çœ‹å®˜ç½‘ https://babeljs.io/docs/en/babel-plugin-proposal-decorators { test: /\\.js$/, use: [ { loader: 'babel-loader', options: {//é¢„è®¾ presets: ['@babel/preset-env'], plugins:[ [\"@babel/plugin-proposal-decorators\", { \"legacy\": true }], [\"@babel/plugin-proposal-class-properties\", { \"loose\" : true }] ] } } ] }, index.js @log class A { a = 1;//es7 çš„è¯­æ³•(es6çš„å˜ç§è¯­æ³•) // let a = new A() a.a = 1 } function log(target) { console.log(target,'21'); } 2.2.4 å¤„ç†es7è¯­æ³•{ test: /\\.js$/, use: [ { loader: 'babel-loader', options: {//é¢„è®¾ presets: ['@babel/preset-env'], plugins:['@babel/plugin-proposal-class-properties'] } } ] } a.js class B { } function* fnB() { yield 1; } console.log(fnB().next()); module.exports = 'a'; æ¥ä¸‹æ¥æ‰“åŒ…å‘ç° æ¯ä¸ªæ–‡ä»¶éƒ½ä¼šæ‰“åŒ…ä¸€ä¸ª_classCallCheck å†™äº†generatorè¿è¡Œä¹Ÿä¼šæŠ¥é”™ å‡ºç°ä»¥ä¸Šé—®é¢˜çš„åŸå› æ˜¯ åœ¨webpackè¿è¡Œæ—¶ä¸ä¼šè‡ªåŠ¨æ£€æµ‹å“ªäº›æ–¹æ³•é‡ç”¨äº† ä¸€äº›es6çš„é«˜çº§è¯­æ³• æ¯”å¦‚generatorå’Œpromiseä¸ä¼šè½¬æ¢æˆes5 æ ¹æ®å®˜æ–¹æ–‡æ¡£https://babeljs.io/docs/en/babel-plugin-transform-runtime#docsNav éœ€è¦ä¸‹è½½ä¸¤ä¸ªåŒ… yarn add @babel/plugin-transform-runtime @babel/runtime -D æ‰§è¡Œnpx webpackä½†æ˜¯ æŠ¥äº†ä¸€äº›è­¦å‘Š { test: /\\.js$/, use: [ { loader: 'babel-loader', options: {//é¢„è®¾ presets: ['@babel/preset-env'], plugins: [ [\"@babel/plugin-proposal-decorators\", {\"legacy\": true}], [\"@babel/plugin-proposal-class-properties\", {\"loose\": true}], \"@babel/plugin-transform-runtime\" ] } } ], include: path.resolve(__dirname, 'src'), exclude: /node_modules/ }, 2.2.5 å¤„ç†å…¨å±€å˜é‡çš„é—®é¢˜æ–¹æ³•ä¸€ : å¤–ç½®loader require('expose-loader?$!jquery'); æ–¹æ³•äºŒ : å†…ç½®loaderåœ¨æ¯ä¸ªæ¨¡å—éƒ½æ³¨å…¥$ // rules: {//å†…ç½®loader test: require.resolve('jquery'), use: 'expose-loader?$' }, // plugins: //æä¾›è€… new webpack.ProvidePlugin({ \"$\": \"jquery\" }) ä¼˜åŒ–: å¦‚æœåœ¨htmlå¼•å…¥cdnè·¯å¾„å¹¶ä¸”åœ¨é¡µé¢ä¹Ÿ import $ from jquery è¿™å°±åäº†, å³ä½¿å¼•å…¥cdnä¹Ÿä¼šæ‰“åŒ… //æ’é™¤ä¹‹å¤– åŠ å…¥ åœ¨cdnå¼•å…¥äº†è¿™ä¸ªåŒ… å°±ä¸ä¼šæ‰“åŒ…è¿™ä¸ªåŒ… externals: { 'jquery': '$ } 2.3 å¤„ç†å›¾ç‰‡æ–‡ä»¶2.3.1 å¤„ç†jsä¸­çš„å›¾ç‰‡index.js import logo from './logo.png'; &lt;img src=logo/&gt; webpack.config.js: { test: /\\.(png|jpg|gif)$/, use: [{ loader: 'file-loader', options: { esModule: false, }, } } 2.3.2 å¤„ç†cssä¸­å›¾ç‰‡æ–‡ä»¶å› ä¸ºcss-loaderä¸­å·²ç»å¯¹å›¾ç‰‡åšloaderå¤„ç†äº† æ‰€ä»¥ åªéœ€è¦å¼•å…¥ç›¸åº”è·¯å¾„å°±è¡Œäº† 2.3.3 å¤„ç†htmlä¸­çš„å›¾ç‰‡//1. ä¸‹è½½ä¾èµ– yarn add html-withimg-plugin -D //2. é…ç½® { test:/\\.html$/, use:['html-withimg-plugin'] } 2.4 å¤šå…¥å£å¤šå‡ºå£2.5 webpackå°æ’ä»¶ clean-webpack-plugin let {CleanWebpackPlugin} = require('clean-webpack-plugin'); //ä½¿ç”¨: plugins:[ new CleanWebpackPlugin() ] copy-webpack-plugin const CopyPlugin = require('copy-webpack-plugin'); module.exports = { plugins: [ new CopyPlugin([ { from: 'source', to: 'dest' }, { from: 'other', to: 'public' }, ]), ], }; 2.6 resolveã€åˆ†ç¦»2.6.1 resolveresolve:{ modules:[path.resolve(__dirname,'node_modules')],//åªä»å½“å‰è¿™ä¸ªnode_modulesæŸ¥æ‰¾ç›¸åº”çš„åŒ… alise:{//åˆ«å \"bootstrapcss\":\"bootstrap/dist/css/bootstrap.css\" }, extensions:['js','jsx','vue','json','css'] } 2.6.2 åˆ†ç¦»æ–‡ä»¶ devã€ prodã€baselet {smart} = require('webpack-merge') let base = require('./webpack.config.js') module.exports = smart(base,{ mode:'production' }) 2.7 åˆ†ç¦»æ‰“åŒ…æ–‡ä»¶2.8 è·¨åŸŸ æ–¹å¼ä¸€:åœ¨devServerä¸­é…ç½® devServer: { port: 8080, host: '0.0.0.0', quiet: true, proxy: { // '/api': 'http://127.0.0.1:3000', '/api': { target: 'http://127.0.0.1:3000', pathRewrite:{ '^/api': '' } }, }, before(app) { //appå°±æ˜¯expresså¯¹è±¡ app.get('/list', function (req, res) { res.send({code: 1, msg: 'hello'}); }); } }, æ–¹å¼äºŒ : åœ¨æœåŠ¡ç«¯é…ç½®(node/express) //1: npm i webpack-dev-middleware let middleDevWebpack = require('webpack-dev-middleware') let config = require('./webpack.config.js') app.use(middleDevWebpack(config)) 2.9 æ‡’åŠ è½½å’Œçƒ­æ›´æ–°å®æ—¶ç›‘å¬ çƒ­æ›´æ–° devServer:{ hot:true, quite:true//å®‰é™å¯åŠ¨ } å®æ—¶ç›‘å¬ watch:true, wathcOptions:{ poll:1000, aggregateTimeout:500, ignore:/note_modules/ } 3. webpackä¼˜åŒ–æ‰“åŒ…ä¼˜åŒ–ï¼Œå¯ä»¥ä»å‡ ä¸ªå‡ºå‘ç‚¹ç‚¹ æ‰“åŒ…ä½“ç§¯ åŠ è½½é€Ÿåº¦ æ‰“åŒ…é€Ÿåº¦ webpackè‡ªå¸¦ä¼˜åŒ– tree-sharking : import æŠŠæ²¡ç”¨çš„ä»£ç è‡ªåŠ¨åˆ é™¤æ‰ scope-hoisting : ä½œç”¨åŸŸæå‡ ä¼˜åŒ–ç½‘ç»œè§£ææ—¶é•¿å’Œæ‰§è¡Œæ—¶é•¿ æ·»åŠ DNSé¢„è§£æ å»¶æ—¶æ‰§è¡Œå½±å“é¡µé¢æ¸²æŸ“çš„ä»£ç  ä¼˜åŒ–webpackäº§å‡º ä¼˜åŒ–ä»£ç é‡å¤æ‰“åŒ… å»æ‰ä¸å¿…è¦çš„import babel-preset-env å’Œ autoprefix é…ç½®ä¼˜åŒ– webpack runtimeæ–‡ä»¶inline å»é™¤ä¸å¿…è¦çš„asyncè¯­å¥ ä¼˜åŒ–ç¬¬ä¸‰æ–¹ä¾èµ– lodashæŒ‰éœ€å¼•å…¥ webpack çŸ¥è¯†ç‚¹ hashã€contenthashã€chunkhashçš„åŒºåˆ« splitChunksè¯¦è§£ å¿…æ€æŠ€â€“åŠ¨æ€é“¾æ¥åº“ å¤šè¿›ç¨‹æ‰“åŒ…ä¹‹HappyPack æå–å…¬å…±ä»£ç  3.1 webpackè‡ªå¸¦ä¼˜åŒ– tree-sharking scope-hoisting 3.2 å¤šçº¿ç¨‹æ‰“åŒ…éœ€è¦ç”¨åˆ°happypackå®ç°å¤šçº¿ç¨‹æ‰“åŒ… æ³¨æ„: å¦‚æœä½“ç§¯è¾ƒå°ä¼šä½¿æ‰“åŒ…æ—¶é—´æ›´é•¿ ç¬¬ä¸€æ­¥:ä¸‹è½½npm install happypack --save-dev const HappyPack = require('happypack'); module.exports = { ... } ç¬¬äºŒæ­¥: å°†å¸¸ç”¨çš„ loader æ›¿æ¢ä¸º happypack/loaderconst HappyPack = require('happypack'); module.exports = { ... module: { rules: [ test: /\\.js$/, // use: ['babel-loader?cacheDirectory'] ä¹‹å‰æ˜¯ä½¿ç”¨è¿™ç§æ–¹å¼ç›´æ¥ä½¿ç”¨ loader // ç°åœ¨ç”¨ä¸‹é¢çš„æ–¹å¼æ›¿æ¢æˆ happypack/loaderï¼Œå¹¶ä½¿ç”¨ id æŒ‡å®šåˆ›å»ºçš„ HappyPack æ’ä»¶ use: ['happypack/loader?id=babel'], // æ’é™¤ node_modules ç›®å½•ä¸‹çš„æ–‡ä»¶ exclude: /node_modules/ ] } } ä¸‰ã€åˆ›å»º HappyPack æ’ä»¶module.exports = { ... module: { rules: [ test: /\\.js$/, // use: ['babel-loader?cacheDirectory'] ä¹‹å‰æ˜¯ä½¿ç”¨è¿™ç§æ–¹å¼ç›´æ¥ä½¿ç”¨ loader // ç°åœ¨ç”¨ä¸‹é¢çš„æ–¹å¼æ›¿æ¢æˆ happypack/loaderï¼Œå¹¶ä½¿ç”¨ id æŒ‡å®šåˆ›å»ºçš„ HappyPack æ’ä»¶ use: ['happypack/loader?id=babel'], // æ’é™¤ node_modules ç›®å½•ä¸‹çš„æ–‡ä»¶ exclude: /node_modules/ ] }, plugins: [ ..., new HappyPack({ /* * å¿…é¡»é…ç½® */ // id æ ‡è¯†ç¬¦ï¼Œè¦å’Œ rules ä¸­æŒ‡å®šçš„ id å¯¹åº”èµ·æ¥ id: 'babel', // éœ€è¦ä½¿ç”¨çš„ loaderï¼Œç”¨æ³•å’Œ rules ä¸­ Loader é…ç½®ä¸€æ · // å¯ä»¥ç›´æ¥æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡å½¢å¼ loaders: ['babel-loader?cacheDirectory'] }) ] } 3.3 å…³äºè¯­è¨€åŒ…çš„æ‰“åŒ…æœ‰äº›åŒ…è‡ªå¸¦è¯­è¨€åŒ…ï¼Œæœ‰æ—¶å€™ä¸éœ€è¦æŠŠæ‰€æœ‰çš„è¯­è¨€åŒ…è·Ÿç€æ‰“åŒ…æ¯”å¦‚ momentï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦æŠŠè¿™ä¸ªåŒ…ç‰¹æ®Šå¯¹å¾…ï¼Œ ä¸»è¦æ˜¯é€šè¿‡webpackè‡ªå¯¼çš„IgnorePlugin srcä¸‹æŸ.js import moment from 'moment'; import 'moment/locale/zh-cn'; moment.locale('zh-cn'); let r = moment().endOf('day').fromNow(); console.log(r); webpack.config.js plugins: [ ... new webpack.IgnorePlugin(/\\.\\/locale/,/moment/), ] 3.3 ä¸æ‰“åŒ…æŸä¸ªæ–‡ä»¶æœ‰äº›æ–‡ä»¶æˆ‘ä»¬ä¸å¸Œæœ›æ‰“åŒ…ï¼Œæ¯”å¦‚å·²ç»åœ¨cdnä¸­å¼•å…¥äº†çš„æ–‡ä»¶ï¼Œæ­¤æ—¶è¦ç”¨externalsè¿›è¡Œé…ç½® modules:{ noParse:/jquery/, ... } plugins: [ ... new webpack.ProvidePlugin({ '$': 'jquery' }), ] //å¿½ç•¥æ‰“åŒ…çš„æ–‡ä»¶ externals:{ 'jquery': '$' } 3.4 å…³äºcsså‰ç¼€çš„å¤„ç†3.5 å…³äºjsæ–°è¯­æ³•çš„å¤„ç†3.6 å…³äºæ–‡ä»¶æ‹†åˆ†çš„å¤„ç†3.7 å…³äºåˆ«åå’Œæ‰©å±•åçš„å¤„ç†3.8 webpackå¿…æ€æŠ€ : åŠ¨æ€é“¾æ¥åº“ ä»€ä¹ˆæ˜¯åŠ¨æ€é“¾æ¥åº“: ç”¨dllé“¾æ¥çš„æ–¹å¼æå–å›ºå®šçš„jsæ–‡ä»¶ï¼Œå¹¶é“¾æ¥è¿™ä¸ªjsæ–‡ä»¶ å½“æˆ‘ä»¬å¼•å…¥ä¸€ä¸ªjsæ–‡ä»¶çš„æ—¶å€™ï¼Œè¿™ä¸ªjsæ–‡ä»¶æ¯”è¾ƒå¤§ï¼Œé‚£æˆ‘ä»¬æ˜¯å¦å¯ä»¥å•ç‹¬æ‰“åŒ…ï¼Œå‘å¸ƒåˆ°cdnä¸Šï¼Œç›´æ¥å¼•ç”¨ æ¯”å¦‚ å½“æˆ‘ä»¬æƒ³è¦æŠŠreactæ‰“åŒ…çš„æ—¶å€™ï¼Œå¸Œæœ›å°†reactå’Œreactdomæ”¾åˆ°ä¸€ä¸ªjsæ–‡ä»¶æ‰“åŒ…çš„æ—¶å€™ ä¸æ‰“åŒ…è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œè€Œæ˜¯ç›´æ¥å¼•ç”¨jsçš„cdnè·¯å¾„ æ–°å»ºä¸€ä¸ªwebpackçš„jsé…ç½®æ–‡ä»¶ webpack.react.js var path = require('path'); let webpack = require(\"webpack\"); module.exports = { mode: 'development', entry: { react: ['react', 'react-dom'] }, output:{ filename: '_dll_[name].js', path: path.resolve(__dirname, 'dist'), library: '_dll_[name]', // \"var\" | \"assign\" | \"this\" | \"window\" | \"self\" | \"global\" | \"commonjs\" | \"commonjs2\" | \"commonjs-module\" | \"amd\" | \"amd-require\" | \"umd\" | \"umd2\" | \"jsonp\" | \"system\" // libraryTarget: 'commonjs2'//é»˜è®¤ var }, plugins: [ new webpack.DllPlugin({ name: '_dll_[name]', path: path.resolve(__dirname, 'dist', 'manifest.json') }) ] }; npx webpack --config webpack.react.js æ­¤æ—¶å°±ä¼šç”Ÿæˆä¸€ä¸ªmanifest.jsonæ–‡ä»¶ æœ€å åœ¨webpack.prod.config.jsçº¿ä¸Šé…ç½®æ–‡ä»¶ä¸­å¼•å…¥æ’ä»¶ new webpack.DllReferencePlugin({ manifest: path.resolve(__dirname, 'dist', 'manifest.json') }) 3.9 æŠ½ç¦»å…¬å…±ä»£ç å—optimization: {//webpack4.0ä¹‹åå‡ºç°çš„ä¼˜åŒ–é¡¹ minimizer: [new TerserPlugin({}), new OptimizeCssAssetsWebpackPlugin({})],//å‹ç¼©css //ç¼ºé™· å¯ä»¥å‹ç¼©css ä½†æ˜¯ jså‹ç¼©åˆå‡ºç°äº†é—®é¢˜ splitChunks:{//åˆ†å‰²ä»£ç å— cacheGroups:{//ç¼“å­˜ç»„ common:{//å…¬å…±çš„é€»è¾‘ chunks: 'initial',//ä»å…¥å£æ–‡ä»¶å¼€å§‹æŸ¥æ‰¾ minSize: 0,//æœ€å°åˆ†åŒ…ä½“ç§¯ minChunks: 2,// }, vendor:{ priority: 1, test:/node_modules/, chunks: 'initial', minSize: 0, minChunks: 2 } } } }, 4. webpackæ‰“åŒ…åŸç†webpack æ„å»ºæµç¨‹Webpack çš„è¿è¡Œæµç¨‹æ˜¯ä¸€ä¸ªä¸²è¡Œçš„è¿‡ç¨‹,ä»å¯åŠ¨åˆ°ç»“æŸä¼šä¾æ¬¡æ‰§è¡Œä»¥ä¸‹æµç¨‹ : åˆå§‹åŒ–å‚æ•°ï¼šä»é…ç½®æ–‡ä»¶å’Œ Shell è¯­å¥ä¸­è¯»å–ä¸åˆå¹¶å‚æ•°,å¾—å‡ºæœ€ç»ˆçš„å‚æ•°ã€‚ å¼€å§‹ç¼–è¯‘ï¼šç”¨ä¸Šä¸€æ­¥å¾—åˆ°çš„å‚æ•°åˆå§‹åŒ– Compiler å¯¹è±¡,åŠ è½½æ‰€æœ‰é…ç½®çš„æ’ä»¶,æ‰§è¡Œå¯¹è±¡çš„ run æ–¹æ³•å¼€å§‹æ‰§è¡Œç¼–è¯‘ã€‚ ç¡®å®šå…¥å£ï¼šæ ¹æ®é…ç½®ä¸­çš„ entry æ‰¾å‡ºæ‰€æœ‰çš„å…¥å£æ–‡ä»¶ã€‚ ç¼–è¯‘æ¨¡å—ï¼šä»å…¥å£æ–‡ä»¶å‡ºå‘,è°ƒç”¨æ‰€æœ‰é…ç½®çš„ Loader å¯¹æ¨¡å—è¿›è¡Œç¿»è¯‘,å†æ‰¾å‡ºè¯¥æ¨¡å—ä¾èµ–çš„æ¨¡å—,å†é€’å½’æœ¬æ­¥éª¤ç›´åˆ°æ‰€æœ‰å…¥å£ä¾èµ–çš„æ–‡ä»¶éƒ½ç»è¿‡äº†æœ¬æ­¥éª¤çš„å¤„ç†ã€‚ å®Œæˆæ¨¡å—ç¼–è¯‘ï¼šåœ¨ç»è¿‡ç¬¬ 4 æ­¥ä½¿ç”¨ Loader ç¿»è¯‘å®Œæ‰€æœ‰æ¨¡å—å,å¾—åˆ°äº†æ¯ä¸ªæ¨¡å—è¢«ç¿»è¯‘åçš„æœ€ç»ˆå†…å®¹ä»¥åŠå®ƒä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚ è¾“å‡ºèµ„æºï¼šæ ¹æ®å…¥å£å’Œæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»,ç»„è£…æˆä¸€ä¸ªä¸ªåŒ…å«å¤šä¸ªæ¨¡å—çš„ Chunk,å†æŠŠæ¯ä¸ª Chunk è½¬æ¢æˆä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶åŠ å…¥åˆ°è¾“å‡ºåˆ—è¡¨,è¿™æ­¥æ˜¯å¯ä»¥ä¿®æ”¹è¾“å‡ºå†…å®¹çš„æœ€åæœºä¼šã€‚ è¾“å‡ºå®Œæˆï¼šåœ¨ç¡®å®šå¥½è¾“å‡ºå†…å®¹å,æ ¹æ®é…ç½®ç¡®å®šè¾“å‡ºçš„è·¯å¾„å’Œæ–‡ä»¶å,æŠŠæ–‡ä»¶å†…å®¹å†™å…¥åˆ°æ–‡ä»¶ç³»ç»Ÿã€‚ åœ¨ä»¥ä¸Šè¿‡ç¨‹ä¸­,Webpack ä¼šåœ¨ç‰¹å®šçš„æ—¶é—´ç‚¹å¹¿æ’­å‡ºç‰¹å®šçš„äº‹ä»¶,æ’ä»¶åœ¨ç›‘å¬åˆ°æ„Ÿå…´è¶£çš„äº‹ä»¶åä¼šæ‰§è¡Œç‰¹å®šçš„é€»è¾‘,å¹¶ä¸”æ’ä»¶å¯ä»¥è°ƒç”¨ Webpack æä¾›çš„ API æ”¹å˜ Webpack çš„è¿è¡Œç»“æœã€‚ å®è·µåŠ æ·±ç†è§£,æ’¸ä¸€ä¸ªç®€æ˜“ webpack1. å®šä¹‰ Compiler ç±»class Compiler { constructor(options) { // webpack é…ç½® const { entry, output } = options // å…¥å£ this.entry = entry // å‡ºå£ this.output = output // æ¨¡å— this.modules = [] } // æ„å»ºå¯åŠ¨ run() {} // é‡å†™ requireå‡½æ•°,è¾“å‡ºbundle generate() {} } 2. è§£æå…¥å£æ–‡ä»¶,è·å– ASTæˆ‘ä»¬è¿™é‡Œä½¿ç”¨@babel/parser,è¿™æ˜¯ babel7 çš„å·¥å…·,æ¥å¸®åŠ©æˆ‘ä»¬åˆ†æå†…éƒ¨çš„è¯­æ³•,åŒ…æ‹¬ es6,è¿”å›ä¸€ä¸ª AST æŠ½è±¡è¯­æ³•æ ‘ã€‚ // webpack.config.js const path = require('path') module.exports = { entry: './src/index.js', output: { path: path.resolve(__dirname, './dist'), filename: 'main.js' } } // const fs = require('fs') const parser = require('@babel/parser') const options = require('./webpack.config') const Parser = { getAst: path =&gt; { // è¯»å–å…¥å£æ–‡ä»¶ const content = fs.readFileSync(path, 'utf-8') // å°†æ–‡ä»¶å†…å®¹è½¬ä¸ºASTæŠ½è±¡è¯­æ³•æ ‘ return parser.parse(content, { sourceType: 'module' }) } } class Compiler { constructor(options) { // webpack é…ç½® const { entry, output } = options // å…¥å£ this.entry = entry // å‡ºå£ this.output = output // æ¨¡å— this.modules = [] } // æ„å»ºå¯åŠ¨ run() { const ast = Parser.getAst(this.entry) } // é‡å†™ requireå‡½æ•°,è¾“å‡ºbundle generate() {} } new Compiler(options).run() 3. æ‰¾å‡ºæ‰€æœ‰ä¾èµ–æ¨¡å—Babel æä¾›äº†@babel/traverse(éå†)æ–¹æ³•ç»´æŠ¤è¿™ AST æ ‘çš„æ•´ä½“çŠ¶æ€,æˆ‘ä»¬è¿™é‡Œä½¿ç”¨å®ƒæ¥å¸®æˆ‘ä»¬æ‰¾å‡ºä¾èµ–æ¨¡å—ã€‚ const fs = require('fs') const path = require('path') const options = require('./webpack.config') const parser = require('@babel/parser') const traverse = require('@babel/traverse').default const Parser = { getAst: path =&gt; { // è¯»å–å…¥å£æ–‡ä»¶ const content = fs.readFileSync(path, 'utf-8') // å°†æ–‡ä»¶å†…å®¹è½¬ä¸ºASTæŠ½è±¡è¯­æ³•æ ‘ return parser.parse(content, { sourceType: 'module' }) }, getDependecies: (ast, filename) =&gt; { const dependecies = {} // éå†æ‰€æœ‰çš„ import æ¨¡å—,å­˜å…¥dependecies traverse(ast, { // ç±»å‹ä¸º ImportDeclaration çš„ AST èŠ‚ç‚¹ (å³ä¸ºimport è¯­å¥) ImportDeclaration({ node }) { const dirname = path.dirname(filename) // ä¿å­˜ä¾èµ–æ¨¡å—è·¯å¾„,ä¹‹åç”Ÿæˆä¾èµ–å…³ç³»å›¾éœ€è¦ç”¨åˆ° const filepath = './' + path.join(dirname, node.source.value) dependecies[node.source.value] = filepath } }) return dependecies } } class Compiler { constructor(options) { // webpack é…ç½® const { entry, output } = options // å…¥å£ this.entry = entry // å‡ºå£ this.output = output // æ¨¡å— this.modules = [] } // æ„å»ºå¯åŠ¨ run() { const { getAst, getDependecies } = Parser const ast = getAst(this.entry) const dependecies = getDependecies(ast, this.entry) } // é‡å†™ requireå‡½æ•°,è¾“å‡ºbundle generate() {} } new Compiler(options).run() 4. AST è½¬æ¢ä¸º codeå°† AST è¯­æ³•æ ‘è½¬æ¢ä¸ºæµè§ˆå™¨å¯æ‰§è¡Œä»£ç ,æˆ‘ä»¬è¿™é‡Œä½¿ç”¨@babel/core å’Œ @babel/preset-envã€‚ const fs = require('fs') const path = require('path') const options = require('./webpack.config') const parser = require('@babel/parser') const traverse = require('@babel/traverse').default const { transformFromAst } = require('@babel/core') const Parser = { getAst: path =&gt; { // è¯»å–å…¥å£æ–‡ä»¶ const content = fs.readFileSync(path, 'utf-8') // å°†æ–‡ä»¶å†…å®¹è½¬ä¸ºASTæŠ½è±¡è¯­æ³•æ ‘ return parser.parse(content, { sourceType: 'module' }) }, getDependecies: (ast, filename) =&gt; { const dependecies = {} // éå†æ‰€æœ‰çš„ import æ¨¡å—,å­˜å…¥dependecies traverse(ast, { // ç±»å‹ä¸º ImportDeclaration çš„ AST èŠ‚ç‚¹ (å³ä¸ºimport è¯­å¥) ImportDeclaration({ node }) { const dirname = path.dirname(filename) // ä¿å­˜ä¾èµ–æ¨¡å—è·¯å¾„,ä¹‹åç”Ÿæˆä¾èµ–å…³ç³»å›¾éœ€è¦ç”¨åˆ° const filepath = './' + path.join(dirname, node.source.value) dependecies[node.source.value] = filepath } }) return dependecies }, getCode: ast =&gt; { // ASTè½¬æ¢ä¸ºcode const { code } = transformFromAst(ast, null, { presets: ['@babel/preset-env'] }) return code } } class Compiler { constructor(options) { // webpack é…ç½® const { entry, output } = options // å…¥å£ this.entry = entry // å‡ºå£ this.output = output // æ¨¡å— this.modules = [] } // æ„å»ºå¯åŠ¨ run() { const { getAst, getDependecies, getCode } = Parser const ast = getAst(this.entry) const dependecies = getDependecies(ast, this.entry) const code = getCode(ast) } // é‡å†™ requireå‡½æ•°,è¾“å‡ºbundle generate() {} } new Compiler(options).run() 5. é€’å½’è§£ææ‰€æœ‰ä¾èµ–é¡¹,ç”Ÿæˆä¾èµ–å…³ç³»å›¾const fs = require('fs') const path = require('path') const options = require('./webpack.config') const parser = require('@babel/parser') const traverse = require('@babel/traverse').default const { transformFromAst } = require('@babel/core') const Parser = { getAst: path =&gt; { // è¯»å–å…¥å£æ–‡ä»¶ const content = fs.readFileSync(path, 'utf-8') // å°†æ–‡ä»¶å†…å®¹è½¬ä¸ºASTæŠ½è±¡è¯­æ³•æ ‘ return parser.parse(content, { sourceType: 'module' }) }, getDependecies: (ast, filename) =&gt; { const dependecies = {} // éå†æ‰€æœ‰çš„ import æ¨¡å—,å­˜å…¥dependecies traverse(ast, { // ç±»å‹ä¸º ImportDeclaration çš„ AST èŠ‚ç‚¹ (å³ä¸ºimport è¯­å¥) ImportDeclaration({ node }) { const dirname = path.dirname(filename) // ä¿å­˜ä¾èµ–æ¨¡å—è·¯å¾„,ä¹‹åç”Ÿæˆä¾èµ–å…³ç³»å›¾éœ€è¦ç”¨åˆ° const filepath = './' + path.join(dirname, node.source.value) dependecies[node.source.value] = filepath } }) return dependecies }, getCode: ast =&gt; { // ASTè½¬æ¢ä¸ºcode const { code } = transformFromAst(ast, null, { presets: ['@babel/preset-env'] }) return code } } class Compiler { constructor(options) { // webpack é…ç½® const { entry, output } = options // å…¥å£ this.entry = entry // å‡ºå£ this.output = output // æ¨¡å— this.modules = [] } // æ„å»ºå¯åŠ¨ run() { // è§£æå…¥å£æ–‡ä»¶ const info = this.build(this.entry) this.modules.push(info) this.modules.forEach(({ dependecies }) =&gt; { // åˆ¤æ–­æœ‰ä¾èµ–å¯¹è±¡,é€’å½’è§£ææ‰€æœ‰ä¾èµ–é¡¹ if (dependecies) { for (const dependency in dependecies) { this.modules.push(this.build(dependecies[dependency])) } } }) // ç”Ÿæˆä¾èµ–å…³ç³»å›¾ const dependencyGraph = this.modules.reduce( (graph, item) =&gt; ({ ...graph, // ä½¿ç”¨æ–‡ä»¶è·¯å¾„ä½œä¸ºæ¯ä¸ªæ¨¡å—çš„å”¯ä¸€æ ‡è¯†ç¬¦,ä¿å­˜å¯¹åº”æ¨¡å—çš„ä¾èµ–å¯¹è±¡å’Œæ–‡ä»¶å†…å®¹ [item.filename]: { dependecies: item.dependecies, code: item.code } }), {} ) } build(filename) { const { getAst, getDependecies, getCode } = Parser const ast = getAst(filename) const dependecies = getDependecies(ast, filename) const code = getCode(ast) return { // æ–‡ä»¶è·¯å¾„,å¯ä»¥ä½œä¸ºæ¯ä¸ªæ¨¡å—çš„å”¯ä¸€æ ‡è¯†ç¬¦ filename, // ä¾èµ–å¯¹è±¡,ä¿å­˜ç€ä¾èµ–æ¨¡å—è·¯å¾„ dependecies, // æ–‡ä»¶å†…å®¹ code } } // é‡å†™ requireå‡½æ•°,è¾“å‡ºbundle generate() {} } new Compiler(options).run() 6. é‡å†™ require å‡½æ•°,è¾“å‡º bundleconst fs = require('fs') const path = require('path') const options = require('./webpack.config') const parser = require('@babel/parser') const traverse = require('@babel/traverse').default const { transformFromAst } = require('@babel/core') const Parser = { getAst: path =&gt; { // è¯»å–å…¥å£æ–‡ä»¶ const content = fs.readFileSync(path, 'utf-8') // å°†æ–‡ä»¶å†…å®¹è½¬ä¸ºASTæŠ½è±¡è¯­æ³•æ ‘ return parser.parse(content, { sourceType: 'module' }) }, getDependecies: (ast, filename) =&gt; { const dependecies = {} // éå†æ‰€æœ‰çš„ import æ¨¡å—,å­˜å…¥dependecies traverse(ast, { // ç±»å‹ä¸º ImportDeclaration çš„ AST èŠ‚ç‚¹ (å³ä¸ºimport è¯­å¥) ImportDeclaration({ node }) { const dirname = path.dirname(filename) // ä¿å­˜ä¾èµ–æ¨¡å—è·¯å¾„,ä¹‹åç”Ÿæˆä¾èµ–å…³ç³»å›¾éœ€è¦ç”¨åˆ° const filepath = './' + path.join(dirname, node.source.value) dependecies[node.source.value] = filepath } }) return dependecies }, getCode: ast =&gt; { // ASTè½¬æ¢ä¸ºcode const { code } = transformFromAst(ast, null, { presets: ['@babel/preset-env'] }) return code } } class Compiler { constructor(options) { // webpack é…ç½® const { entry, output } = options // å…¥å£ this.entry = entry // å‡ºå£ this.output = output // æ¨¡å— this.modules = [] } // æ„å»ºå¯åŠ¨ run() { // è§£æå…¥å£æ–‡ä»¶ const info = this.build(this.entry) this.modules.push(info) this.modules.forEach(({ dependecies }) =&gt; { // åˆ¤æ–­æœ‰ä¾èµ–å¯¹è±¡,é€’å½’è§£ææ‰€æœ‰ä¾èµ–é¡¹ if (dependecies) { for (const dependency in dependecies) { this.modules.push(this.build(dependecies[dependency])) } } }) // ç”Ÿæˆä¾èµ–å…³ç³»å›¾ const dependencyGraph = this.modules.reduce( (graph, item) =&gt; ({ ...graph, // ä½¿ç”¨æ–‡ä»¶è·¯å¾„ä½œä¸ºæ¯ä¸ªæ¨¡å—çš„å”¯ä¸€æ ‡è¯†ç¬¦,ä¿å­˜å¯¹åº”æ¨¡å—çš„ä¾èµ–å¯¹è±¡å’Œæ–‡ä»¶å†…å®¹ [item.filename]: { dependecies: item.dependecies, code: item.code } }), {} ) this.generate(dependencyGraph) } build(filename) { const { getAst, getDependecies, getCode } = Parser const ast = getAst(filename) const dependecies = getDependecies(ast, filename) const code = getCode(ast) return { // æ–‡ä»¶è·¯å¾„,å¯ä»¥ä½œä¸ºæ¯ä¸ªæ¨¡å—çš„å”¯ä¸€æ ‡è¯†ç¬¦ filename, // ä¾èµ–å¯¹è±¡,ä¿å­˜ç€ä¾èµ–æ¨¡å—è·¯å¾„ dependecies, // æ–‡ä»¶å†…å®¹ code } } // é‡å†™ requireå‡½æ•° (æµè§ˆå™¨ä¸èƒ½è¯†åˆ«commonjsè¯­æ³•),è¾“å‡ºbundle generate(code) { // è¾“å‡ºæ–‡ä»¶è·¯å¾„ const filePath = path.join(this.output.path, this.output.filename) // æ‡µé€¼äº†å—? æ²¡äº‹,ä¸‹ä¸€èŠ‚æˆ‘ä»¬æ‹ä¸€æ‹ const bundle = `(function(graph){ function require(module){ function localRequire(relativePath){ return require(graph[module].dependecies[relativePath]) } var exports = {}; (function(require,exports,code){ eval(code) })(localRequire,exports,graph[module].code); return exports; } require('${this.entry}') })(${JSON.stringify(code)})` // æŠŠæ–‡ä»¶å†…å®¹å†™å…¥åˆ°æ–‡ä»¶ç³»ç»Ÿ fs.writeFileSync(filePath, bundle, 'utf-8') } } new Compiler(options).run() 7. çœ‹å®Œè¿™èŠ‚,å½»åº•ææ‡‚ bundle å®ç°æˆ‘ä»¬é€šè¿‡ä¸‹é¢çš„ä¾‹å­æ¥è¿›è¡Œè®²è§£,å…ˆæ­»äº¡å‡è§† 30 ç§’ ;(function(graph) { function require(moduleId) { function localRequire(relativePath) { return require(graph[moduleId].dependecies[relativePath]) } var exports = {} ;(function(require, exports, code) { eval(code) })(localRequire, exports, graph[moduleId].code) return exports } require('./src/index.js') })({ './src/index.js': { dependecies: { './hello.js': './src/hello.js' }, code: '\"use strict\";\\n\\nvar _hello = require(\"./hello.js\");\\n\\ndocument.write((0, _hello.say)(\"webpack\"));' }, './src/hello.js': { dependecies: {}, code: '\"use strict\";\\n\\nObject.defineProperty(exports, \"__esModule\", {\\n value: true\\n});\\nexports.say = say;\\n\\nfunction say(name) {\\n return \"hello \".concat(name);\\n}' } }) step 1 : ä»å…¥å£æ–‡ä»¶å¼€å§‹æ‰§è¡Œ// å®šä¹‰ä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°,ä¼ å…¥ç”Ÿæˆçš„ä¾èµ–å…³ç³»å›¾ ;(function(graph) { // é‡å†™requireå‡½æ•° function require(moduleId) { console.log(moduleId) // ./src/index.js } // ä»å…¥å£æ–‡ä»¶å¼€å§‹æ‰§è¡Œ require('./src/index.js') })({ './src/index.js': { dependecies: { './hello.js': './src/hello.js' }, code: '\"use strict\";\\n\\nvar _hello = require(\"./hello.js\");\\n\\ndocument.write((0, _hello.say)(\"webpack\"));' }, './src/hello.js': { dependecies: {}, code: '\"use strict\";\\n\\nObject.defineProperty(exports, \"__esModule\", {\\n value: true\\n});\\nexports.say = say;\\n\\nfunction say(name) {\\n return \"hello \".concat(name);\\n}' } }) step 2 : ä½¿ç”¨ eval æ‰§è¡Œä»£ç // å®šä¹‰ä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°,ä¼ å…¥ç”Ÿæˆçš„ä¾èµ–å…³ç³»å›¾ ;(function(graph) { // é‡å†™requireå‡½æ•° function require(moduleId) { ;(function(code) { console.log(code) // \"use strict\";\\n\\nvar _hello = require(\"./hello.js\");\\n\\ndocument.write((0, _hello.say)(\"webpack\")); eval(code) // Uncaught TypeError: Cannot read property 'code' of undefined })(graph[moduleId].code) } // ä»å…¥å£æ–‡ä»¶å¼€å§‹æ‰§è¡Œ require('./src/index.js') })({ './src/index.js': { dependecies: { './hello.js': './src/hello.js' }, code: '\"use strict\";\\n\\nvar _hello = require(\"./hello.js\");\\n\\ndocument.write((0, _hello.say)(\"webpack\"));' }, './src/hello.js': { dependecies: {}, code: '\"use strict\";\\n\\nObject.defineProperty(exports, \"__esModule\", {\\n value: true\\n});\\nexports.say = say;\\n\\nfunction say(name) {\\n return \"hello \".concat(name);\\n}' } }) å¯ä»¥çœ‹åˆ°,æˆ‘ä»¬åœ¨æ‰§è¡Œâ€./src/index.jsâ€æ–‡ä»¶ä»£ç çš„æ—¶å€™æŠ¥é”™äº†,è¿™æ˜¯å› ä¸º index.js é‡Œå¼•ç”¨ä¾èµ– hello.js,è€Œæˆ‘ä»¬æ²¡æœ‰å¯¹ä¾èµ–è¿›è¡Œå¤„ç†,æ¥ä¸‹æ¥æˆ‘ä»¬å¯¹ä¾èµ–å¼•ç”¨è¿›è¡Œå¤„ç†ã€‚ step 3 : ä¾èµ–å¯¹è±¡å¯»å€æ˜ å°„,è·å– exports å¯¹è±¡// å®šä¹‰ä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°,ä¼ å…¥ç”Ÿæˆçš„ä¾èµ–å…³ç³»å›¾ ;(function(graph) { // é‡å†™requireå‡½æ•° function require(moduleId) { // æ‰¾åˆ°å¯¹åº”moduleIdçš„ä¾èµ–å¯¹è±¡,è°ƒç”¨requireå‡½æ•°,evalæ‰§è¡Œ,æ‹¿åˆ°exportså¯¹è±¡ function localRequire(relativePath) { return require(graph[moduleId].dependecies[relativePath]) // {__esModule: true, say: Æ’ say(name)} } // å®šä¹‰exportså¯¹è±¡ var exports = {} ;(function(require, exports, code) { // commonjsè¯­æ³•ä½¿ç”¨module.exportsæš´éœ²å®ç°,æˆ‘ä»¬ä¼ å…¥çš„exportså¯¹è±¡ä¼šæ•è·ä¾èµ–å¯¹è±¡(hello.js)æš´éœ²çš„å®ç°(exports.say = say)å¹¶å†™å…¥ eval(code) })(localRequire, exports, graph[moduleId].code) // æš´éœ²exportså¯¹è±¡,å³æš´éœ²ä¾èµ–å¯¹è±¡å¯¹åº”çš„å®ç° return exports } // ä»å…¥å£æ–‡ä»¶å¼€å§‹æ‰§è¡Œ require('./src/index.js') })({ './src/index.js': { dependecies: { './hello.js': './src/hello.js' }, code: '\"use strict\";\\n\\nvar _hello = require(\"./hello.js\");\\n\\ndocument.write((0, _hello.say)(\"webpack\"));' }, './src/hello.js': { dependecies: {}, code: '\"use strict\";\\n\\nObject.defineProperty(exports, \"__esModule\", {\\n value: true\\n});\\nexports.say = say;\\n\\nfunction say(name) {\\n return \"hello \".concat(name);\\n}' } }) è¿™ä¸‹åº”è¯¥æ˜ç™½äº†å§ ~ å¯ä»¥ç›´æ¥å¤åˆ¶ä¸Šé¢ä»£ç åˆ°æ§åˆ¶å°è¾“å‡ºå“¦~ å®Œæ•´ä»£ç åœ°å€æˆ³æˆ‘ ğŸ‘ˆ æ€»ç»“ Webpack æ˜¯ä¸€ä¸ªåºå¤§çš„ Node.js åº”ç”¨,å¦‚æœä½ é˜…è¯»è¿‡å®ƒçš„æºç ,ä½ ä¼šå‘ç°å®ç°ä¸€ä¸ªå®Œæ•´çš„ Webpack éœ€è¦ç¼–å†™éå¸¸å¤šçš„ä»£ç ã€‚ ä½†ä½ æ— éœ€äº†è§£æ‰€æœ‰çš„ç»†èŠ‚,åªéœ€äº†è§£å…¶æ•´ä½“æ¶æ„å’Œéƒ¨åˆ†ç»†èŠ‚å³å¯ã€‚ å¯¹ Webpack çš„ä½¿ç”¨è€…æ¥è¯´,å®ƒæ˜¯ä¸€ä¸ªç®€å•å¼ºå¤§çš„å·¥å…·ï¼› å¯¹ Webpack çš„å¼€å‘è€…æ¥è¯´,å®ƒæ˜¯ä¸€ä¸ªæ‰©å±•æ€§çš„é«˜ç³»ç»Ÿã€‚ Webpack ä¹‹æ‰€ä»¥èƒ½æˆåŠŸ,åœ¨äºå®ƒæŠŠå¤æ‚çš„å®ç°éšè—äº†èµ·æ¥,ç»™ç”¨æˆ·æš´éœ²å‡ºçš„åªæ˜¯ä¸€ä¸ªç®€å•çš„å·¥å…·,è®©ç”¨æˆ·èƒ½å¿«é€Ÿè¾¾æˆç›®çš„ã€‚ åŒæ—¶æ•´ä½“æ¶æ„è®¾è®¡åˆç†,æ‰©å±•æ€§é«˜,å¼€å‘æ‰©å±•éš¾åº¦ä¸é«˜,é€šè¿‡ç¤¾åŒºè¡¥è¶³äº†å¤§é‡ç¼ºå¤±çš„åŠŸèƒ½,è®© Webpack å‡ ä¹èƒ½èƒœä»»ä»»ä½•åœºæ™¯ã€‚","categories":[],"tags":[{"name":"Webpack","slug":"Webpack","permalink":"https://promisefine.github.io/tags/Webpack/"}],"author":"Doney"},{"title":"æ“ä½œç³»ç»Ÿçš„å‘å±•å²","slug":"linux09","date":"2019-12-08T06:32:02.000Z","updated":"2021-07-16T06:34:47.677Z","comments":true,"path":"posts/5ec3b9ec.html","link":"","permalink":"https://promisefine.github.io/posts/5ec3b9ec.html","excerpt":"","text":"æ“ä½œç³»ç»Ÿçš„å‘å±•å²ï¼ˆç§‘æ™®ç« èŠ‚ï¼‰ç›®æ ‡ äº†è§£æ“ä½œç³»ç»Ÿçš„å‘å±•å†å² çŸ¥é“ Linux å†…æ ¸åŠå‘è¡Œç‰ˆçš„åŒºåˆ« çŸ¥é“ Linux çš„åº”ç”¨é¢†åŸŸ 01. æ“ä½œç³»ç»Ÿçš„å‘å±•å†å²1.1 Unix1965 å¹´ä¹‹å‰çš„æ—¶å€™ï¼Œç”µè„‘å¹¶ä¸åƒç°åœ¨ä¸€æ ·æ™®éï¼Œå®ƒå¯ä¸æ˜¯ä¸€èˆ¬äººèƒ½ç¢°çš„èµ·çš„ï¼Œé™¤éæ˜¯å†›äº‹æˆ–è€…å­¦é™¢çš„ç ”ç©¶æœºæ„ï¼Œè€Œä¸”å½“æ—¶å¤§å‹ä¸»æœºè‡³å¤šèƒ½æä¾›30å°ç»ˆç«¯ï¼ˆ30ä¸ªé”®ç›˜ã€æ˜¾ç¤ºå™¨)ï¼Œè¿æ¥ä¸€å°ç”µè„‘ ä¸ºäº†è§£å†³æ•°é‡ä¸å¤Ÿç”¨çš„é—®é¢˜ 1965 å¹´å·¦åç”± è´å°”å®éªŒå®¤ åŠ å…¥äº† éº»çœç†å·¥å­¦é™¢ ä»¥åŠ é€šç”¨ç”µæ°” åˆä½œçš„è®¡åˆ’ â€”â€” è¯¥è®¡åˆ’è¦å»ºç«‹ä¸€å¥— å¤šä½¿ç”¨è€…(multiï¼user)**ã€å¤šä»»åŠ¡(multiï¼processor)ã€å¤šå±‚æ¬¡(multiï¼level)** çš„ MULTICS æ“ä½œç³»ç»Ÿï¼Œæƒ³è®©å¤§å‹ä¸»æœºæ”¯æŒ 300 å°ç»ˆç«¯ 1969 å¹´å‰åè¿™ä¸ªé¡¹ç›®è¿›åº¦ç¼“æ…¢ï¼Œèµ„é‡‘çŸ­ç¼ºï¼Œè´å°”å®éªŒå®¤é€€å‡ºäº†ç ”ç©¶ 1969 å¹´ä»è¿™ä¸ªé¡¹ç›®ä¸­é€€å‡ºçš„ Ken Thompson å½“æ—¶åœ¨å®éªŒå®¤æ— èŠæ—¶ï¼Œä¸ºäº†è®©ä¸€å°ç©ºé—²çš„ç”µè„‘ä¸Šèƒ½å¤Ÿè¿è¡Œ â€œæ˜Ÿé™…æ—…è¡Œï¼ˆSpace Travelï¼‰â€ æ¸¸æˆï¼Œåœ¨ 8 æœˆä»½å·¦å³è¶ç€å…¶å¦»å­æ¢äº²çš„æ—¶é—´ï¼Œç”¨äº† 1 ä¸ªæœˆçš„æ—¶é—´ï¼Œä½¿ç”¨æ±‡ç¼–å†™å‡ºäº† Unix æ“ä½œç³»ç»Ÿçš„åŸå‹ 1970 å¹´ï¼Œç¾å›½è´å°”å®éªŒå®¤çš„ Ken Thompsonï¼Œä»¥ BCPL è¯­è¨€ä¸ºåŸºç¡€ï¼Œè®¾è®¡å‡ºå¾ˆç®€å•ä¸”å¾ˆæ¥è¿‘ç¡¬ä»¶çš„ B è¯­è¨€ï¼ˆå–BCPLçš„é¦–å­—æ¯ï¼‰ï¼Œå¹¶ä¸”ä»–ç”¨ B è¯­è¨€ å†™äº†ç¬¬ä¸€ä¸ª UNIX æ“ä½œç³»ç»Ÿ 1971 å¹´ï¼ŒåŒæ ·é…·çˆ± â€œæ˜Ÿé™…æ—…è¡Œï¼ˆSpace Travelï¼‰â€ çš„ Dennis M.Ritchie ä¸ºäº†èƒ½æ—©ç‚¹å„¿ç©ä¸Šæ¸¸æˆï¼ŒåŠ å…¥äº† Thompson çš„å¼€å‘é¡¹ç›®ï¼Œåˆä½œå¼€å‘ UNIXï¼Œä»–çš„ä¸»è¦å·¥ä½œæ˜¯æ”¹é€  B è¯­è¨€ï¼Œå› ä¸ºB è¯­è¨€ çš„è·¨å¹³å°æ€§è¾ƒå·® 1972 å¹´ï¼ŒDennis M.Ritchie åœ¨ B è¯­è¨€ çš„åŸºç¡€ä¸Šæœ€ç»ˆè®¾è®¡å‡ºäº†ä¸€ç§æ–°çš„è¯­è¨€ï¼Œä»–å–äº† BCPL çš„ç¬¬äºŒä¸ªå­—æ¯ä½œä¸ºè¿™ç§è¯­è¨€çš„åå­—ï¼Œè¿™å°±æ˜¯ C è¯­è¨€ 1973 å¹´åˆï¼ŒC è¯­è¨€çš„ä¸»ä½“å®Œæˆï¼ŒThompson å’Œ Ritchie è¿«ä¸åŠå¾…åœ°å¼€å§‹ç”¨å®ƒå®Œå…¨é‡å†™äº†ç°åœ¨å¤§åé¼é¼çš„ Unix æ“ä½œç³»ç»Ÿ C è¯­è¨€ åœ¨æŠŠ UNIX ç§»æ¤åˆ°å…¶ä»–ç±»å‹çš„è®¡ç®—æœºä¸Šä½¿ç”¨æ—¶ï¼ŒC è¯­è¨€å¼ºå¤§çš„ç§»æ¤æ€§ï¼ˆPortabilityï¼‰åœ¨æ­¤æ˜¾ç° æœºå™¨è¯­è¨€å’Œæ±‡ç¼–è¯­è¨€éƒ½ä¸å…·æœ‰ç§»æ¤æ€§ï¼Œä¸º x86 å¼€å‘çš„ç¨‹åºï¼Œä¸å¯èƒ½åœ¨ Alphaï¼ŒSPARC å’Œ ARM ç­‰æœºå™¨ä¸Šè¿è¡Œ è€Œ C è¯­è¨€ç¨‹åºåˆ™å¯ä»¥ä½¿ç”¨åœ¨ä»»æ„æ¶æ„çš„å¤„ç†å™¨ä¸Šï¼Œåªè¦é‚£ç§æ¶æ„çš„å¤„ç†å™¨å…·æœ‰å¯¹åº”çš„ C è¯­è¨€ç¼–è¯‘å™¨å’Œåº“ï¼Œç„¶åå°† C æºä»£ç ç¼–è¯‘ã€è¿æ¥æˆç›®æ ‡äºŒè¿›åˆ¶æ–‡ä»¶ä¹‹åå³å¯è¿è¡Œ 1.2 Minix å› ä¸º AT&amp;Tï¼ˆé€šç”¨ç”µæ°”ï¼‰ çš„æ”¿ç­–æ”¹å˜ï¼Œåœ¨ Version 7 Unix æ¨å‡ºä¹‹åï¼Œå‘å¸ƒæ–°çš„ä½¿ç”¨æ¡æ¬¾ï¼Œå°† UNIX æºä»£ç ç§æœ‰åŒ–ï¼Œåœ¨å¤§å­¦ä¸­ä¸å†èƒ½ä½¿ç”¨ UNIX æºä»£ç  Andrew S. Tanenbaumï¼ˆå¡”èƒ½é²å§†ï¼‰ æ•™æˆä¸ºäº†èƒ½ åœ¨è¯¾å ‚ä¸Šæ•™æˆå­¦ç”Ÿæ“ä½œç³»ç»Ÿè¿ä½œçš„ç»†èŠ‚ï¼Œå†³å®šåœ¨ä¸ä½¿ç”¨ä»»ä½• AT&amp;T çš„æºä»£ç å‰æä¸‹ï¼Œè‡ªè¡Œå¼€å‘ä¸ UNIX å…¼å®¹çš„æ“ä½œç³»ç»Ÿï¼Œä»¥é¿å…ç‰ˆæƒä¸Šçš„äº‰è®® ä»¥ å°å‹ UNIXï¼ˆmini-UNIXï¼‰ä¹‹æ„ï¼Œå°†å®ƒç§°ä¸º MINIX 1.3 Linux 1991 å¹´ æ—çº³æ–¯ï¼ˆLinusï¼‰ å°±è¯»äºèµ«å°”è¾›åŸºå¤§å­¦æœŸé—´ï¼Œå¯¹ Unix äº§ç”Ÿæµ“åšå…´è¶£ï¼Œå°è¯•ç€åœ¨Minix ä¸Šåšä¸€äº›å¼€å‘å·¥ä½œ å› ä¸º Minix åªæ˜¯æ•™å­¦ä½¿ç”¨ï¼Œå› æ­¤åŠŸèƒ½å¹¶ä¸å¼ºï¼Œæ—çº³æ–¯ ç»å¸¸è¦ç”¨ä»–çš„ç»ˆç«¯ ä»¿çœŸå™¨ï¼ˆTerminal Emulatorï¼‰ å»è®¿é—®å¤§å­¦ä¸»æœºä¸Šçš„æ–°é—»ç»„å’Œé‚®ä»¶ï¼Œä¸ºäº†æ–¹ä¾¿è¯»å†™å’Œä¸‹è½½æ–‡ä»¶ï¼Œä»–è‡ªå·±ç¼–å†™äº†ç£ç›˜é©±åŠ¨ç¨‹åºå’Œæ–‡ä»¶ç³»ç»Ÿï¼Œè¿™äº›åœ¨åæ¥æˆä¸ºäº† Linux ç¬¬ä¸€ä¸ªå†…æ ¸çš„é›å½¢ï¼Œå½“æ—¶ï¼Œä»–å¹´ä»… 21 å²ï¼ æ—çº³æ–¯ åˆ©ç”¨ GNU çš„ bash å½“åšå¼€å‘ç¯å¢ƒï¼Œgcc å½“åšç¼–è¯‘å·¥å…·ï¼Œç¼–å†™äº† Linux å†…æ ¸ï¼Œä¸€å¼€å§‹ Linux å¹¶ä¸èƒ½å…¼å®¹ Unix å³ Unix ä¸Šè·‘çš„åº”ç”¨ç¨‹åºä¸èƒ½åœ¨ Linux ä¸Šè·‘ï¼Œå³åº”ç”¨ç¨‹åºä¸å†…æ ¸ä¹‹é—´çš„æ¥å£ä¸ä¸€è‡´ ä¸€å¼€å§‹ Linux åªé€‚ç”¨äº 386ï¼Œåæ¥ç»è¿‡å…¨ä¸–ç•Œçš„ç½‘å‹çš„å¸®åŠ©ï¼Œæœ€ç»ˆèƒ½å¤Ÿå…¼å®¹å¤šç§ç¡¬ä»¶ 02. Linux å†…æ ¸åŠå‘è¡Œç‰ˆ2.1 Linux å†…æ ¸ç‰ˆæœ¬ å†…æ ¸ï¼ˆkernelï¼‰æ˜¯ç³»ç»Ÿçš„å¿ƒè„ï¼Œæ˜¯è¿è¡Œç¨‹åºå’Œç®¡ç†åƒç£ç›˜å’Œæ‰“å°æœºç­‰ç¡¬ä»¶è®¾å¤‡çš„æ ¸å¿ƒç¨‹åºï¼Œå®ƒæä¾›äº†ä¸€ä¸ªåœ¨è£¸è®¾å¤‡ä¸åº”ç”¨ç¨‹åºé—´çš„æŠ½è±¡å±‚ Linux å†…æ ¸ç‰ˆæœ¬åˆåˆ†ä¸º ç¨³å®šç‰ˆ å’Œ å¼€å‘ç‰ˆï¼Œä¸¤ç§ç‰ˆæœ¬æ˜¯ç›¸äº’å…³è”ï¼Œç›¸äº’å¾ªç¯ ç¨³å®šç‰ˆï¼šå…·æœ‰å·¥ä¸šçº§å¼ºåº¦ï¼Œå¯ä»¥å¹¿æ³›åœ°åº”ç”¨å’Œéƒ¨ç½²ã€‚æ–°çš„ç¨³å®šç‰ˆç›¸å¯¹äºè¾ƒæ—§çš„åªæ˜¯ä¿®æ­£ä¸€äº› bug æˆ–åŠ å…¥ä¸€äº›æ–°çš„é©±åŠ¨ç¨‹åº å¼€å‘ç‰ˆï¼šç”±äºè¦è¯•éªŒå„ç§è§£å†³æ–¹æ¡ˆï¼Œæ‰€ä»¥å˜åŒ–å¾ˆå¿« å†…æ ¸æºç ç½‘å€ï¼šhttp://www.kernel.org æ‰€æœ‰æ¥è‡ªå…¨ä¸–ç•Œçš„å¯¹ Linux æºç çš„ä¿®æ”¹æœ€ç»ˆéƒ½ä¼šæ±‡æ€»åˆ°è¿™ä¸ªç½‘ç«™ï¼Œç”± Linus é¢†å¯¼çš„å¼€æºç¤¾åŒºå¯¹å…¶è¿›è¡Œç”„åˆ«å’Œä¿®æ”¹æœ€ç»ˆå†³å®šæ˜¯å¦è¿›å…¥åˆ° Linux ä¸»çº¿å†…æ ¸æºç ä¸­ 2.2 Linux å‘è¡Œç‰ˆæœ¬ Linux å‘è¡Œç‰ˆï¼ˆä¹Ÿè¢«å«åš GNU/Linux å‘è¡Œç‰ˆï¼‰é€šå¸¸åŒ…å«äº†åŒ…æ‹¬æ¡Œé¢ç¯å¢ƒã€åŠå…¬å¥—ä»¶ã€åª’ä½“æ’­æ”¾å™¨ã€æ•°æ®åº“ç­‰åº”ç”¨è½¯ä»¶ å¸¸è§çš„å‘è¡Œç‰ˆæœ¬å¦‚ä¸‹ï¼š Ubuntu Redhat Fedora openSUSE Linux Mint Debian Manjaro Mageia CentOS Arch åå¤§ Linux æœåŠ¡å™¨å‘è¡Œç‰ˆæ’è¡Œæ¦œï¼šhttp://os.51cto.com/art/201612/526126.htm åœ¨å‡ ä¹æ¯ä¸€ä»½ä¸ Linux æœ‰å…³çš„æ¦œå•ä¸Šï¼ŒåŸºäº Debian çš„ Ubuntu éƒ½å æœ‰ä¸€å¸­ä¹‹ä½ã€‚Canonical çš„Ubuntu èƒœè¿‡å…¶ä»–æ‰€æœ‰çš„ Linux æœåŠ¡å™¨å‘è¡Œç‰ˆ â€•â€• ä»ç®€å•å®‰è£…ã€å‡ºè‰²çš„ç¡¬ä»¶å‘ç°ï¼Œåˆ°ä¸–ç•Œçº§çš„å•†ä¸šæ”¯æŒï¼ŒUbuntuç¡®ç«‹äº†éš¾ä»¥ä¼åŠçš„ä¸¥æ ¼æ ‡å‡† 03. Linux çš„åº”ç”¨é¢†åŸŸ3.1 æœåŠ¡å™¨é¢†åŸŸ Linux åœ¨æœåŠ¡å™¨é¢†åŸŸçš„åº”ç”¨æ˜¯å…¶é‡è¦åˆ†æ”¯ Linux å…è´¹ã€ç¨³å®šã€é«˜æ•ˆç­‰ç‰¹ç‚¹åœ¨è¿™é‡Œå¾—åˆ°äº†å¾ˆå¥½çš„ä½“ç° æ—©æœŸå› ä¸ºç»´æŠ¤ã€è¿è¡Œç­‰åŸå› åŒæ ·å—åˆ°äº†å¾ˆå¤§çš„é™åˆ¶ è¿‘äº›å¹´æ¥ Linux æœåŠ¡å™¨å¸‚åœºå¾—åˆ°äº†é£é€Ÿçš„æå‡ï¼Œå°¤å…¶åœ¨ä¸€äº›é«˜ç«¯é¢†åŸŸå°¤ä¸ºå¹¿æ³› 3.2 åµŒå…¥å¼é¢†åŸŸ è¿‘äº›å¹´æ¥ Linux åœ¨åµŒå…¥å¼é¢†åŸŸçš„åº”ç”¨å¾—åˆ°äº†é£é€Ÿçš„æé«˜ Linux è¿è¡Œç¨³å®šã€å¯¹ç½‘ç»œçš„è‰¯å¥½æ”¯æŒæ€§ã€ä½æˆæœ¬ï¼Œä¸”å¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œè½¯ä»¶è£å‰ªï¼Œå†…æ ¸æœ€å°å¯ä»¥è¾¾åˆ°å‡ ç™¾ KB ç­‰ç‰¹ç‚¹ï¼Œä½¿å…¶è¿‘äº›å¹´æ¥åœ¨åµŒå…¥å¼é¢†åŸŸçš„åº”ç”¨å¾—åˆ°éå¸¸å¤§çš„æé«˜ ä¸»è¦åº”ç”¨ï¼šæœºé¡¶ç›’ã€æ•°å­—ç”µè§†ã€ç½‘ç»œç”µè¯ã€ç¨‹æ§äº¤æ¢æœºã€æ‰‹æœºã€PDAã€ç­‰éƒ½æ˜¯å…¶åº”ç”¨é¢†åŸŸï¼Œå¾—åˆ°äº† Googleã€ä¸‰æ˜Ÿã€æ‘©æ‰˜ç½—æ‹‰ã€NEC ç­‰å…¬å¸çš„å¤§åŠ›æ¨å¹¿ 3.3 ä¸ªäººæ¡Œé¢é¢†åŸŸ æ­¤é¢†åŸŸæ˜¯ä¼ ç»Ÿ Linux åº”ç”¨æœ€è–„å¼±çš„ç¯èŠ‚ ä¼ ç»Ÿ Linux ç”±äºç•Œé¢ç®€å•ã€æ“ä½œå¤æ‚ã€åº”ç”¨è½¯ä»¶å°‘çš„ç¼ºç‚¹ï¼Œä¸€ç›´è¢« Windows æ‰€å‹åˆ¶ è¿‘äº›å¹´æ¥éšç€ Ubuntuã€Fedora ç­‰ä¼˜ç§€æ¡Œé¢ç¯å¢ƒçš„å…´èµ·ï¼ŒåŒæ—¶å„å¤§ç¡¬ä»¶å‚å•†å¯¹å…¶æ”¯æŒçš„åŠ å¤§ï¼ŒLinux åœ¨ä¸ªäººæ¡Œé¢é¢†åŸŸçš„å æœ‰ç‡åœ¨é€æ¸çš„æé«˜","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://promisefine.github.io/tags/Linux/"}],"author":"Doney"},{"title":"æ“ä½œç³»ç»Ÿ","slug":"linux08","date":"2019-12-08T05:24:57.000Z","updated":"2021-07-16T06:27:09.110Z","comments":true,"path":"posts/29c4897a.html","link":"","permalink":"https://promisefine.github.io/posts/29c4897a.html","excerpt":"","text":"æ“ä½œç³»ç»Ÿç›®æ ‡ äº†è§£æ“ä½œç³»ç»ŸåŠä½œç”¨ 1. æ“ä½œç³»ç»Ÿï¼ˆOperation Systemï¼ŒOSï¼‰ æ²¡æœ‰å®‰è£…æ“ä½œç³»ç»Ÿçš„è®¡ç®—æœºï¼Œé€šå¸¸è¢«ç§°ä¸º è£¸æœº å¦‚æœæƒ³åœ¨ è£¸æœº ä¸Šè¿è¡Œè‡ªå·±æ‰€ç¼–å†™çš„ç¨‹åºï¼Œå°±å¿…é¡»ç”¨æœºå™¨è¯­è¨€ä¹¦å†™ç¨‹åº å¦‚æœè®¡ç®—æœºä¸Šå®‰è£…äº†æ“ä½œç³»ç»Ÿï¼Œå°±å¯ä»¥åœ¨æ“ä½œç³»ç»Ÿä¸Šå®‰è£…æ”¯æŒçš„é«˜çº§è¯­è¨€ç¯å¢ƒï¼Œç”¨é«˜çº§è¯­è¨€å¼€å‘ç¨‹åº 1.1 æ“ä½œç³»ç»Ÿçš„ä½œç”¨ æ˜¯ç°ä»£è®¡ç®—æœºç³»ç»Ÿä¸­ æœ€åŸºæœ¬å’Œæœ€é‡è¦ çš„ç³»ç»Ÿè½¯ä»¶ æ˜¯ é…ç½®åœ¨è®¡ç®—æœºç¡¬ä»¶ä¸Šçš„ç¬¬ä¸€å±‚è½¯ä»¶ï¼Œæ˜¯å¯¹ç¡¬ä»¶ç³»ç»Ÿçš„é¦–æ¬¡æ‰©å±• ä¸»è¦ä½œç”¨æ˜¯ç®¡ç†å¥½ç¡¬ä»¶è®¾å¤‡ï¼Œå¹¶ä¸ºç”¨æˆ·å’Œåº”ç”¨ç¨‹åºæä¾›ä¸€ä¸ªç®€å•çš„æ¥å£ï¼Œä»¥ä¾¿äºä½¿ç”¨ è€Œå…¶ä»–çš„è¯¸å¦‚ç¼–è¯‘ç¨‹åºã€æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œä»¥åŠå¤§é‡çš„åº”ç”¨è½¯ä»¶ï¼Œéƒ½ç›´æ¥ä¾èµ–äºæ“ä½œç³»ç»Ÿçš„æ”¯æŒ 1.2 ä¸åŒåº”ç”¨é¢†åŸŸçš„ä¸»æµæ“ä½œç³»ç»Ÿ æ¡Œé¢æ“ä½œç³»ç»Ÿ æœåŠ¡å™¨æ“ä½œç³»ç»Ÿ åµŒå…¥å¼æ“ä½œç³»ç»Ÿ ç§»åŠ¨è®¾å¤‡æ“ä½œç³»ç»Ÿ 1&gt; æ¡Œé¢æ“ä½œç³»ç»Ÿ Windows ç³»åˆ— ç”¨æˆ·ç¾¤ä½“å¤§ macOS é€‚åˆäºå¼€å‘äººå‘˜ Linux åº”ç”¨è½¯ä»¶å°‘ 2&gt; æœåŠ¡å™¨æ“ä½œç³»ç»Ÿ Linux å®‰å…¨ã€ç¨³å®šã€å…è´¹ å æœ‰ç‡é«˜ Windows Server ä»˜è´¹ å æœ‰ç‡ä½ 3&gt; åµŒå…¥å¼æ“ä½œç³»ç»Ÿ Linux 4&gt; ç§»åŠ¨è®¾å¤‡æ“ä½œç³»ç»Ÿ iOS Androidï¼ˆåŸºäº Linuxï¼‰ 1.3 è™šæ‹Ÿæœºè™šæ‹Ÿæœºï¼ˆVirtual Machineï¼‰æŒ‡é€šè¿‡è½¯ä»¶æ¨¡æ‹Ÿçš„å…·æœ‰å®Œæ•´ç¡¬ä»¶ç³»ç»ŸåŠŸèƒ½çš„ã€è¿è¡Œåœ¨ä¸€ä¸ªå®Œå…¨éš”ç¦»ç¯å¢ƒä¸­çš„å®Œæ•´è®¡ç®—æœºç³»ç»Ÿ è™šæ‹Ÿç³»ç»Ÿé€šè¿‡ç”Ÿæˆç°æœ‰æ“ä½œç³»ç»Ÿçš„å…¨æ–°è™šæ‹Ÿé•œåƒï¼Œå…·æœ‰çœŸå®æ“ä½œç³»ç»Ÿå®Œå…¨ä¸€æ ·çš„åŠŸèƒ½ è¿›å…¥è™šæ‹Ÿç³»ç»Ÿåï¼Œæ‰€æœ‰æ“ä½œéƒ½æ˜¯åœ¨è¿™ä¸ªå…¨æ–°çš„ç‹¬ç«‹çš„è™šæ‹Ÿç³»ç»Ÿé‡Œé¢è¿›è¡Œï¼Œå¯ä»¥ç‹¬ç«‹å®‰è£…è¿è¡Œè½¯ä»¶ï¼Œä¿å­˜æ•°æ®ï¼Œæ‹¥æœ‰è‡ªå·±çš„ç‹¬ç«‹æ¡Œé¢ï¼Œä¸ä¼šå¯¹çœŸæ­£çš„ç³»ç»Ÿäº§ç”Ÿä»»ä½•å½±å“ è€Œä¸”èƒ½å¤Ÿåœ¨ç°æœ‰ç³»ç»Ÿä¸è™šæ‹Ÿé•œåƒä¹‹é—´çµæ´»åˆ‡æ¢çš„ä¸€ç±»æ“ä½œç³»ç»Ÿ","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://promisefine.github.io/tags/Linux/"}],"author":"Doney"},{"title":"è¿œç¨‹ç®¡ç†å¸¸ç”¨å‘½ä»¤","slug":"linux07","date":"2019-12-07T06:21:46.000Z","updated":"2021-07-16T06:30:30.520Z","comments":true,"path":"posts/b97b94eb.html","link":"","permalink":"https://promisefine.github.io/posts/b97b94eb.html","excerpt":"","text":"è¿œç¨‹ç®¡ç†å¸¸ç”¨å‘½ä»¤ç›®æ ‡ å…³æœº/é‡å¯ shutdown æŸ¥çœ‹æˆ–é…ç½®ç½‘å¡ä¿¡æ¯ ifconfig ping è¿œç¨‹ç™»å½•å’Œå¤åˆ¶æ–‡ä»¶ ssh scp 01. å…³æœº/é‡å¯ åºå· å‘½ä»¤ å¯¹åº”è‹±æ–‡ ä½œç”¨ 01 shutdown é€‰é¡¹ æ—¶é—´ shutdown å…³æœºï¼é‡æ–°å¯åŠ¨ 1.1 shutdown shutdown å‘½ä»¤å¯ä»¥ å®‰å…¨ å…³é—­ æˆ–è€… é‡æ–°å¯åŠ¨ç³»ç»Ÿ é€‰é¡¹ å«ä¹‰ -r é‡æ–°å¯åŠ¨ æç¤ºï¼š ä¸æŒ‡å®šé€‰é¡¹å’Œå‚æ•°ï¼Œé»˜è®¤è¡¨ç¤º 1 åˆ†é’Ÿä¹‹å å…³é—­ç”µè„‘ è¿œç¨‹ç»´æŠ¤æœåŠ¡å™¨æ—¶ï¼Œæœ€å¥½ä¸è¦å…³é—­ç³»ç»Ÿï¼Œè€Œåº”è¯¥é‡æ–°å¯åŠ¨ç³»ç»Ÿ å¸¸ç”¨å‘½ä»¤ç¤ºä¾‹ # é‡æ–°å¯åŠ¨æ“ä½œç³»ç»Ÿï¼Œå…¶ä¸­ now è¡¨ç¤ºç°åœ¨ $ shutdown -r now # ç«‹åˆ»å…³æœºï¼Œå…¶ä¸­ now è¡¨ç¤ºç°åœ¨ $ shutdown now # ç³»ç»Ÿåœ¨ä»Šå¤©çš„ 20:25 ä¼šå…³æœº $ shutdown 20:25 # ç³»ç»Ÿå†è¿‡ååˆ†é’Ÿåè‡ªåŠ¨å…³æœº $ shutdown +10 # å–æ¶ˆä¹‹å‰æŒ‡å®šçš„å…³æœºè®¡åˆ’ $ shutdown -c 02. æŸ¥çœ‹æˆ–é…ç½®ç½‘å¡ä¿¡æ¯ åºå· å‘½ä»¤ å¯¹åº”è‹±æ–‡ ä½œç”¨ 01 ifconfig configure a network interface æŸ¥çœ‹/é…ç½®è®¡ç®—æœºå½“å‰çš„ç½‘å¡é…ç½®ä¿¡æ¯ 02 ping ipåœ°å€ ping æ£€æµ‹åˆ°ç›®æ ‡ ipåœ°å€ çš„è¿æ¥æ˜¯å¦æ­£å¸¸ 2.1 ç½‘å¡ å’Œ IP åœ°å€ç½‘å¡ ç½‘å¡æ˜¯ä¸€ä¸ªä¸“é—¨è´Ÿè´£ç½‘ç»œé€šè®¯çš„ç¡¬ä»¶è®¾å¤‡ IP åœ°å€æ˜¯è®¾ç½®åœ¨ç½‘å¡ä¸Šçš„åœ°å€ä¿¡æ¯ æˆ‘ä»¬å¯ä»¥æŠŠ ç”µè„‘ æ¯”ä½œ ç”µè¯ï¼Œç½‘å¡ ç›¸å½“äº SIM å¡ï¼ŒIP åœ°å€ ç›¸å½“äº ç”µè¯å·ç  IP åœ°å€ æ¯å°è”ç½‘çš„ç”µè„‘ä¸Šéƒ½æœ‰ IP åœ°å€ï¼Œæ˜¯ä¿è¯ç”µè„‘ä¹‹é—´æ­£å¸¸é€šè®¯çš„é‡è¦è®¾ç½® æ³¨æ„ï¼šæ¯å°ç”µè„‘çš„ IP åœ°å€ä¸èƒ½ç›¸åŒï¼Œå¦åˆ™ä¼šå‡ºç° IP åœ°å€å†²çªï¼Œå¹¶ä¸”æ²¡æœ‰åŠæ³•æ­£å¸¸é€šè®¯ æç¤ºï¼šæœ‰å…³ IP åœ°å€çš„è¯¦ç»†å†…å®¹ï¼Œåœ¨å°±ä¸šç­ä¼šè¯¦ç»†è®²è§£ï¼ 2.2 ifconfig ifconfig å¯ä»¥æŸ¥çœ‹ï¼é…ç½®è®¡ç®—æœºå½“å‰çš„ç½‘å¡é…ç½®ä¿¡æ¯ # æŸ¥çœ‹ç½‘å¡é…ç½®ä¿¡æ¯ $ ifconfig # æŸ¥çœ‹ç½‘å¡å¯¹åº”çš„ IP åœ°å€ $ ifconfig | grep inet æç¤ºï¼šä¸€å°è®¡ç®—æœºä¸­æœ‰å¯èƒ½ä¼šæœ‰ä¸€ä¸ª ç‰©ç†ç½‘å¡ å’Œ å¤šä¸ªè™šæ‹Ÿç½‘å¡ï¼Œåœ¨ Linux ä¸­ç‰©ç†ç½‘å¡çš„åå­—é€šå¸¸ä»¥ ensXX è¡¨ç¤º 127.0.0.1 è¢«ç§°ä¸º æœ¬åœ°å›ç¯/ç¯å›åœ°å€ï¼Œä¸€èˆ¬ç”¨æ¥æµ‹è¯•æœ¬æœºç½‘å¡æ˜¯å¦æ­£å¸¸ 2.3 ping# æ£€æµ‹åˆ°ç›®æ ‡ä¸»æœºæ˜¯å¦è¿æ¥æ­£å¸¸ $ ping IPåœ°å€ # æ£€æµ‹æœ¬åœ°ç½‘å¡å·¥ä½œæ­£å¸¸ $ ping 127.0.0.1 ping ä¸€èˆ¬ç”¨äºæ£€æµ‹å½“å‰è®¡ç®—æœºåˆ°ç›®æ ‡è®¡ç®—æœºä¹‹é—´çš„ç½‘ç»œ æ˜¯å¦é€šç•…ï¼Œæ•°å€¼è¶Šå¤§ï¼Œé€Ÿåº¦è¶Šæ…¢ ping çš„å·¥ä½œåŸç†ä¸æ½œæ°´è‰‡çš„å£°çº³ç›¸ä¼¼ï¼Œping è¿™ä¸ªå‘½ä»¤å°±æ˜¯å–è‡ª å£°çº³çš„å£°éŸ³ ç½‘ç»œç®¡ç†å‘˜ä¹‹é—´ä¹Ÿå¸¸å°† ping ç”¨ä½œåŠ¨è¯ â€”â€” ping ä¸€ä¸‹è®¡ç®—æœºXï¼Œçœ‹ä»–æ˜¯å¦å¼€ç€ åŸç†ï¼šç½‘ç»œä¸Šçš„æœºå™¨éƒ½æœ‰ å”¯ä¸€ç¡®å®šçš„ IP åœ°å€ï¼Œæˆ‘ä»¬ç»™ç›®æ ‡ IP åœ°å€å‘é€ä¸€ä¸ªæ•°æ®åŒ…ï¼Œå¯¹æ–¹å°±è¦è¿”å›ä¸€ä¸ªæ•°æ®åŒ…ï¼Œæ ¹æ®è¿”å›çš„æ•°æ®åŒ…ä»¥åŠæ—¶é—´ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šç›®æ ‡ä¸»æœºçš„å­˜åœ¨ æç¤ºï¼šåœ¨ Linux ä¸­ï¼Œæƒ³è¦ç»ˆæ­¢ä¸€ä¸ªç»ˆç«¯ç¨‹åºçš„æ‰§è¡Œï¼Œç»å¤§å¤šæ•°éƒ½å¯ä»¥ä½¿ç”¨ CTRL + C 03. è¿œç¨‹ç™»å½•å’Œå¤åˆ¶æ–‡ä»¶ åºå· å‘½ä»¤ å¯¹åº”è‹±æ–‡ ä½œç”¨ 01 ssh ç”¨æˆ·å@ip secure shell å…³æœºï¼é‡æ–°å¯åŠ¨ 02 scp ç”¨æˆ·å@ip:æ–‡ä»¶åæˆ–è·¯å¾„ ç”¨æˆ·å@ip:æ–‡ä»¶åæˆ–è·¯å¾„ secure copy è¿œç¨‹å¤åˆ¶æ–‡ä»¶ 3.1 ssh åŸºç¡€ï¼ˆé‡ç‚¹ï¼‰åœ¨ Linux ä¸­ SSH æ˜¯ éå¸¸å¸¸ç”¨ çš„å·¥å…·ï¼Œé€šè¿‡ SSH å®¢æˆ·ç«¯ æˆ‘ä»¬å¯ä»¥è¿æ¥åˆ°è¿è¡Œäº† SSH æœåŠ¡å™¨ çš„è¿œç¨‹æœºå™¨ä¸Š SSH å®¢æˆ·ç«¯æ˜¯ä¸€ç§ä½¿ç”¨ Secure Shellï¼ˆSSHï¼‰ åè®®è¿æ¥åˆ°è¿œç¨‹è®¡ç®—æœºçš„è½¯ä»¶ç¨‹åº SSH æ˜¯ç›®å‰è¾ƒå¯é ï¼Œä¸“ä¸ºè¿œç¨‹ç™»å½•ä¼šè¯å’Œå…¶ä»–ç½‘ç»œæœåŠ¡ æä¾›å®‰å…¨æ€§çš„åè®® åˆ©ç”¨ SSH åè®® å¯ä»¥æœ‰æ•ˆé˜²æ­¢è¿œç¨‹ç®¡ç†è¿‡ç¨‹ä¸­çš„ä¿¡æ¯æ³„éœ² é€šè¿‡ SSH åè®® å¯ä»¥å¯¹æ‰€æœ‰ä¼ è¾“çš„æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œä¹Ÿèƒ½å¤Ÿé˜²æ­¢ DNS æ¬ºéª—å’Œ IP æ¬ºéª— SSH çš„å¦ä¸€é¡¹ä¼˜ç‚¹æ˜¯ä¼ è¾“çš„æ•°æ®å¯ä»¥æ˜¯ç»è¿‡å‹ç¼©çš„ï¼Œæ‰€ä»¥å¯ä»¥åŠ å¿«ä¼ è¾“çš„é€Ÿåº¦ 1) åŸŸå å’Œ ç«¯å£å·åŸŸå ç”±ä¸€ä¸² ç”¨ç‚¹åˆ†éš” çš„åå­—ç»„æˆï¼Œä¾‹å¦‚ï¼šwww.itcast.cn æ˜¯ IP åœ°å€ çš„åˆ«åï¼Œæ–¹ä¾¿ç”¨æˆ·è®°å¿† ç«¯å£å· IP åœ°å€ï¼šé€šè¿‡ IP åœ°å€ æ‰¾åˆ°ç½‘ç»œä¸Šçš„ è®¡ç®—æœº ç«¯å£å·ï¼šé€šè¿‡ ç«¯å£å· å¯ä»¥æ‰¾åˆ° è®¡ç®—æœºä¸Šè¿è¡Œçš„åº”ç”¨ç¨‹åº SSH æœåŠ¡å™¨ çš„é»˜è®¤ç«¯å£å·æ˜¯ 22ï¼Œå¦‚æœæ˜¯é»˜è®¤ç«¯å£å·ï¼Œåœ¨è¿æ¥çš„æ—¶å€™ï¼Œå¯ä»¥çœç•¥ å¸¸è§æœåŠ¡ç«¯å£å·åˆ—è¡¨ï¼š åºå· æœåŠ¡ ç«¯å£å· 01 SSH æœåŠ¡å™¨ 22 02 Web æœåŠ¡å™¨ 80 03 HTTPS 443 04 FTP æœåŠ¡å™¨ 21 æç¤ºï¼šæœ‰å…³ ç«¯å£å·çš„è¯¦ç»†å†…å®¹ï¼Œåœ¨å°±ä¸šç­ä¼šè¯¦ç»†è®²è§£ï¼ 2) SSH å®¢æˆ·ç«¯çš„ç®€å•ä½¿ç”¨ssh [-p port] user@remote user æ˜¯åœ¨è¿œç¨‹æœºå™¨ä¸Šçš„ç”¨æˆ·åï¼Œå¦‚æœä¸æŒ‡å®šçš„è¯é»˜è®¤ä¸ºå½“å‰ç”¨æˆ· remote æ˜¯è¿œç¨‹æœºå™¨çš„åœ°å€ï¼Œå¯ä»¥æ˜¯ IPï¼åŸŸåï¼Œæˆ–è€…æ˜¯ åé¢ä¼šæåˆ°çš„åˆ«å port æ˜¯ SSH Server ç›‘å¬çš„ç«¯å£ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œå°±ä¸ºé»˜è®¤å€¼ 22 æç¤ºï¼š ä½¿ç”¨ exit é€€å‡ºå½“å‰ç”¨æˆ·çš„ç™»å½• æ³¨æ„ï¼š ssh è¿™ä¸ªç»ˆç«¯å‘½ä»¤åªèƒ½åœ¨ Linux æˆ–è€… UNIX ç³»ç»Ÿä¸‹ä½¿ç”¨ å¦‚æœåœ¨ Windows ç³»ç»Ÿä¸­ï¼Œå¯ä»¥å®‰è£… PuTTY æˆ–è€… XShell å®¢æˆ·ç«¯è½¯ä»¶å³å¯ æç¤ºï¼š åœ¨å·¥ä½œä¸­ï¼ŒSSH æœåŠ¡å™¨çš„ç«¯å£å·å¾ˆæœ‰å¯èƒ½ä¸æ˜¯ 22ï¼Œå¦‚æœé‡åˆ°è¿™ç§æƒ…å†µå°±éœ€è¦ä½¿ç”¨ -p é€‰é¡¹ï¼ŒæŒ‡å®šæ­£ç¡®çš„ç«¯å£å·ï¼Œå¦åˆ™æ— æ³•æ­£å¸¸è¿æ¥åˆ°æœåŠ¡å™¨ 3) Windows ä¸‹ SSH å®¢æˆ·ç«¯çš„å®‰è£… Putty http://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html XShell http://xshellcn.com å»ºè®®ä»å®˜æ–¹ç½‘ç«™ä¸‹è½½æ­£å¼çš„å®‰è£…ç¨‹åº 3.2 scpï¼ˆæŒæ¡ï¼‰ scp å°±æ˜¯ secure copyï¼Œæ˜¯ä¸€ä¸ªåœ¨ Linux ä¸‹ç”¨æ¥è¿›è¡Œ è¿œç¨‹æ‹·è´æ–‡ä»¶ çš„å‘½ä»¤ å®ƒçš„åœ°å€æ ¼å¼ä¸ ssh åŸºæœ¬ç›¸åŒï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨æŒ‡å®šç«¯å£æ—¶ç”¨çš„æ˜¯å¤§å†™çš„ -P è€Œä¸æ˜¯å°å†™çš„ # æŠŠæœ¬åœ°å½“å‰ç›®å½•ä¸‹çš„ 01.py æ–‡ä»¶ å¤åˆ¶åˆ° è¿œç¨‹ å®¶ç›®å½•ä¸‹çš„ Desktop/01.py # æ³¨æ„ï¼š`:` åé¢çš„è·¯å¾„å¦‚æœä¸æ˜¯ç»å¯¹è·¯å¾„ï¼Œåˆ™ä»¥ç”¨æˆ·çš„å®¶ç›®å½•ä½œä¸ºå‚ç…§è·¯å¾„ scp -P port 01.py user@remote:Desktop/01.py # æŠŠè¿œç¨‹ å®¶ç›®å½•ä¸‹çš„ Desktop/01.py æ–‡ä»¶ å¤åˆ¶åˆ° æœ¬åœ°å½“å‰ç›®å½•ä¸‹çš„ 01.py scp -P port user@remote:Desktop/01.py 01.py # åŠ ä¸Š -r é€‰é¡¹å¯ä»¥ä¼ é€æ–‡ä»¶å¤¹ # æŠŠå½“å‰ç›®å½•ä¸‹çš„ demo æ–‡ä»¶å¤¹ å¤åˆ¶åˆ° è¿œç¨‹ å®¶ç›®å½•ä¸‹çš„ Desktop scp -r demo user@remote:Desktop # æŠŠè¿œç¨‹ å®¶ç›®å½•ä¸‹çš„ Desktop å¤åˆ¶åˆ° å½“å‰ç›®å½•ä¸‹çš„ demo æ–‡ä»¶å¤¹ scp -r user@remote:Desktop demo é€‰é¡¹ å«ä¹‰ -r è‹¥ç»™å‡ºçš„æºæ–‡ä»¶æ˜¯ç›®å½•æ–‡ä»¶ï¼Œåˆ™ scp å°†é€’å½’å¤åˆ¶è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶ï¼Œç›®æ ‡æ–‡ä»¶å¿…é¡»ä¸ºä¸€ä¸ªç›®å½•å -P è‹¥è¿œç¨‹ SSH æœåŠ¡å™¨çš„ç«¯å£ä¸æ˜¯ 22ï¼Œéœ€è¦ä½¿ç”¨å¤§å†™å­—æ¯ -P é€‰é¡¹æŒ‡å®šç«¯å£ æ³¨æ„ï¼š scp è¿™ä¸ªç»ˆç«¯å‘½ä»¤åªèƒ½åœ¨ Linux æˆ–è€… UNIX ç³»ç»Ÿä¸‹ä½¿ç”¨ å¦‚æœåœ¨ Windows ç³»ç»Ÿä¸­ï¼Œå¯ä»¥å®‰è£… PuTTYï¼Œä½¿ç”¨ pscp å‘½ä»¤è¡Œå·¥å…·æˆ–è€…å®‰è£… FileZilla ä½¿ç”¨ FTP è¿›è¡Œæ–‡ä»¶ä¼ è¾“ FileZilla å®˜æ–¹ç½‘ç«™ï¼šhttps://www.filezilla.cn/download/client FileZilla åœ¨ä¼ è¾“æ–‡ä»¶æ—¶ï¼Œä½¿ç”¨çš„æ˜¯ FTP æœåŠ¡ è€Œä¸æ˜¯ SSH æœåŠ¡ï¼Œå› æ­¤ç«¯å£å·åº”è¯¥è®¾ç½®ä¸º 21 3.3 SSH é«˜çº§ï¼ˆçŸ¥é“ï¼‰ å…å¯†ç ç™»å½• é…ç½®åˆ«å æç¤ºï¼šæœ‰å…³ SSH é…ç½®ä¿¡æ¯éƒ½ä¿å­˜åœ¨ç”¨æˆ·å®¶ç›®å½•ä¸‹çš„ .ssh ç›®å½•ä¸‹ 1ï¼‰å…å¯†ç ç™»å½•æ­¥éª¤ é…ç½®å…¬é’¥ æ‰§è¡Œ ssh-keygen å³å¯ç”Ÿæˆ SSH é’¥åŒ™ï¼Œä¸€è·¯å›è½¦å³å¯ ä¸Šä¼ å…¬é’¥åˆ°æœåŠ¡å™¨ æ‰§è¡Œ ssh-copy-id -p port user@remoteï¼Œå¯ä»¥è®©è¿œç¨‹æœåŠ¡å™¨è®°ä½æˆ‘ä»¬çš„å…¬é’¥ éå¯¹ç§°åŠ å¯†ç®—æ³• ä½¿ç”¨ å…¬é’¥ åŠ å¯†çš„æ•°æ®ï¼Œéœ€è¦ä½¿ç”¨ ç§é’¥ è§£å¯† ä½¿ç”¨ ç§é’¥ åŠ å¯†çš„æ•°æ®ï¼Œéœ€è¦ä½¿ç”¨ å…¬é’¥ è§£å¯† 2) é…ç½®åˆ«åæ¯æ¬¡éƒ½è¾“å…¥ ssh -p port user@remoteï¼Œæ—¶é—´ä¹…äº†ä¼šè§‰å¾—å¾ˆéº»çƒ¦ï¼Œç‰¹åˆ«æ˜¯å½“ user, remote å’Œ port éƒ½å¾—è¾“å…¥ï¼Œè€Œä¸”è¿˜ä¸å¥½è®°å¿† è€Œ é…ç½®åˆ«å å¯ä»¥è®©æˆ‘ä»¬è¿›ä¸€æ­¥å·æ‡’ï¼Œè­¬å¦‚ç”¨ï¼šssh mac æ¥æ›¿ä»£ä¸Šé¢è¿™ä¹ˆä¸€é•¿ä¸²ï¼Œé‚£ä¹ˆå°±åœ¨ ~/.ssh/config é‡Œé¢è¿½åŠ ä»¥ä¸‹å†…å®¹ï¼š Host mac HostName ipåœ°å€ User itheima Port 22 ä¿å­˜ä¹‹åï¼Œå³å¯ç”¨ ssh mac å®ç°è¿œç¨‹ç™»å½•äº†ï¼Œscp åŒæ ·å¯ä»¥ä½¿ç”¨","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://promisefine.github.io/tags/Linux/"}],"author":"Doney"},{"title":"ç³»ç»Ÿä¿¡æ¯ç›¸å…³å‘½ä»¤","slug":"linux06","date":"2019-12-06T06:19:36.000Z","updated":"2021-07-16T06:30:35.183Z","comments":true,"path":"posts/ce7ca47d.html","link":"","permalink":"https://promisefine.github.io/posts/ce7ca47d.html","excerpt":"","text":"ç³»ç»Ÿä¿¡æ¯ç›¸å…³å‘½ä»¤ æœ¬èŠ‚å†…å®¹ä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿é€šè¿‡è¿œç¨‹ç»ˆç«¯ç»´æŠ¤æœåŠ¡å™¨æ—¶ï¼ŒæŸ¥çœ‹æœåŠ¡å™¨ä¸Šå½“å‰ ç³»ç»Ÿæ—¥æœŸå’Œæ—¶é—´ ï¼ ç£ç›˜ç©ºé—´å ç”¨æƒ…å†µ ï¼ ç¨‹åºæ‰§è¡Œæƒ…å†µ æœ¬å°ç»“å­¦ä¹ çš„ç»ˆç«¯å‘½ä»¤åŸºæœ¬éƒ½æ˜¯æŸ¥è¯¢å‘½ä»¤ï¼Œé€šè¿‡è¿™äº›å‘½ä»¤å¯¹ç³»ç»Ÿèµ„æºçš„ä½¿ç”¨æƒ…å†µæœ‰ä¸ªäº†è§£ ç›®æ ‡ æ—¶é—´å’Œæ—¥æœŸ date cal ç£ç›˜å’Œç›®å½•ç©ºé—´ df du è¿›ç¨‹ä¿¡æ¯ ps top kill 01. æ—¶é—´å’Œæ—¥æœŸ åºå· å‘½ä»¤ ä½œç”¨ 01 date æŸ¥çœ‹ç³»ç»Ÿæ—¶é—´ 02 cal calendar æŸ¥çœ‹æ—¥å†ï¼Œ-y é€‰é¡¹å¯ä»¥æŸ¥çœ‹ä¸€å¹´çš„æ—¥å† 02. ç£ç›˜ä¿¡æ¯ åºå· å‘½ä»¤ ä½œç”¨ 01 df -h disk free æ˜¾ç¤ºç£ç›˜å‰©ä½™ç©ºé—´ 02 du -h [ç›®å½•å] disk usage æ˜¾ç¤ºç›®å½•ä¸‹çš„æ–‡ä»¶å¤§å° é€‰é¡¹è¯´æ˜ å‚æ•° å«ä¹‰ -h ä»¥äººæ€§åŒ–çš„æ–¹å¼æ˜¾ç¤ºæ–‡ä»¶å¤§å° 03. è¿›ç¨‹ä¿¡æ¯ æ‰€è°“ è¿›ç¨‹ï¼Œé€šä¿—åœ°è¯´å°±æ˜¯ å½“å‰æ­£åœ¨æ‰§è¡Œçš„ä¸€ä¸ªç¨‹åº åºå· å‘½ä»¤ ä½œç”¨ 01 ps aux process status æŸ¥çœ‹è¿›ç¨‹çš„è¯¦ç»†çŠ¶å†µ 02 top åŠ¨æ€æ˜¾ç¤ºè¿è¡Œä¸­çš„è¿›ç¨‹å¹¶ä¸”æ’åº 03 kill [-9] è¿›ç¨‹ä»£å· ç»ˆæ­¢æŒ‡å®šä»£å·çš„è¿›ç¨‹ï¼Œ-9 è¡¨ç¤ºå¼ºè¡Œç»ˆæ­¢ ps é»˜è®¤åªä¼šæ˜¾ç¤ºå½“å‰ç”¨æˆ·é€šè¿‡ç»ˆç«¯å¯åŠ¨çš„åº”ç”¨ç¨‹åº ps é€‰é¡¹è¯´æ˜ é€‰é¡¹ å«ä¹‰ a æ˜¾ç¤ºç»ˆç«¯ä¸Šçš„æ‰€æœ‰è¿›ç¨‹ï¼ŒåŒ…æ‹¬å…¶ä»–ç”¨æˆ·çš„è¿›ç¨‹ u æ˜¾ç¤ºè¿›ç¨‹çš„è¯¦ç»†çŠ¶æ€ x æ˜¾ç¤ºæ²¡æœ‰æ§åˆ¶ç»ˆç«¯çš„è¿›ç¨‹ æç¤ºï¼šä½¿ç”¨ kill å‘½ä»¤æ—¶ï¼Œæœ€å¥½åªç»ˆæ­¢ç”±å½“å‰ç”¨æˆ·å¼€å¯çš„è¿›ç¨‹ï¼Œè€Œä¸è¦ç»ˆæ­¢ root èº«ä»½å¼€å¯çš„è¿›ç¨‹ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´ç³»ç»Ÿå´©æºƒ è¦é€€å‡º top å¯ä»¥ç›´æ¥è¾“å…¥ q","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://promisefine.github.io/tags/Linux/"}],"author":"Doney"},{"title":"ç”¨æˆ·æƒé™ç›¸å…³å‘½ä»¤","slug":"linux05","date":"2019-12-05T05:16:45.000Z","updated":"2021-07-16T06:18:32.800Z","comments":true,"path":"posts/5775f5c7.html","link":"","permalink":"https://promisefine.github.io/posts/5775f5c7.html","excerpt":"","text":"ç”¨æˆ·æƒé™ç›¸å…³å‘½ä»¤ç›®æ ‡ ç”¨æˆ· å’Œ æƒé™ çš„åŸºæœ¬æ¦‚å¿µ ç”¨æˆ·ç®¡ç† ç»ˆç«¯å‘½ä»¤ ç»„ç®¡ç† ç»ˆç«¯å‘½ä»¤ ä¿®æ”¹æƒé™ ç»ˆç«¯å‘½ä»¤ 01. ç”¨æˆ· å’Œ æƒé™ çš„åŸºæœ¬æ¦‚å¿µ1.1 åŸºæœ¬æ¦‚å¿µ ç”¨æˆ· æ˜¯ Linux ç³»ç»Ÿå·¥ä½œä¸­é‡è¦çš„ä¸€ç¯ï¼Œç”¨æˆ·ç®¡ç†åŒ…æ‹¬ ç”¨æˆ· ä¸ ç»„ ç®¡ç† åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œä¸è®ºæ˜¯ç”±æœ¬æœºæˆ–æ˜¯è¿œç¨‹ç™»å½•ç³»ç»Ÿï¼Œæ¯ä¸ªç³»ç»Ÿéƒ½å¿…é¡»æ‹¥æœ‰ä¸€ä¸ªè´¦å·ï¼Œå¹¶ä¸”å¯¹äºä¸åŒçš„ç³»ç»Ÿèµ„æºæ‹¥æœ‰ä¸åŒçš„ä½¿ç”¨æƒé™ åœ¨ Linux ä¸­ï¼Œå¯ä»¥æŒ‡å®š æ¯ä¸€ä¸ªç”¨æˆ· é’ˆå¯¹ ä¸åŒçš„æ–‡ä»¶æˆ–è€…ç›®å½• çš„ ä¸åŒæƒé™ å¯¹ æ–‡ä»¶ï¼ç›®å½• çš„æƒé™åŒ…æ‹¬ï¼š åºå· æƒé™ è‹±æ–‡ ç¼©å†™ æ•°å­—ä»£å· 01 è¯» read r 4 02 å†™ write w 2 03 æ‰§è¡Œ excute x 1 1.2 ç»„ ä¸ºäº†æ–¹ä¾¿ç”¨æˆ·ç®¡ç†ï¼Œæå‡ºäº† ç»„ çš„æ¦‚å¿µ åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¯ä»¥é¢„å…ˆé’ˆå¯¹ ç»„ è®¾ç½®å¥½æƒé™ï¼Œç„¶å å°†ä¸åŒçš„ç”¨æˆ·æ·»åŠ åˆ°å¯¹åº”çš„ç»„ä¸­ï¼Œä»è€Œä¸ç”¨ä¾æ¬¡ä¸ºæ¯ä¸€ä¸ªç”¨æˆ·è®¾ç½®æƒé™ 1.3 ls -l æ‰©å±• ls -l å¯ä»¥æŸ¥çœ‹æ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼Œä»å·¦åˆ°å³ä¾æ¬¡æ˜¯ï¼š æƒé™ï¼Œç¬¬ 1 ä¸ªå­—ç¬¦å¦‚æœæ˜¯ d è¡¨ç¤ºç›®å½• ç¡¬é“¾æ¥æ•°ï¼Œé€šä¿—åœ°è®²ï¼Œå°±æ˜¯æœ‰å¤šå°‘ç§æ–¹å¼ï¼Œå¯ä»¥è®¿é—®åˆ°å½“å‰ç›®å½•ï¼æ–‡ä»¶ æ‹¥æœ‰è€…ï¼Œå®¶ç›®å½•ä¸‹ æ–‡ä»¶ï¼ç›®å½• çš„æ‹¥æœ‰è€…é€šå¸¸éƒ½æ˜¯å½“å‰ç”¨æˆ· ç»„ï¼Œåœ¨ Linux ä¸­ï¼Œå¾ˆå¤šæ—¶å€™ï¼Œä¼šå‡ºç°ç»„åå’Œç”¨æˆ·åç›¸åŒçš„æƒ…å†µï¼Œåç»­ä¼šè®² å¤§å° æ—¶é—´ åç§° 1.4 chmod ç®€å•ä½¿ç”¨ï¼ˆé‡è¦ï¼‰ chmod å¯ä»¥ä¿®æ”¹ ç”¨æˆ·ï¼ç»„ å¯¹ æ–‡ä»¶ï¼ç›®å½• çš„æƒé™ å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š chmod +/-rwx æ–‡ä»¶å|ç›®å½•å æç¤ºï¼šä»¥ä¸Šæ–¹å¼ä¼šä¸€æ¬¡æ€§ä¿®æ”¹ æ‹¥æœ‰è€… / ç»„ æƒé™ï¼Œæœ‰å…³ chmod çš„é«˜çº§ç”¨æ³•ï¼Œåç»­ä¼šè®² 1.5 è¶…çº§ç”¨æˆ· Linux ç³»ç»Ÿä¸­çš„ root è´¦å·é€šå¸¸ ç”¨äºç³»ç»Ÿçš„ç»´æŠ¤å’Œç®¡ç†ï¼Œå¯¹æ“ä½œç³»ç»Ÿçš„æ‰€æœ‰èµ„æº å…·æœ‰æ‰€æœ‰è®¿é—®æƒé™ åœ¨å¤§å¤šæ•°ç‰ˆæœ¬çš„ Linux ä¸­ï¼Œéƒ½ä¸æ¨è ç›´æ¥ä½¿ç”¨ root è´¦å·ç™»å½•ç³»ç»Ÿ åœ¨ Linux å®‰è£…çš„è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªç”¨æˆ·è´¦å·ï¼Œè€Œè¿™ä¸ªé»˜è®¤çš„ç”¨æˆ·å°±ç§°ä¸ºâ€œæ ‡å‡†ç”¨æˆ·â€ sudo su æ˜¯ substitute user çš„ç¼©å†™ï¼Œè¡¨ç¤º ä½¿ç”¨å¦ä¸€ä¸ªç”¨æˆ·çš„èº«ä»½ sudo å‘½ä»¤ç”¨æ¥ä»¥å…¶ä»–èº«ä»½æ¥æ‰§è¡Œå‘½ä»¤ï¼Œé¢„è®¾çš„èº«ä»½ä¸º root ç”¨æˆ·ä½¿ç”¨ sudo æ—¶ï¼Œå¿…é¡»å…ˆè¾“å…¥å¯†ç ï¼Œä¹‹åæœ‰ 5 åˆ†é’Ÿçš„æœ‰æ•ˆæœŸé™ï¼Œè¶…è¿‡æœŸé™åˆ™å¿…é¡»é‡æ–°è¾“å…¥å¯†ç  è‹¥å…¶æœªç»æˆæƒçš„ç”¨æˆ·ä¼å›¾ä½¿ç”¨ sudoï¼Œåˆ™ä¼šå‘å‡ºè­¦å‘Šé‚®ä»¶ç»™ç®¡ç†å‘˜ 02. ç»„ç®¡ç† ç»ˆç«¯å‘½ä»¤ æç¤ºï¼šåˆ›å»ºç»„ / åˆ é™¤ç»„ çš„ç»ˆç«¯å‘½ä»¤éƒ½éœ€è¦é€šè¿‡ sudo æ‰§è¡Œ åºå· å‘½ä»¤ ä½œç”¨ 01 groupadd ç»„å æ·»åŠ ç»„ 02 groupdel ç»„å åˆ é™¤ç»„ 03 cat /etc/group ç¡®è®¤ç»„ä¿¡æ¯ 04 chgrp -R ç»„å æ–‡ä»¶/ç›®å½•å é€’å½’ä¿®æ”¹æ–‡ä»¶/ç›®å½•çš„æ‰€å±ç»„ æç¤ºï¼š ç»„ä¿¡æ¯ä¿å­˜åœ¨ /etc/group æ–‡ä»¶ä¸­ /etc ç›®å½•æ˜¯ä¸“é—¨ç”¨æ¥ä¿å­˜ ç³»ç»Ÿé…ç½®ä¿¡æ¯ çš„ç›®å½• åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¯ä»¥é¢„å…ˆé’ˆå¯¹ ç»„ è®¾ç½®å¥½æƒé™ï¼Œç„¶å å°†ä¸åŒçš„ç”¨æˆ·æ·»åŠ åˆ°å¯¹åº”çš„ç»„ä¸­ï¼Œä»è€Œä¸ç”¨ä¾æ¬¡ä¸ºæ¯ä¸€ä¸ªç”¨æˆ·è®¾ç½®æƒé™ æ¼”ç»ƒç›®æ ‡ åœ¨ python ç”¨æˆ·çš„æ¡Œé¢æ–‡ä»¶å¤¹ä¸‹åˆ›å»º Pythonå­¦ä¹  ç›®å½• æ–°å»º dev ç»„ å°† Pythonå­¦ä¹  ç›®å½•çš„ç»„ä¿®æ”¹ä¸º dev 03. ç”¨æˆ·ç®¡ç† ç»ˆç«¯å‘½ä»¤ æç¤ºï¼šåˆ›å»ºç”¨æˆ· / åˆ é™¤ç”¨æˆ· / ä¿®æ”¹å…¶ä»–ç”¨æˆ·å¯†ç  çš„ç»ˆç«¯å‘½ä»¤éƒ½éœ€è¦é€šè¿‡ sudo æ‰§è¡Œ 3.1 åˆ›å»ºç”¨æˆ·ï¼è®¾ç½®å¯†ç ï¼åˆ é™¤ç”¨æˆ· åºå· å‘½ä»¤ ä½œç”¨ è¯´æ˜ 01 useradd -m -g ç»„ æ–°å»ºç”¨æˆ·å æ·»åŠ æ–°ç”¨æˆ· -m è‡ªåŠ¨å»ºç«‹ç”¨æˆ·å®¶ç›®å½•-g æŒ‡å®šç”¨æˆ·æ‰€åœ¨çš„ç»„ï¼Œå¦åˆ™ä¼šå»ºç«‹ä¸€ä¸ªå’ŒåŒåçš„ç»„ 02 passwd ç”¨æˆ·å è®¾ç½®ç”¨æˆ·å¯†ç  å¦‚æœæ˜¯æ™®é€šç”¨æˆ·ï¼Œç›´æ¥ç”¨ passwd å¯ä»¥ä¿®æ”¹è‡ªå·±çš„è´¦æˆ·å¯†ç  03 userdel -r ç”¨æˆ·å åˆ é™¤ç”¨æˆ· -r é€‰é¡¹ä¼šè‡ªåŠ¨åˆ é™¤ç”¨æˆ·å®¶ç›®å½• 04 cat /etc/passwd | grep ç”¨æˆ·å ç¡®è®¤ç”¨æˆ·ä¿¡æ¯ æ–°å»ºç”¨æˆ·åï¼Œç”¨æˆ·ä¿¡æ¯ä¼šä¿å­˜åœ¨ /etc/passwd æ–‡ä»¶ä¸­ æç¤ºï¼š åˆ›å»ºç”¨æˆ·æ—¶ï¼Œå¦‚æœå¿˜è®°æ·»åŠ  -m é€‰é¡¹æŒ‡å®šæ–°ç”¨æˆ·çš„å®¶ç›®å½• â€”â€” æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯åˆ é™¤ç”¨æˆ·ï¼Œé‡æ–°åˆ›å»º åˆ›å»ºç”¨æˆ·æ—¶ï¼Œé»˜è®¤ä¼šåˆ›å»ºä¸€ä¸ªå’Œç”¨æˆ·ååŒåçš„ç»„å ç”¨æˆ·ä¿¡æ¯ä¿å­˜åœ¨ /etc/passwd æ–‡ä»¶ä¸­ 3.2 æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯ åºå· å‘½ä»¤ ä½œç”¨ 01 id [ç”¨æˆ·å] æŸ¥çœ‹ç”¨æˆ· UID å’Œ GID ä¿¡æ¯ 02 who æŸ¥çœ‹å½“å‰æ‰€æœ‰ç™»å½•çš„ç”¨æˆ·åˆ—è¡¨ 03 whoami æŸ¥çœ‹å½“å‰ç™»å½•ç”¨æˆ·çš„è´¦æˆ·å passwd æ–‡ä»¶/etc/passwd æ–‡ä»¶å­˜æ”¾çš„æ˜¯ç”¨æˆ·çš„ä¿¡æ¯ï¼Œç”± 6 ä¸ªåˆ†å·ç»„æˆçš„ 7 ä¸ªä¿¡æ¯ï¼Œåˆ†åˆ«æ˜¯ ç”¨æˆ·å å¯†ç ï¼ˆxï¼Œè¡¨ç¤ºåŠ å¯†çš„å¯†ç ï¼‰ UIDï¼ˆç”¨æˆ·æ ‡è¯†ï¼‰ GIDï¼ˆç»„æ ‡è¯†ï¼‰ ç”¨æˆ·å…¨åæˆ–æœ¬åœ°å¸å· å®¶ç›®å½• ç™»å½•ä½¿ç”¨çš„ Shellï¼Œå°±æ˜¯ç™»å½•ä¹‹åï¼Œä½¿ç”¨çš„ç»ˆç«¯å‘½ä»¤ï¼Œubuntu é»˜è®¤æ˜¯ dash usermod usermod å¯ä»¥ç”¨æ¥è®¾ç½® ç”¨æˆ· çš„ ä¸»ç»„ ï¼ é™„åŠ ç»„ å’Œ ç™»å½• Shellï¼Œå‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š ä¸»ç»„ï¼šé€šå¸¸åœ¨æ–°å»ºç”¨æˆ·æ—¶æŒ‡å®šï¼Œåœ¨ etc/passwd çš„ç¬¬ 4 åˆ— GID å¯¹åº”çš„ç»„ é™„åŠ ç»„ï¼šåœ¨ etc/group ä¸­æœ€åä¸€åˆ—è¡¨ç¤ºè¯¥ç»„çš„ç”¨æˆ·åˆ—è¡¨ï¼Œç”¨äºæŒ‡å®š ç”¨æˆ·çš„é™„åŠ æƒé™ æç¤ºï¼šè®¾ç½®äº†ç”¨æˆ·çš„é™„åŠ ç»„ä¹‹åï¼Œéœ€è¦é‡æ–°ç™»å½•æ‰èƒ½ç”Ÿæ•ˆï¼ # ä¿®æ”¹ç”¨æˆ·çš„ä¸»ç»„ï¼ˆpasswd ä¸­çš„ GIDï¼‰ usermod -g ç»„ ç”¨æˆ·å # ä¿®æ”¹ç”¨æˆ·çš„é™„åŠ ç»„ usermod -G ç»„ ç”¨æˆ·å # ä¿®æ”¹ç”¨æˆ·ç™»å½• Shell usermod -s /bin/bash ç”¨æˆ·å æ³¨æ„ï¼šé»˜è®¤ä½¿ç”¨ useradd æ·»åŠ çš„ç”¨æˆ·æ˜¯æ²¡æœ‰æƒé™ä½¿ç”¨ sudo ä»¥ root èº«ä»½æ‰§è¡Œå‘½ä»¤çš„ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œå°†ç”¨æˆ·æ·»åŠ åˆ° sudo é™„åŠ ç»„ä¸­ usermod -G sudo ç”¨æˆ·å whichï¼ˆé‡è¦ï¼‰ æç¤º /etc/passwd æ˜¯ç”¨äºä¿å­˜ç”¨æˆ·ä¿¡æ¯çš„æ–‡ä»¶ /usr/bin/passwd æ˜¯ç”¨äºä¿®æ”¹ç”¨æˆ·å¯†ç çš„ç¨‹åº which å‘½ä»¤å¯ä»¥æŸ¥çœ‹æ‰§è¡Œå‘½ä»¤æ‰€åœ¨ä½ç½®ï¼Œä¾‹å¦‚ï¼š which ls # è¾“å‡º # /bin/ls which useradd # è¾“å‡º # /usr/sbin/useradd bin å’Œ sbin åœ¨ Linux ä¸­ï¼Œç»å¤§å¤šæ•°å¯æ‰§è¡Œæ–‡ä»¶éƒ½æ˜¯ä¿å­˜åœ¨ /binã€/sbinã€/usr/binã€/usr/sbin /binï¼ˆbinaryï¼‰æ˜¯äºŒè¿›åˆ¶æ‰§è¡Œæ–‡ä»¶ç›®å½•ï¼Œä¸»è¦ç”¨äºå…·ä½“åº”ç”¨ /sbinï¼ˆsystem binaryï¼‰æ˜¯ç³»ç»Ÿç®¡ç†å‘˜ä¸“ç”¨çš„äºŒè¿›åˆ¶ä»£ç å­˜æ”¾ç›®å½•ï¼Œä¸»è¦ç”¨äºç³»ç»Ÿç®¡ç† /usr/binï¼ˆuser commands for applicationsï¼‰åæœŸå®‰è£…çš„ä¸€äº›è½¯ä»¶ /usr/sbinï¼ˆsuper user commands for applicationsï¼‰è¶…çº§ç”¨æˆ·çš„ä¸€äº›ç®¡ç†ç¨‹åº æç¤ºï¼š cd è¿™ä¸ªç»ˆç«¯å‘½ä»¤æ˜¯å†…ç½®åœ¨ç³»ç»Ÿå†…æ ¸ä¸­çš„ï¼Œæ²¡æœ‰ç‹¬ç«‹çš„æ–‡ä»¶ï¼Œå› æ­¤ç”¨ which æ— æ³•æ‰¾åˆ° cd å‘½ä»¤çš„ä½ç½® 3.3 åˆ‡æ¢ç”¨æˆ· åºå· å‘½ä»¤ ä½œç”¨ è¯´æ˜ 01 su - ç”¨æˆ·å åˆ‡æ¢ç”¨æˆ·ï¼Œå¹¶ä¸”åˆ‡æ¢ç›®å½• - å¯ä»¥åˆ‡æ¢åˆ°ç”¨æˆ·å®¶ç›®å½•ï¼Œå¦åˆ™ä¿æŒä½ç½®ä¸å˜ 02 exit é€€å‡ºå½“å‰ç™»å½•è´¦æˆ· su ä¸æ¥ç”¨æˆ·åï¼Œå¯ä»¥åˆ‡æ¢åˆ° rootï¼Œä½†æ˜¯ä¸æ¨èä½¿ç”¨ï¼Œå› ä¸ºä¸å®‰å…¨ 04. ä¿®æ”¹æ–‡ä»¶æƒé™ åºå· å‘½ä»¤ ä½œç”¨ 01 chown ä¿®æ”¹æ‹¥æœ‰è€… 02 chgrp ä¿®æ”¹ç»„ 03 chmod ä¿®æ”¹æƒé™ å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š # ä¿®æ”¹æ–‡ä»¶|ç›®å½•çš„æ‹¥æœ‰è€… chown ç”¨æˆ·å æ–‡ä»¶å|ç›®å½•å # é€’å½’ä¿®æ”¹æ–‡ä»¶|ç›®å½•çš„ç»„ chgrp -R ç»„å æ–‡ä»¶å|ç›®å½•å # é€’å½’ä¿®æ”¹æ–‡ä»¶æƒé™ chmod -R 755 æ–‡ä»¶å|ç›®å½•å chmod åœ¨è®¾ç½®æƒé™æ—¶ï¼Œå¯ä»¥ç®€å•åœ°ä½¿ç”¨ä¸‰ä¸ªæ•°å­—åˆ†åˆ«å¯¹åº” æ‹¥æœ‰è€… ï¼ ç»„ å’Œ å…¶ä»– ç”¨æˆ·çš„æƒé™ # ç›´æ¥ä¿®æ”¹æ–‡ä»¶|ç›®å½•çš„ è¯»|å†™|æ‰§è¡Œ æƒé™ï¼Œä½†æ˜¯ä¸èƒ½ç²¾ç¡®åˆ° æ‹¥æœ‰è€…|ç»„|å…¶ä»– chmod +/-rwx æ–‡ä»¶å|ç›®å½•å å¸¸è§æ•°å­—ç»„åˆæœ‰ï¼ˆuè¡¨ç¤ºç”¨æˆ·ï¼gè¡¨ç¤ºç»„ï¼oè¡¨ç¤ºå…¶ä»–ï¼‰ï¼š 777 ===&gt; u=rwx,g=rwx,o=rwx 755 ===&gt; u=rwx,g=rx,o=rx 644 ===&gt; u=rw,g=r,o=r chmod æ¼”ç»ƒç›®æ ‡ å°† 01.py çš„æƒé™ä¿®æ”¹ä¸º u=rwx,g=rx,o=r å°† 123.txt çš„æƒé™ä¿®æ”¹ä¸º u=rw,g=r,o=- å°† test ç›®å½•ä»¥åŠç›®å½•ä¸‹çš„ æ‰€æœ‰ æ–‡ä»¶æƒé™ä¿®æ”¹ä¸º u=rwx,g=rwx,o=rx","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://promisefine.github.io/tags/Linux/"}],"author":"Doney"},{"title":"å…¶ä»–å‘½ä»¤","slug":"linux04","date":"2019-12-04T07:33:15.000Z","updated":"2021-07-16T06:15:58.131Z","comments":true,"path":"posts/2072c551.html","link":"","permalink":"https://promisefine.github.io/posts/2072c551.html","excerpt":"","text":"å…¶ä»–å‘½ä»¤ç›®æ ‡ æŸ¥æ‰¾æ–‡ä»¶ find è½¯é“¾æ¥ ln æ‰“åŒ…å’Œå‹ç¼© tar è½¯ä»¶å®‰è£… apt-get 01. æŸ¥æ‰¾æ–‡ä»¶ find å‘½ä»¤åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œé€šå¸¸ç”¨æ¥åœ¨ ç‰¹å®šçš„ç›®å½•ä¸‹ æœç´¢ ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶ åºå· å‘½ä»¤ ä½œç”¨ 01 find [è·¯å¾„] -name â€œ*.pyâ€ æŸ¥æ‰¾æŒ‡å®šè·¯å¾„ä¸‹æ‰©å±•åæ˜¯ .py çš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬å­ç›®å½• å¦‚æœçœç•¥è·¯å¾„ï¼Œè¡¨ç¤ºåœ¨å½“å‰æ–‡ä»¶å¤¹ä¸‹æŸ¥æ‰¾ ä¹‹å‰å­¦ä¹ çš„é€šé…ç¬¦ï¼Œåœ¨ä½¿ç”¨ find å‘½ä»¤æ—¶åŒæ—¶å¯ç”¨ æœ‰å…³ find çš„é«˜çº§ä½¿ç”¨ï¼Œåœ¨å°±ä¸šç­ä¼šè®² æ¼”ç»ƒç›®æ ‡ æœç´¢æ¡Œé¢ç›®å½•ä¸‹ï¼Œæ–‡ä»¶ååŒ…å« 1 çš„æ–‡ä»¶ find -name \"*1*\" æœç´¢æ¡Œé¢ç›®å½•ä¸‹ï¼Œæ‰€æœ‰ä»¥ .txt ä¸ºæ‰©å±•åçš„æ–‡ä»¶ find -name \"*.txt\" æœç´¢æ¡Œé¢ç›®å½•ä¸‹ï¼Œä»¥æ•°å­— 1 å¼€å¤´çš„æ–‡ä»¶ find -name \"1*\" 02. è½¯é“¾æ¥ åºå· å‘½ä»¤ ä½œç”¨ 01 ln -s è¢«é“¾æ¥çš„æºæ–‡ä»¶ é“¾æ¥æ–‡ä»¶ å»ºç«‹æ–‡ä»¶çš„è½¯é“¾æ¥ï¼Œç”¨é€šä¿—çš„æ–¹å¼è®²ç±»ä¼¼äº Windows ä¸‹çš„å¿«æ·æ–¹å¼ æ³¨æ„ï¼š æ²¡æœ‰ -s é€‰é¡¹å»ºç«‹çš„æ˜¯ä¸€ä¸ª ç¡¬é“¾æ¥æ–‡ä»¶ ä¸¤ä¸ªæ–‡ä»¶å ç”¨ç›¸åŒå¤§å°çš„ç¡¬ç›˜ç©ºé—´ï¼Œå·¥ä½œä¸­å‡ ä¹ä¸ä¼šå»ºç«‹æ–‡ä»¶çš„ç¡¬é“¾æ¥ æºæ–‡ä»¶è¦ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œä¸èƒ½ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿ç§»åŠ¨é“¾æ¥æ–‡ä»¶åï¼Œä»ç„¶èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ æ¼”ç»ƒç›®æ ‡ å°†æ¡Œé¢ç›®å½•ä¸‹çš„ 01.py ç§»åŠ¨åˆ° demo/b/c ç›®å½•ä¸‹ åœ¨æ¡Œé¢ç›®å½•ä¸‹æ–°å»º 01.py çš„ è½¯é“¾æ¥ FirstPython åˆ†åˆ«ä½¿ç”¨ ç›¸å¯¹è·¯å¾„ å’Œ ç»å¯¹è·¯å¾„ å»ºç«‹ FirstPython çš„è½¯é“¾æ¥ å°† FirstPython ç§»åŠ¨åˆ° demo ç›®å½•ä¸‹ï¼Œå¯¹æ¯”ä½¿ç”¨ ç›¸å¯¹è·¯å¾„ å’Œ ç»å¯¹è·¯å¾„ çš„åŒºåˆ« ç¡¬é“¾æ¥ç®€ä»‹ï¼ˆçŸ¥é“ï¼‰ åœ¨ä½¿ç”¨ ln åˆ›å»ºé“¾æ¥æ—¶ï¼Œå¦‚æœæ²¡æœ‰ -s é€‰é¡¹ï¼Œä¼šåˆ›å»ºä¸€ä¸ª ç¡¬é“¾æ¥ï¼Œè€Œä¸æ˜¯è½¯é“¾æ¥ ç¡¬é“¾æ¥æ¼”ç»ƒ åœ¨ ~/Desktop/demo ç›®å½•ä¸‹å»ºç«‹ ~/Desktop/demo/b/c/01.py çš„ç¡¬é“¾æ¥ 01_hard ä½¿ç”¨ ls -l æŸ¥çœ‹æ–‡ä»¶çš„ç¡¬é“¾æ¥æ•°ï¼ˆç¡¬é“¾æ¥â€”â€”æœ‰å¤šå°‘ç§æ–¹å¼å¯ä»¥è®¿é—®æ–‡ä»¶æˆ–è€…ç›®å½•ï¼‰ åˆ é™¤ ~/Desktop/demo/b/c/01.pyï¼Œå¹¶ä¸”ä½¿ç”¨ tree æ¥ç¡®è®¤ demo ç›®å½•ä¸‹çš„ä¸‰ä¸ªé“¾æ¥æ–‡ä»¶ åœ¨ Linux ä¸­ï¼Œæ–‡ä»¶å å’Œ æ–‡ä»¶çš„æ•°æ® æ˜¯åˆ†å¼€å­˜å‚¨çš„ æç¤ºï¼š åœ¨ Linux ä¸­ï¼Œåªæœ‰æ–‡ä»¶çš„ ç¡¬é“¾æ¥æ•° == 0 æ‰ä¼šè¢«åˆ é™¤ ä½¿ç”¨ ls -l å¯ä»¥æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„ç¡¬é“¾æ¥çš„æ•°é‡ åœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œå‡ ä¹ä¸ä¼šå»ºç«‹æ–‡ä»¶çš„ç¡¬é“¾æ¥ï¼ŒçŸ¥é“å³å¯ 03. æ‰“åŒ…å‹ç¼© æ‰“åŒ…å‹ç¼© æ˜¯æ—¥å¸¸å·¥ä½œä¸­å¤‡ä»½æ–‡ä»¶çš„ä¸€ç§æ–¹å¼ åœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¸­ï¼Œå¸¸ç”¨çš„æ‰“åŒ…å‹ç¼©æ–¹å¼æ˜¯ä¸åŒçš„ Windows å¸¸ç”¨ rar Mac å¸¸ç”¨ zip Linux å¸¸ç”¨ tar.gz 3.1 æ‰“åŒ… ï¼ è§£åŒ… tar æ˜¯ Linux ä¸­æœ€å¸¸ç”¨çš„ å¤‡ä»½å·¥å…·ï¼Œæ­¤å‘½ä»¤å¯ä»¥ æŠŠä¸€ç³»åˆ—æ–‡ä»¶ æ‰“åŒ…åˆ° ä¸€ä¸ªå¤§æ–‡ä»¶ä¸­ï¼Œä¹Ÿå¯ä»¥æŠŠä¸€ä¸ª æ‰“åŒ…çš„å¤§æ–‡ä»¶æ¢å¤æˆä¸€ç³»åˆ—æ–‡ä»¶ tar çš„å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š # æ‰“åŒ…æ–‡ä»¶ tar -cvf æ‰“åŒ…æ–‡ä»¶.tar è¢«æ‰“åŒ…çš„æ–‡ä»¶ï¼è·¯å¾„... # è§£åŒ…æ–‡ä»¶ tar -xvf æ‰“åŒ…æ–‡ä»¶.tar tar é€‰é¡¹è¯´æ˜ é€‰é¡¹ å«ä¹‰ c ç”Ÿæˆæ¡£æ¡ˆæ–‡ä»¶ï¼Œåˆ›å»ºæ‰“åŒ…æ–‡ä»¶ x è§£å¼€æ¡£æ¡ˆæ–‡ä»¶ v åˆ—å‡ºå½’æ¡£è§£æ¡£çš„è¯¦ç»†è¿‡ç¨‹ï¼Œæ˜¾ç¤ºè¿›åº¦ f æŒ‡å®šæ¡£æ¡ˆæ–‡ä»¶åç§°ï¼Œf åé¢ä¸€å®šæ˜¯ .tar æ–‡ä»¶ï¼Œæ‰€ä»¥å¿…é¡»æ”¾é€‰é¡¹æœ€å æ³¨æ„ï¼šf é€‰é¡¹å¿…é¡»æ”¾åœ¨æœ€åï¼Œå…¶ä»–é€‰é¡¹é¡ºåºå¯ä»¥éšæ„ æ‰“åŒ…è§£åŒ…æ¼”ç»ƒ åˆ é™¤æ¡Œé¢ä¸‹çš„æ‰€æœ‰å†…å®¹ åœ¨æ¡Œé¢ä¸‹æ–°å»ºä¸‰ä¸ªç©ºç™½æ–‡ä»¶ 01.pyã€02.pyã€03.py å°†è¿™ä¸‰ä¸ªæ–‡ä»¶æ‰“ä¸€ä¸ª py.tar çš„åŒ… æ–°å»º tar ç›®å½•ï¼Œå¹¶ä¸”å°† py.tar ç§»åŠ¨åˆ° tar ç›®å½•ä¸‹ è§£åŒ… py.tar 3.2 å‹ç¼©ï¼è§£å‹ç¼©1) gzip tar ä¸ gzip å‘½ä»¤ç»“åˆå¯ä»¥ä½¿ç”¨å®ç°æ–‡ä»¶ æ‰“åŒ…å’Œå‹ç¼© tar åªè´Ÿè´£æ‰“åŒ…æ–‡ä»¶ï¼Œä½†ä¸å‹ç¼© ç”¨ gzip å‹ç¼© tar æ‰“åŒ…åçš„æ–‡ä»¶ï¼Œå…¶æ‰©å±•åä¸€èˆ¬ç”¨ xxx.tar.gz åœ¨ Linux ä¸­ï¼Œæœ€å¸¸è§çš„å‹ç¼©æ–‡ä»¶æ ¼å¼å°±æ˜¯ xxx.tar.gz åœ¨ tar å‘½ä»¤ä¸­æœ‰ä¸€ä¸ªé€‰é¡¹ -z å¯ä»¥è°ƒç”¨ gzipï¼Œä»è€Œå¯ä»¥æ–¹ä¾¿çš„å®ç°å‹ç¼©å’Œè§£å‹ç¼©çš„åŠŸèƒ½ å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š # å‹ç¼©æ–‡ä»¶ tar -zcvf æ‰“åŒ…æ–‡ä»¶.tar.gz è¢«å‹ç¼©çš„æ–‡ä»¶ï¼è·¯å¾„... # è§£å‹ç¼©æ–‡ä»¶ tar -zxvf æ‰“åŒ…æ–‡ä»¶.tar.gz # è§£å‹ç¼©åˆ°æŒ‡å®šè·¯å¾„ tar -zxvf æ‰“åŒ…æ–‡ä»¶.tar.gz -C ç›®æ ‡è·¯å¾„ é€‰é¡¹ å«ä¹‰ -C è§£å‹ç¼©åˆ°æŒ‡å®šç›®å½•ï¼Œæ³¨æ„ï¼šè¦è§£å‹ç¼©çš„ç›®å½•å¿…é¡»å­˜åœ¨ 2) bzip2(two) tar ä¸ bzip2 å‘½ä»¤ç»“åˆå¯ä»¥ä½¿ç”¨å®ç°æ–‡ä»¶ æ‰“åŒ…å’Œå‹ç¼©ï¼ˆç”¨æ³•å’Œ gzip ä¸€æ ·ï¼‰ tar åªè´Ÿè´£æ‰“åŒ…æ–‡ä»¶ï¼Œä½†ä¸å‹ç¼©ï¼Œ ç”¨ bzip2 å‹ç¼© tar æ‰“åŒ…åçš„æ–‡ä»¶ï¼Œå…¶æ‰©å±•åä¸€èˆ¬ç”¨ xxx.tar.bz2 åœ¨ tar å‘½ä»¤ä¸­æœ‰ä¸€ä¸ªé€‰é¡¹ -j å¯ä»¥è°ƒç”¨ bzip2ï¼Œä»è€Œå¯ä»¥æ–¹ä¾¿çš„å®ç°å‹ç¼©å’Œè§£å‹ç¼©çš„åŠŸèƒ½ å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š # å‹ç¼©æ–‡ä»¶ tar -jcvf æ‰“åŒ…æ–‡ä»¶.tar.bz2 è¢«å‹ç¼©çš„æ–‡ä»¶ï¼è·¯å¾„... # è§£å‹ç¼©æ–‡ä»¶ tar -jxvf æ‰“åŒ…æ–‡ä»¶.tar.bz2 04. è½¯ä»¶å®‰è£…4.1 é€šè¿‡ apt å®‰è£…ï¼å¸è½½è½¯ä»¶ apt æ˜¯ Advanced Packaging Toolï¼Œæ˜¯ Linux ä¸‹çš„ä¸€æ¬¾å®‰è£…åŒ…ç®¡ç†å·¥å…· å¯ä»¥åœ¨ç»ˆç«¯ä¸­æ–¹ä¾¿çš„ å®‰è£…ï¼å¸è½½ï¼æ›´æ–°è½¯ä»¶åŒ… # 1. å®‰è£…è½¯ä»¶ $ sudo apt install è½¯ä»¶åŒ… # 2. å¸è½½è½¯ä»¶ $ sudo apt remove è½¯ä»¶å # 3. æ›´æ–°å·²å®‰è£…çš„åŒ… $ sudo apt upgrade å®‰è£…æ¼”ç»ƒ# ä¸€ä¸ªå°ç«è½¦æç¤º $ sudo apt install sl # ä¸€ä¸ªæ¯”è¾ƒæ¼‚äº®çš„æŸ¥çœ‹å½“å‰è¿›ç¨‹æ’åçš„è½¯ä»¶ $ sudo apt install htop 4.2 é…ç½®è½¯ä»¶æº å¦‚æœå¸Œæœ›åœ¨ ubuntu ä¸­å®‰è£…è½¯ä»¶ï¼Œæ›´åŠ å¿«é€Ÿï¼Œå¯ä»¥é€šè¿‡è®¾ç½®é•œåƒæºï¼Œé€‰æ‹©ä¸€ä¸ªè®¿é—®ç½‘é€Ÿæ›´å¿«çš„æœåŠ¡å™¨ï¼Œæ¥æä¾›è½¯ä»¶ä¸‹è½½ï¼å®‰è£…æœåŠ¡ æç¤ºï¼šæ›´æ¢æœåŠ¡å™¨ä¹‹åï¼Œéœ€è¦ä¸€ä¸ªç›¸å¯¹æ¯”è¾ƒé•¿æ—¶é—´çš„æ›´æ–°è¿‡ç¨‹ï¼Œéœ€è¦è€å¿ƒç­‰å¾…ã€‚æ›´æ–°å®Œæˆåï¼Œå†å®‰è£…è½¯ä»¶éƒ½ä¼šä»æ–°è®¾ç½®çš„æœåŠ¡å™¨ä¸‹è½½è½¯ä»¶äº† æ‰€è°“é•œåƒæºï¼Œå°±æ˜¯æ‰€æœ‰æœåŠ¡å™¨çš„å†…å®¹æ˜¯ç›¸åŒçš„ï¼ˆé•œåƒï¼‰ï¼Œä½†æ˜¯æ ¹æ®æ‰€åœ¨ä½ç½®ä¸åŒï¼Œå›½å†…æœåŠ¡å™¨é€šå¸¸é€Ÿåº¦ä¼šæ›´å¿«ä¸€äº›ï¼","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://promisefine.github.io/tags/Linux/"}],"author":"Doney"},{"title":"æ–‡ä»¶å’Œç›®å½•å¸¸ç”¨å‘½ä»¤","slug":"linux03","date":"2019-12-03T06:08:55.000Z","updated":"2021-07-16T06:11:23.224Z","comments":true,"path":"posts/be1650f2.html","link":"","permalink":"https://promisefine.github.io/posts/be1650f2.html","excerpt":"","text":"æ–‡ä»¶å’Œç›®å½•å¸¸ç”¨å‘½ä»¤ç›®æ ‡ æŸ¥çœ‹ç›®å½•å†…å®¹ ls åˆ‡æ¢ç›®å½• cd åˆ›å»ºå’Œåˆ é™¤æ“ä½œ touch rm mkdir æ‹·è´å’Œç§»åŠ¨æ–‡ä»¶ cp mv æŸ¥çœ‹æ–‡ä»¶å†…å®¹ cat more grep å…¶ä»– echo é‡å®šå‘ &gt; å’Œ &gt;&gt; ç®¡é“ | 01. æŸ¥çœ‹ç›®å½•å†…å®¹1.1 ç»ˆç«¯å®ç”¨æŠ€å·§1&gt; è‡ªåŠ¨è¡¥å…¨ åœ¨æ•²å‡º æ–‡ä»¶ï¼ç›®å½•ï¼å‘½ä»¤ çš„å‰å‡ ä¸ªå­—æ¯ä¹‹åï¼ŒæŒ‰ä¸‹ tab é”® å¦‚æœè¾“å…¥çš„æ²¡æœ‰æ­§ä¹‰ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¡¥å…¨ å¦‚æœè¿˜å­˜åœ¨å…¶ä»– æ–‡ä»¶ï¼ç›®å½•ï¼å‘½ä»¤ï¼Œå†æŒ‰ä¸€ä¸‹ tab é”®ï¼Œç³»ç»Ÿä¼šæç¤ºå¯èƒ½å­˜åœ¨çš„å‘½ä»¤ 2&gt; æ›¾ç»ä½¿ç”¨è¿‡çš„å‘½ä»¤ æŒ‰ ä¸Šï¼ä¸‹ å…‰æ ‡é”®å¯ä»¥åœ¨æ›¾ç»ä½¿ç”¨è¿‡çš„å‘½ä»¤ä¹‹é—´æ¥å›åˆ‡æ¢ å¦‚æœæƒ³è¦é€€å‡ºé€‰æ‹©ï¼Œå¹¶ä¸”ä¸æƒ³æ‰§è¡Œå½“å‰é€‰ä¸­çš„å‘½ä»¤ï¼Œå¯ä»¥æŒ‰ ctrl + c 1.2 ls å‘½ä»¤è¯´æ˜ ls æ˜¯è‹±æ–‡å•è¯ list çš„ç®€å†™ï¼Œå…¶åŠŸèƒ½ä¸ºåˆ—å‡ºç›®å½•çš„å†…å®¹ï¼Œæ˜¯ç”¨æˆ·æœ€å¸¸ç”¨çš„å‘½ä»¤ä¹‹ä¸€ï¼Œç±»ä¼¼äº DOS ä¸‹çš„ dir å‘½ä»¤ Linux ä¸‹æ–‡ä»¶å’Œç›®å½•çš„ç‰¹ç‚¹ Linux æ–‡ä»¶ æˆ–è€… ç›®å½• åç§°æœ€é•¿å¯ä»¥æœ‰ 256 ä¸ªå­—ç¬¦ ä»¥ . å¼€å¤´çš„æ–‡ä»¶ä¸ºéšè—æ–‡ä»¶ï¼Œéœ€è¦ç”¨ -a å‚æ•°æ‰èƒ½æ˜¾ç¤º . ä»£è¡¨å½“å‰ç›®å½• .. ä»£è¡¨ä¸Šä¸€çº§ç›®å½• 1.3 ls å¸¸ç”¨é€‰é¡¹ å‚æ•° å«ä¹‰ -a æ˜¾ç¤ºæŒ‡å®šç›®å½•ä¸‹æ‰€æœ‰å­ç›®å½•ä¸æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶ -l ä»¥åˆ—è¡¨æ–¹å¼æ˜¾ç¤ºæ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ -h é…åˆ -l ä»¥äººæ€§åŒ–çš„æ–¹å¼æ˜¾ç¤ºæ–‡ä»¶å¤§å° è®¡ç®—æœºä¸­æ–‡ä»¶å¤§å°çš„è¡¨ç¤ºæ–¹å¼ï¼ˆç§‘æ™®ï¼‰ å•ä½ è‹±æ–‡ å«ä¹‰ å­—èŠ‚ Bï¼ˆByteï¼‰ åœ¨è®¡ç®—æœºä¸­ä½œä¸ºä¸€ä¸ªæ•°å­—å•å…ƒï¼Œä¸€èˆ¬ä¸º 8 ä½äºŒè¿›åˆ¶æ•° åƒ Kï¼ˆKibibyteï¼‰ 1 KB = 1024 Bï¼Œåƒå­—èŠ‚ ï¼ˆ1024 = 2 ** 10ï¼‰ å…† Mï¼ˆMebibyteï¼‰ 1 MB = 1024 KBï¼Œç™¾ä¸‡å­—èŠ‚ åƒå…† Gï¼ˆGigabyteï¼‰ 1 GB = 1024 MBï¼Œåäº¿å­—èŠ‚ï¼Œåƒå…†å­—èŠ‚ å¤ª Tï¼ˆTerabyteï¼‰ 1 TB = 1024 GBï¼Œä¸‡äº¿å­—èŠ‚ï¼Œå¤ªå­—èŠ‚ æ‹ Pï¼ˆPetabyteï¼‰ 1 PB = 1024 TBï¼Œåƒä¸‡äº¿å­—èŠ‚ï¼Œæ‹å­—èŠ‚ è‰¾ Eï¼ˆExabyteï¼‰ 1 EB = 1024 PBï¼Œç™¾äº¿äº¿å­—èŠ‚ï¼Œè‰¾å­—èŠ‚ æ³½ Zï¼ˆZettabyteï¼‰ 1 ZB = 1024 EBï¼Œåä¸‡äº¿äº¿å­—èŠ‚ï¼Œæ³½å­—èŠ‚ å°§ Yï¼ˆYottabyteï¼‰ 1 YB = 1024 ZBï¼Œä¸€äº¿äº¿äº¿å­—èŠ‚ï¼Œå°§å­—èŠ‚ 1.4 ls é€šé…ç¬¦çš„ä½¿ç”¨ é€šé…ç¬¦ å«ä¹‰ * ä»£è¡¨ä»»æ„ä¸ªæ•°ä¸ªå­—ç¬¦ ? ä»£è¡¨ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œè‡³å°‘ 1 ä¸ª [] è¡¨ç¤ºå¯ä»¥åŒ¹é…å­—ç¬¦ç»„ä¸­çš„ä»»ä¸€ä¸€ä¸ª [abc] åŒ¹é… aã€bã€c ä¸­çš„ä»»æ„ä¸€ä¸ª [a-f] åŒ¹é…ä» a åˆ° f èŒƒå›´å†…çš„çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ 02. åˆ‡æ¢ç›®å½•2.1 cd cd æ˜¯è‹±æ–‡å•è¯ change directory çš„ç®€å†™ï¼Œå…¶åŠŸèƒ½ä¸ºæ›´æ”¹å½“å‰çš„å·¥ä½œç›®å½•ï¼Œä¹Ÿæ˜¯ç”¨æˆ·æœ€å¸¸ç”¨çš„å‘½ä»¤ä¹‹ä¸€ æ³¨æ„ï¼šLinux æ‰€æœ‰çš„ ç›®å½• å’Œ æ–‡ä»¶å éƒ½æ˜¯å¤§å°å†™æ•æ„Ÿçš„ å‘½ä»¤ å«ä¹‰ cd åˆ‡æ¢åˆ°å½“å‰ç”¨æˆ·çš„ä¸»ç›®å½•(/home/ç”¨æˆ·ç›®å½•) cd ~ åˆ‡æ¢åˆ°å½“å‰ç”¨æˆ·çš„ä¸»ç›®å½•(/home/ç”¨æˆ·ç›®å½•) cd . ä¿æŒåœ¨å½“å‰ç›®å½•ä¸å˜ cd .. åˆ‡æ¢åˆ°ä¸Šçº§ç›®å½• cd - å¯ä»¥åœ¨æœ€è¿‘ä¸¤æ¬¡å·¥ä½œç›®å½•ä¹‹é—´æ¥å›åˆ‡æ¢ 2.2 ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„ ç›¸å¯¹è·¯å¾„ åœ¨è¾“å…¥è·¯å¾„æ—¶ï¼Œæœ€å‰é¢ä¸æ˜¯ / æˆ–è€… ~**ï¼Œè¡¨ç¤ºç›¸å¯¹ **å½“å‰ç›®å½• æ‰€åœ¨çš„ç›®å½•ä½ç½® ç»å¯¹è·¯å¾„ åœ¨è¾“å…¥è·¯å¾„æ—¶ï¼Œæœ€å‰é¢æ˜¯ / æˆ–è€… ~**ï¼Œè¡¨ç¤ºä» **æ ¹ç›®å½•/å®¶ç›®å½• å¼€å§‹çš„å…·ä½“ç›®å½•ä½ç½® 03. åˆ›å»ºå’Œåˆ é™¤æ“ä½œ3.1 touch åˆ›å»ºæ–‡ä»¶æˆ–ä¿®æ”¹æ–‡ä»¶æ—¶é—´ å¦‚æœæ–‡ä»¶ ä¸å­˜åœ¨ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªç©ºç™½æ–‡ä»¶ å¦‚æœæ–‡ä»¶ å·²ç»å­˜åœ¨ï¼Œå¯ä»¥ä¿®æ”¹æ–‡ä»¶çš„æœ«æ¬¡ä¿®æ”¹æ—¥æœŸ 3.2 mkdir åˆ›å»ºä¸€ä¸ªæ–°çš„ç›®å½• é€‰é¡¹ å«ä¹‰ -p å¯ä»¥é€’å½’åˆ›å»ºç›®å½• æ–°å»ºç›®å½•çš„åç§° ä¸èƒ½ä¸å½“å‰ç›®å½•ä¸­ å·²æœ‰çš„ç›®å½•æˆ–æ–‡ä»¶ åŒå 3.3 rm åˆ é™¤æ–‡ä»¶æˆ–ç›®å½• ä½¿ç”¨ rm å‘½ä»¤è¦å°å¿ƒï¼Œå› ä¸ºæ–‡ä»¶åˆ é™¤åä¸èƒ½æ¢å¤ é€‰é¡¹ å«ä¹‰ -f å¼ºåˆ¶åˆ é™¤ï¼Œå¿½ç•¥ä¸å­˜åœ¨çš„æ–‡ä»¶ï¼Œæ— éœ€æç¤º -r é€’å½’åœ°åˆ é™¤ç›®å½•ä¸‹çš„å†…å®¹ï¼Œåˆ é™¤æ–‡ä»¶å¤¹ æ—¶å¿…é¡»åŠ æ­¤å‚æ•° 04. æ‹·è´å’Œç§»åŠ¨æ–‡ä»¶ åºå· å‘½ä»¤ å¯¹åº”è‹±æ–‡ ä½œç”¨ 01 tree [ç›®å½•å] tree ä»¥æ ‘çŠ¶å›¾åˆ—å‡ºæ–‡ä»¶ç›®å½•ç»“æ„ 02 cp æºæ–‡ä»¶ ç›®æ ‡æ–‡ä»¶ copy å¤åˆ¶æ–‡ä»¶æˆ–è€…ç›®å½• 03 mv æºæ–‡ä»¶ ç›®æ ‡æ–‡ä»¶ move ç§»åŠ¨æ–‡ä»¶æˆ–è€…ç›®å½•ï¼æ–‡ä»¶æˆ–è€…ç›®å½•é‡å‘½å 4.1 tree tree å‘½ä»¤å¯ä»¥ä»¥æ ‘çŠ¶å›¾åˆ—å‡ºæ–‡ä»¶ç›®å½•ç»“æ„ é€‰é¡¹ å«ä¹‰ -d åªæ˜¾ç¤ºç›®å½• 4.2 cp cp å‘½ä»¤çš„åŠŸèƒ½æ˜¯å°†ç»™å‡ºçš„ æ–‡ä»¶ æˆ– ç›®å½• å¤åˆ¶åˆ°å¦ä¸€ä¸ª æ–‡ä»¶ æˆ– ç›®å½• ä¸­ï¼Œç›¸å½“äº DOS ä¸‹çš„ copy å‘½ä»¤ é€‰é¡¹ å«ä¹‰ -i è¦†ç›–æ–‡ä»¶å‰æç¤º -r è‹¥ç»™å‡ºçš„æºæ–‡ä»¶æ˜¯ç›®å½•æ–‡ä»¶ï¼Œåˆ™ cp å°†é€’å½’å¤åˆ¶è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶ï¼Œç›®æ ‡æ–‡ä»¶å¿…é¡»ä¸ºä¸€ä¸ªç›®å½•å 4.3 mv mv å‘½ä»¤å¯ä»¥ç”¨æ¥ ç§»åŠ¨ æ–‡ä»¶ æˆ– ç›®å½•ï¼Œä¹Ÿå¯ä»¥ç»™ æ–‡ä»¶æˆ–ç›®å½•é‡å‘½å é€‰é¡¹ å«ä¹‰ -i è¦†ç›–æ–‡ä»¶å‰æç¤º 05. æŸ¥çœ‹æ–‡ä»¶å†…å®¹ åºå· å‘½ä»¤ å¯¹åº”è‹±æ–‡ ä½œç”¨ 01 cat æ–‡ä»¶å concatenate æŸ¥çœ‹æ–‡ä»¶å†…å®¹ã€åˆ›å»ºæ–‡ä»¶ã€æ–‡ä»¶åˆå¹¶ã€è¿½åŠ æ–‡ä»¶å†…å®¹ç­‰åŠŸèƒ½ 02 more æ–‡ä»¶å more åˆ†å±æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ 03 grep æœç´¢æ–‡æœ¬ æ–‡ä»¶å grep æœç´¢æ–‡æœ¬æ–‡ä»¶å†…å®¹ 5.1 cat cat å‘½ä»¤å¯ä»¥ç”¨æ¥ æŸ¥çœ‹æ–‡ä»¶å†…å®¹ã€åˆ›å»ºæ–‡ä»¶ã€æ–‡ä»¶åˆå¹¶ã€è¿½åŠ æ–‡ä»¶å†…å®¹ ç­‰åŠŸèƒ½ cat ä¼šä¸€æ¬¡æ˜¾ç¤ºæ‰€æœ‰çš„å†…å®¹ï¼Œé€‚åˆ æŸ¥çœ‹å†…å®¹è¾ƒå°‘ çš„æ–‡æœ¬æ–‡ä»¶ é€‰é¡¹ å«ä¹‰ -b å¯¹éç©ºè¾“å‡ºè¡Œç¼–å· -n å¯¹è¾“å‡ºçš„æ‰€æœ‰è¡Œç¼–å· Linux ä¸­è¿˜æœ‰ä¸€ä¸ª nl çš„å‘½ä»¤å’Œ cat -b çš„æ•ˆæœç­‰ä»· 5.2 more more å‘½ä»¤å¯ä»¥ç”¨äºåˆ†å±æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼Œæ¯æ¬¡åªæ˜¾ç¤ºä¸€é¡µå†…å®¹ é€‚åˆäº æŸ¥çœ‹å†…å®¹è¾ƒå¤šçš„æ–‡æœ¬æ–‡ä»¶ ä½¿ç”¨ more çš„æ“ä½œé”®ï¼š æ“ä½œé”® åŠŸèƒ½ ç©ºæ ¼é”® æ˜¾ç¤ºæ‰‹å†Œé¡µçš„ä¸‹ä¸€å± Enter é”® ä¸€æ¬¡æ»šåŠ¨æ‰‹å†Œé¡µçš„ä¸€è¡Œ b å›æ»šä¸€å± f å‰æ»šä¸€å± q é€€å‡º /word æœç´¢ word å­—ç¬¦ä¸² 5.3 grep Linux ç³»ç»Ÿä¸­ grep å‘½ä»¤æ˜¯ä¸€ç§å¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…· grepå…è®¸å¯¹æ–‡æœ¬æ–‡ä»¶è¿›è¡Œ æ¨¡å¼æŸ¥æ‰¾ï¼Œæ‰€è°“æ¨¡å¼æŸ¥æ‰¾ï¼Œåˆè¢«ç§°ä¸ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œåœ¨å°±ä¸šç­ä¼šè¯¦ç»†è®²è§£ é€‰é¡¹ å«ä¹‰ -n æ˜¾ç¤ºåŒ¹é…è¡ŒåŠè¡Œå· -v æ˜¾ç¤ºä¸åŒ…å«åŒ¹é…æ–‡æœ¬çš„æ‰€æœ‰è¡Œï¼ˆç›¸å½“äºæ±‚åï¼‰ -i å¿½ç•¥å¤§å°å†™ å¸¸ç”¨çš„ä¸¤ç§æ¨¡å¼æŸ¥æ‰¾ å‚æ•° å«ä¹‰ ^a è¡Œé¦–ï¼Œæœå¯»ä»¥ a å¼€å¤´çš„è¡Œ ke$ è¡Œå°¾ï¼Œæœå¯»ä»¥ ke ç»“æŸçš„è¡Œ 06. å…¶ä»–6.1 echo æ–‡å­—å†…å®¹ echo ä¼šåœ¨ç»ˆç«¯ä¸­æ˜¾ç¤ºå‚æ•°æŒ‡å®šçš„æ–‡å­—ï¼Œé€šå¸¸ä¼šå’Œ é‡å®šå‘ è”åˆä½¿ç”¨ 6.2 é‡å®šå‘ &gt; å’Œ &gt;&gt; Linux å…è®¸å°†å‘½ä»¤æ‰§è¡Œç»“æœ é‡å®šå‘åˆ°ä¸€ä¸ª æ–‡ä»¶ å°†æœ¬åº”æ˜¾ç¤ºåœ¨ç»ˆç«¯ä¸Šçš„å†…å®¹ è¾“å‡ºï¼è¿½åŠ  åˆ°æŒ‡å®šæ–‡ä»¶ä¸­ å…¶ä¸­ &gt; è¡¨ç¤ºè¾“å‡ºï¼Œä¼šè¦†ç›–æ–‡ä»¶åŸæœ‰çš„å†…å®¹ &gt;&gt; è¡¨ç¤ºè¿½åŠ ï¼Œä¼šå°†å†…å®¹è¿½åŠ åˆ°å·²æœ‰æ–‡ä»¶çš„æœ«å°¾ 6.3 ç®¡é“ | Linux å…è®¸å°† ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡º å¯ä»¥é€šè¿‡ç®¡é“ åšä¸º å¦ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥ å¯ä»¥ç†è§£ç°å®ç”Ÿæ´»ä¸­çš„ç®¡å­ï¼Œç®¡å­çš„ä¸€å¤´å¡ä¸œè¥¿è¿›å»ï¼Œå¦ä¸€å¤´å–å‡ºæ¥ï¼Œè¿™é‡Œ | çš„å·¦å³åˆ†ä¸ºä¸¤ç«¯ï¼Œå·¦ç«¯å¡ä¸œè¥¿ï¼ˆå†™ï¼‰ï¼Œå³ç«¯å–ä¸œè¥¿ï¼ˆè¯»ï¼‰ å¸¸ç”¨çš„ç®¡é“å‘½ä»¤æœ‰ï¼š moreï¼šåˆ†å±æ˜¾ç¤ºå†…å®¹ grepï¼šåœ¨å‘½ä»¤æ‰§è¡Œç»“æœçš„åŸºç¡€ä¸ŠæŸ¥è¯¢æŒ‡å®šçš„æ–‡æœ¬","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://promisefine.github.io/tags/Linux/"}],"author":"Doney"},{"title":"Linux ç»ˆç«¯å‘½ä»¤æ ¼å¼","slug":"linux02","date":"2019-12-03T03:54:11.000Z","updated":"2021-07-16T06:05:13.538Z","comments":true,"path":"posts/c9116064.html","link":"","permalink":"https://promisefine.github.io/posts/c9116064.html","excerpt":"","text":"Linux ç»ˆç«¯å‘½ä»¤æ ¼å¼ç›®æ ‡ äº†è§£ç»ˆç«¯å‘½ä»¤æ ¼å¼ çŸ¥é“å¦‚ä½•æŸ¥é˜…ç»ˆç«¯å‘½ä»¤å¸®åŠ©ä¿¡æ¯ 01. ç»ˆç«¯å‘½ä»¤æ ¼å¼command [-options] [parameter] è¯´æ˜ï¼š commandï¼šå‘½ä»¤åï¼Œç›¸åº”åŠŸèƒ½çš„è‹±æ–‡å•è¯æˆ–å•è¯çš„ç¼©å†™ [-options]ï¼šé€‰é¡¹ï¼Œå¯ç”¨æ¥å¯¹å‘½ä»¤è¿›è¡Œæ§åˆ¶ï¼Œä¹Ÿå¯ä»¥çœç•¥ parameterï¼šä¼ ç»™å‘½ä»¤çš„å‚æ•°ï¼Œå¯ä»¥æ˜¯ é›¶ä¸ªã€ä¸€ä¸ª æˆ–è€… å¤šä¸ª [] ä»£è¡¨å¯é€‰ 02. æŸ¥é˜…å‘½ä»¤å¸®åŠ©ä¿¡æ¯ï¼ˆçŸ¥é“ï¼‰ æç¤º ç°é˜¶æ®µåªéœ€è¦ çŸ¥é“ é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼å¯ä»¥æŸ¥è¯¢å‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯ å…ˆå­¦ä¹ å¸¸ç”¨å‘½ä»¤åŠå¸¸ç”¨é€‰é¡¹çš„ä½¿ç”¨å³å¯ï¼Œå·¥ä½œä¸­å¦‚æœé‡åˆ°é—®é¢˜å¯ä»¥å€ŸåŠ© ç½‘ç»œæœç´¢ 2.1 --helpcommand --help è¯´æ˜ï¼š æ˜¾ç¤º command å‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯ 2.2 manman command è¯´æ˜ï¼š æŸ¥é˜… command å‘½ä»¤çš„ä½¿ç”¨æ‰‹å†Œ man æ˜¯ manual çš„ç¼©å†™ï¼Œæ˜¯ Linux æä¾›çš„ä¸€ä¸ª æ‰‹å†Œï¼ŒåŒ…å«äº†ç»å¤§éƒ¨åˆ†çš„å‘½ä»¤ã€å‡½æ•°çš„è¯¦ç»†ä½¿ç”¨è¯´æ˜ ä½¿ç”¨ man æ—¶çš„æ“ä½œé”®ï¼š æ“ä½œé”® åŠŸèƒ½ ç©ºæ ¼é”® æ˜¾ç¤ºæ‰‹å†Œé¡µçš„ä¸‹ä¸€å± Enter é”® ä¸€æ¬¡æ»šåŠ¨æ‰‹å†Œé¡µçš„ä¸€è¡Œ b å›æ»šä¸€å± f å‰æ»šä¸€å± q é€€å‡º /word æœç´¢ word å­—ç¬¦ä¸²","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://promisefine.github.io/tags/Linux/"}],"author":"Doney"},{"title":"å¸¸ç”¨ Linux å‘½ä»¤çš„åŸºæœ¬ä½¿ç”¨","slug":"linux01","date":"2019-12-02T05:59:45.000Z","updated":"2021-07-16T06:04:26.718Z","comments":true,"path":"posts/501831de.html","link":"","permalink":"https://promisefine.github.io/posts/501831de.html","excerpt":"","text":"å¸¸ç”¨ Linux å‘½ä»¤çš„åŸºæœ¬ä½¿ç”¨ç›®æ ‡ ç†è§£å­¦ä¹  Linux ç»ˆç«¯å‘½ä»¤çš„åŸå›  å¸¸ç”¨ Linux å‘½ä»¤ä½“éªŒ 01. å­¦ä¹  Linux ç»ˆç«¯å‘½ä»¤çš„åŸå›  Linux åˆšé¢ä¸–æ—¶å¹¶æ²¡æœ‰å›¾å½¢ç•Œé¢ï¼Œæ‰€æœ‰çš„æ“ä½œå…¨é å‘½ä»¤å®Œæˆï¼Œå¦‚ ç£ç›˜æ“ä½œã€æ–‡ä»¶å­˜å–ã€ç›®å½•æ“ä½œã€è¿›ç¨‹ç®¡ç†ã€æ–‡ä»¶æƒé™ è®¾å®šç­‰ åœ¨èŒåœºä¸­ï¼Œå¤§é‡çš„ æœåŠ¡å™¨ç»´æŠ¤å·¥ä½œ éƒ½æ˜¯åœ¨ è¿œç¨‹ é€šè¿‡ SSH å®¢æˆ·ç«¯ æ¥å®Œæˆçš„ï¼Œå¹¶æ²¡æœ‰å›¾å½¢ç•Œé¢ï¼Œæ‰€æœ‰çš„ç»´æŠ¤å·¥ä½œéƒ½éœ€è¦é€šè¿‡å‘½ä»¤æ¥å®Œæˆ åœ¨èŒåœºä¸­ï¼Œä½œä¸ºåç«¯ç¨‹åºå‘˜ï¼Œå¿…é¡»è¦æˆ–å¤šæˆ–å°‘çš„æŒæ¡ä¸€äº› Linux å¸¸ç”¨çš„ç»ˆç«¯å‘½ä»¤ Linux å‘è¡Œç‰ˆæœ¬çš„å‘½ä»¤å¤§æ¦‚æœ‰ 200 å¤šä¸ªï¼Œä½†æ˜¯å¸¸ç”¨çš„å‘½ä»¤åªæœ‰ 10 å¤šä¸ªè€Œå·² å­¦ä¹ ç»ˆç«¯å‘½ä»¤çš„æŠ€å·§ï¼š ä¸éœ€è¦æ­»è®°ç¡¬èƒŒï¼Œå¯¹äºå¸¸ç”¨å‘½ä»¤ï¼Œç”¨çš„å¤šäº†ï¼Œè‡ªç„¶å°±è®°ä½äº† ä¸è¦å°è¯•ä¸€æ¬¡å­¦ä¼šæ‰€æœ‰çš„å‘½ä»¤ï¼Œæœ‰äº›å‘½ä»¤æ˜¯éå¸¸ä¸å¸¸ç”¨çš„ï¼Œä¸´æ—¶é‡åˆ°ï¼Œä¸´æ—¶ç™¾åº¦å°±å¯ä»¥ 02. å¸¸ç”¨ Linux å‘½ä»¤çš„åŸºæœ¬ä½¿ç”¨ åºå· å‘½ä»¤ å¯¹åº”è‹±æ–‡ ä½œç”¨ 01 ls list æŸ¥çœ‹å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„å†…å®¹ 02 pwd print work directory æŸ¥çœ‹å½“å‰æ‰€åœ¨æ–‡ä»¶å¤¹ 03 cd [ç›®å½•å] change directory åˆ‡æ¢æ–‡ä»¶å¤¹ 04 touch [æ–‡ä»¶å] touch å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œæ–°å»ºæ–‡ä»¶ 05 mkdir [ç›®å½•å] make directory åˆ›å»ºç›®å½• 06 rm [æ–‡ä»¶å] remove åˆ é™¤æŒ‡å®šçš„æ–‡ä»¶å 07 clear clear æ¸…å± å°æŠ€å·§ ctrl + shift + = æ”¾å¤§ç»ˆç«¯çª—å£çš„å­—ä½“æ˜¾ç¤º ctrl + - ç¼©å°ç»ˆç«¯çª—å£çš„å­—ä½“æ˜¾ç¤º 03. è‡ªåŠ¨è¡¥å…¨ åœ¨æ•²å‡º æ–‡ä»¶ï¼ç›®å½•ï¼å‘½ä»¤ çš„å‰å‡ ä¸ªå­—æ¯ä¹‹åï¼ŒæŒ‰ä¸‹ tab é”® å¦‚æœè¾“å…¥çš„æ²¡æœ‰æ­§ä¹‰ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¡¥å…¨ å¦‚æœè¿˜å­˜åœ¨å…¶ä»– æ–‡ä»¶ï¼ç›®å½•ï¼å‘½ä»¤ï¼Œå†æŒ‰ä¸€ä¸‹ tab é”®ï¼Œç³»ç»Ÿä¼šæç¤ºå¯èƒ½å­˜åœ¨çš„å‘½ä»¤ å°æŠ€å·§ æŒ‰ ä¸Šï¼ä¸‹ å…‰æ ‡é”®å¯ä»¥åœ¨æ›¾ç»ä½¿ç”¨è¿‡çš„å‘½ä»¤ä¹‹é—´æ¥å›åˆ‡æ¢ å¦‚æœæƒ³è¦é€€å‡ºé€‰æ‹©ï¼Œå¹¶ä¸”ä¸æƒ³æ‰§è¡Œå½“å‰é€‰ä¸­çš„å‘½ä»¤ï¼Œå¯ä»¥æŒ‰ ctrl + c","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://promisefine.github.io/tags/Linux/"}],"author":"Doney"},{"title":"ç®—æ³•","slug":"algorithm","date":"2019-11-29T02:01:45.000Z","updated":"2021-07-16T03:23:28.310Z","comments":true,"path":"posts/9505ccb9.html","link":"","permalink":"https://promisefine.github.io/posts/9505ccb9.html","excerpt":"","text":"å¤æ‚åº¦// å¤§Oç®—æ³•å°±æ˜¯ç®—æ³•æ‰§â¾æ‰€éœ€è¦çš„æ‰§â¾æ¬¡æ•°ï¼Œå’Œæ•°æ®é‡çš„å…³ç³»(æ—¶é—´å¤æ‚åº¦),å â½¤é¢å¤–ç©ºé—´å’Œæ•°æ®é‡çš„å…³ç³»(ç©ºé—´å¤æ‚åº¦) O(1) : å¸¸æ•°å¤æ‚åº¦ (å’Œæ•°æ®é‡â½†å…³) O(logn) :å¯¹æ•°å¤æ‚åº¦ (â¼†åˆ†) O(n) : çº¿æ€§æ—¶é—´å¤æ‚åº¦ ï¼ˆæ•°ç»„éå†â¼€æ¬¡ï¼‰ O(n*logn) : çº¿æ€§å¯¹æ•° ï¼ˆéå†+â¼†åˆ†ï¼‰ O(n^2) : å¹³â½… ä¸¤å±‚éå† O(2^n) : æŒ‡æ•° é€’å½’ O(n!) : é˜¶ä¹˜ å†’æ³¡æ’åºfunction bubleSort(arr) { var len = arr.length for (let outer = len; outer &gt;= 2; outer--) { for (let inner = 0; inner &lt;= outer - 1; inner++) { if (arr[inner] &gt; arr[inner + 1]) { [arr[inner], arr[inner + 1]] = [arr[inner + 1], arr[inner]] } } } return arr } console.log(bubleSort([4, 3, 6, 1, 9, 6, 2])) æ’å…¥æ’åºfunction insertSort(arr) { for (let i = 1; i &lt; arr.length; i++) { //å¤–å¾ªç¯ä»1å¼€å§‹ï¼Œé»˜è®¤arr[0]æ˜¯æœ‰åºæ®µ for (let j = i; j &gt; 0; j--) { //j = i,å°†arr[j]ä¾æ¬¡æ’â¼Šæœ‰åºæ®µä¸­ if (arr[j] &lt; arr[j - 1]) { [arr[j], arr[j - 1]] = [arr[j - 1], arr[j]]; } else { break; } } } return arr; } console.log(insertSort([11, 4, 3, 6, 1, 9, 7, 2, 0])) å¿«é€Ÿæ’åºfunction quickSort(arr) { if (arr.length &lt;= 1) { return arr; //é€’å½’å‡ºâ¼ } var left = [], right = [], current = arr.splice(0, 1); //æ³¨æ„spliceåï¼Œæ•°ç»„â»“åº¦å°‘äº†â¼€ä¸ª for (let i = 0; i &lt; arr.length; i++) { if (arr[i] &lt; current) { left.push(arr[i]) //æ”¾åœ¨å·¦è¾¹ } else { right.push(arr[i]) //æ”¾åœ¨å³è¾¹ } } return quickSort(left).concat(current, quickSort(right)); //é€’å½’ } æ•°ç»„æ‰å¹³åŒ–Array.prototype.flat = function () { var arr = []; this.forEach((item, idx) =&gt; { if (Array.isArray(item)) { arr = arr.concat(item.flat()); //é€’å½’å»å¤„ç†æ•°ç»„å…ƒç´  } else { arr.push(item) //â¾®æ•°ç»„ç›´æ¥pushè¿›å» } }) return arr; //é€’å½’å‡ºâ¼ } arr = [1, 2, 3, [4, 5, [6, 7, [8, 9]]], [10, 11] ] console.log(arr.flat()) æŸ¥æ‰¾ç®—æ³•// å¾ªç¯çš„äºŒåˆ†æŸ¥æ‰¾ function binarySearch(arr, target) { var low = 0, high = arr.length - 1, mid; while (low &lt;= high) { mid = Math.floor((low + high) / 2); if (target === arr[mid]) { return `æ‰¾åˆ°äº†${target},åœ¨ç¬¬${mid + 1}ä¸ª` } if (target &gt; arr[mid]) { low = mid + 1; } else if (target &lt; arr[mid]) { high = mid - 1; } } return -1 } console.log(binarySearch([1, 2, 3, 4, 5, 7, 9, 11, 14, 16, 17, 22, 33, 55, 65], 4)) // é€’å½’çš„äºŒåˆ†æŸ¥æ‰¾ function binarySearch1(arr, target, low = 0, high = arr.length - 1) { const n = Math.floor((low + high) / 2); const cur = arr[n]; if (cur === target) { return `æ‰¾åˆ°äº†${target},åœ¨ç¬¬${n+1}ä¸ª`; } else if (cur &gt; target) { return binarySearch1(arr, target, low, n - 1); } else if (cur &lt; target) { return binarySearch1(arr, target, n + 1, high); } return -1; } æ•°æ®ç»“æ„æ ˆclass Stack { constructor() { this.items = [] } push(item) { this.items.push(item) } pop() { return this.items.pop() } size() { return this.items.length } clear() { this.items = [] } } ç´¢å¼•: O(n) æœç´¢: O(n) æ’â¼Š: O(1) ç§»é™¤: O(1) // ç»å…¸æ¡ˆä¾‹ï¼š æ‹¬å·åŒ¹é…ï¼Œhtmlæ ‡ç­¾åŒ¹é…ï¼Œè¿›åˆ¶è½¬æ¢ function isBalance(symbol) { const stack = new Stack() const left = '{(' const right = '})' let popValue let tag = true const match = function (popValue, current) { if (left.indexOf(popValue) !== right.indexOf(current)) { tag = false } } for (let i = 0; i &lt; symbol.length; i++) { if (left.includes(symbol[i])) { stack.push(symbol[i]) } else if (right.includes(symbol[i])) { popValue = stack.pop() match(popValue, symbol[i]) } } return tag } console.log(isBalance('{{(({}))}}')) console.log(isBalance('{{(({})}}')) é“¾è¡¨ class Node { constructor(element) { this.element = element this.next = null } } class LinkedList { constructor() { this.head = null this.current this.length = 0 } append(element) { const node = new Node(element) if (this.head === null) { // æ’â¼Šç¬¬â¼€ä¸ªé“¾è¡¨ this.head = node } else { this.current = this.head while (this.current.next) { // æ‰¾åˆ°æœ€åâ¼€ä¸ªèŠ‚ç‚¹ this.current = this.current.next } this.current.next = node } this.length++ } // ç§»é™¤æŒ‡å®šä½ç½®å…ƒç´  removeAt(position) { if (position &gt; -1 &amp;&amp; position &lt; this.length) { let previous let index = 0 if (position === 0) { // å¦‚æœæ˜¯ç¬¬â¼€ä¸ªé“¾è¡¨çš„è¯, ç‰¹æ®Šå¯¹å¾… this.head = this.head.next } else { å¼€è¯¾å§webå…¨æ ˆæ¶æ„å¸ˆ this.current = this.head while (index &lt; position) { // å¾ªç¯æ‰¾åˆ°å½“å‰è¦åˆ é™¤å…ƒç´ çš„ä½ç½® previous = this.current this.current = this.current.next index++ } previous.next = this.current.next } this.length-- } } // åœ¨æŒ‡å®šä½ç½®åŠ â¼Šå…ƒç´  insert(position, element) { const node = new Node(element) let index = 0 let current, previous if (position &gt; -1 &amp;&amp; position &lt; this.length + 1) { if (position === 0) { // åœ¨é“¾è¡¨æœ€å‰æ’â¼Šå…ƒç´  current = this.head this.head = node this.head.next = current } else { current = this.head while (index &lt; position) { // åŒ removeAt é€»è¾‘, æ‰¾åˆ°â½¬æ ‡ä½ç½® previous = current current = current.next index++ } previous.next = node // åœ¨â½¬æ ‡ä½ç½®æ’â¼Šç›¸åº”å…ƒç´  node.next = current } this.length++ } } // é“¾è¡¨ä¸­æ˜¯å¦å«æœ‰æŸä¸ªå…ƒç´ , å¦‚æœæœ‰çš„è¯è¿”å›ç›¸åº”ä½ç½®, â½†çš„è¯è¿”å› -1 indexOf(element) { let index = 0 this.current = this.head while (index &lt; this.length) { if (this.current.element === element) { return index } this.current = this.current.next index++ } return -1 } // ç§»é™¤æŸå…ƒç´  remove(element) { const position = this.indexOf(element) this.removeAt(position) } // è·å–â¼¤â¼© size() { return this.length } // è·å–æœ€å¼€å¤´çš„é“¾è¡¨ getHead() { return this.head } // æ˜¯å¦ä¸ºç©º isEmpty() { return this.length === 0 } // æ‰“å°é“¾è¡¨å…ƒç´  log() { this.current = this.head let str = this.current.element while (this.current.next) { this.current = this.current.next str = str + ' ' + this.current.element } console.log(str) return str } } // æµ‹è¯•â½¤ä¾‹ var linkedList = new LinkedList() linkedList.append(5) linkedList.append(10) linkedList.append(15) linkedList.append(20) linkedList.log() // '5 10 15 20' linkedList.removeAt(1) linkedList.log() // '5 15 20' linkedList.insert(1, 10) linkedList.log() é›†åˆ Setå’ŒMapnew Set() new WeekSet() new Map() new WeekMap() class Set { constructor() { this.items = {} } has(value) { return this.items.hasOwnProperty(value) } add(value) { if (!this.has(value)) { this.items[value] = value return true } return false } remove(value) { if (this.has(value)) { delete this.items[value] return true } return false } get size() { return Object.keys(this.items).length } get values() { return Object.keys(this.items) } } const set = new Set() set.add(1) console.log(set.values) // [\"1\"] console.log(set.has(1)) // true console.log(set.size) // 1 set.add(2) console.log(set.values) // [\"1\", \"2\"] console.log(set.has(2)) // true console.log(set.size) // 2 set.remove(1) console.log(set.values) // [\"2\"] set.remove(2) console.log(set.values) // [] å“ˆå¸Œè¡¨ åç§° æ•£åˆ—å‡½æ•° æ•£åˆ—å€¼ æ•£åˆ—è¡¨ John 74+111+104+110 399 [399] [john@qq.com] class HashTable { constructor() { this.items = {} } put(key, value) { const hash = this.keyToHash(key) this.items[hash] = value } get(key) { return this.items[this.keyToHash(key)] } remove(key) { delete(this.items[this.keyToHash(key)]) } keyToHash(key) { let hash = 0 for (let i = 0; i &lt; key.length; i++) { hash += key.charCodeAt(i) } hash = hash % 37 // ä¸ºäº†é¿å… hash çš„å€¼è¿‡â¼¤ return hash } } let ht = new HashTable() ht.put('name', 'xxx') ht.put('age', '6') console.log(ht.get('name')) ht.remove('name') console.log(ht.get('name')) ç®—æ³•æŠ€å·§åŠ¨æ€è§„åˆ’// ä¾‹å¦‚æ–æ³¢é‚£å¥‘ // é€’å½’ function fib(n) { if (n == 1 || n == 2) return 1 return fib(n - 1) + fib(n - 2) } // åŠ¨å½’ è§£å†³å­é—®é¢˜é‡å¤ function fib(n) { let memo = [] return helper(memo, n) } function helper(memo, n) { if (n == 1 || n == 2) { // å‰ä¸¤ä¸ª return 1 } // å¦‚æœæœ‰ç¼“å­˜ï¼Œç›´æ¥è¿”å› if (memo[n]) return memo[n]; // æ²¡ç¼“å­˜ memo[n] = helper(memo, n - 1) + helper(memo, n - 2) return memo[n] } // åŠ¨å½’è§£å†³ function fib(n) { let dp = [] dp[1] = dp[2] = 1 for (let i = 3; i &lt;= n; i++) { dp[i] = dp[i - 1] + dp[i - 2]; } return dp[n] } // å‡å¦‚æœ‰1,5,10,20,50,100äººæ°‘å¸ 4 [1, 1, 1, 1] // éœ€ 4 ä¸ª 1 5 [5] // éœ€ 1 ä¸ª 5 36 [20, 10, 5, 1] // éœ€ 20ã€10ã€5ã€1å„â¼€ä¸ª class Change { constructor(changeType) { this.changeType = changeType this.cache = {} } makeChange(amount) { let min = [] if (!amount) { return [] } if (this.cache[amount]) { // è¯»ç¼“å­˜ return this.cache[amount] } for (let i = 0; i &lt; this.changeType.length; i++) { const leftAmount = amount - this.changeType[i] let newMin if (leftAmount &gt;= 0) { newMin = this.makeChange(leftAmount) // è¿™â¼€å¥æ˜¯åŠ¨æ€è§„åˆ’çš„æç° } if (leftAmount &gt;= 0 &amp;&amp; (newMin.length &lt; min.length - 1 || !min.length)) { // å¦‚æœå­˜åœ¨æ›´â¼©çš„æ‰¾é›¶ç¡¬å¸æ•°, åˆ™æ‰§â¾åâ¾¯è¯­å¥ min = [this.changeType[i]].concat(newMin) } } return this.cache[amount] = min } } const change = new Change([1, 5, 10, 20, 50, 100]) console.log(change.makeChange(2)) console.log(change.makeChange(5)) console.log(change.makeChange(13)) console.log(change.makeChange(35)) console.log(change.makeChange(135)) è´ªå¿ƒç®—æ³• // è´ªâ¼¼ å…ˆæ‰¾æœ€å¤§é¢å€¼ï¼Œè¶…äº†å†æ‰¾å…¶ä»–çš„ class Change { constructor(changeType) { this.changeType = changeType.sort((r1, r2) =&gt; r2 - r1) } makeChange(amount) { const arr = [] for (let i = 0; i &lt; this.changeType.length; i++) { while (amount - this.changeType[i] &gt;= 0) { arr.push(this.changeType[i]) amount = amount - this.changeType[i] } } return arr } } const change = new Change([1, 5, 10, 20, 50, 100]) console.log(change.makeChange(36)) console.log(change.makeChange(136)) console.log('-'.repeat(100)) // æœ‰æ—¶è´ªå¿ƒç®—æ³•ä¸ä¸€å®šå‡†ç¡®ï¼Œæ±‚çš„æœ€å¤§è¿‘ä¼¼è§£ const change1 = new Change([1, 3, 4]) console.log(change1.makeChange(6)) // å…¶å®[3, 3]æœ€å¥½","categories":[],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"https://promisefine.github.io/tags/Javascript/"}],"author":"Doney"},{"title":"å‰ç«¯æ€§èƒ½ä¼˜åŒ–","slug":"optimization","date":"2019-11-16T00:10:03.000Z","updated":"2021-07-16T03:23:59.279Z","comments":true,"path":"posts/604c45ad.html","link":"","permalink":"https://promisefine.github.io/posts/604c45ad.html","excerpt":"","text":"å‰ç«¯æ€§èƒ½ä¼˜åŒ–ï¼šä»è¾“å…¥URLåˆ°é¡µé¢åŠ è½½å®Œæˆï¼Œå‘ç”Ÿäº†ä»€ä¹ˆ 1. â½¤æˆ·è¾“â¼Šwww.baidu.com 2. æµè§ˆå™¨é€šè¿‡DNSï¼ŒæŠŠurlè§£æä¸ºIP 3. å’ŒIPåœ°å€å»ºâ½´TCPé“¾æ¥ å‘é€HTTPè¯·æ±‚ 4. æœåŠ¡å™¨æ¥æ”¶è¯·æ±‚ï¼ŒæŸ¥åº“ï¼Œè¯»â½‚ä»¶ç­‰ï¼Œæ‹¼æ¥å¥½è¿”å›çš„HTTPå“åº” 5. æµè§ˆå™¨æ”¶åˆ°â¾¸å±htmlï¼Œå¼€å§‹æ¸²æŸ“ 6. è§£æhtmlä¸ºdom 7. è§£æcss ä¸ºcss-tree 8. dom+ css â½£æˆrender-tree ç»˜å›¾ 9. åŠ è½½scriptçš„jsâ½‚ä»¶ 10. æ‰§â¾js // DNS ä¼˜åŒ– &lt;link rel=\"dns-prefetch\" href=\"dnsçš„åœ°å€\"/&gt; // IP TCP HTTPçš„å…³ç³» 1ã€IPè´Ÿè´£æ‰¾åˆ°èµ„æº 2ã€TCPè´Ÿè´£æ•°æ®çš„å®Œæ•´æ€§å’Œæœ‰åºæ€§ï¼Œä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹ 3ã€httpåº”ç”¨å±‚ï¼Œè´Ÿè´£åº”ç”¨å±‚æ•°æ® // ä¼˜åŒ– 1. â»“è¿æ¥ 2. å‡å°‘â½‚ä»¶ä½“ç§¯ 1. jsæ‰“åŒ…å‹ç¼© 2. å›¾â½šå‹ç¼© 3. gzip 3. å‡å°‘â½‚ä»¶è¯·æ±‚æ¬¡æ•° 1. é›ªç¢§å›¾ 2. jsï¼Œcssæ‰“åŒ… 3. ç¼“å­˜æ§åˆ¶ 4. æ‡’åŠ è½½ 4. å‡å°‘â½¤æˆ·å’ŒæœåŠ¡å™¨çš„è·ç¦» 1. cdn 5. æœ¬åœ°å­˜å‚¨ 6. httpä¼˜åŒ– å°†éªŒè¯æ”¾åœ¨headerä¸­ // é€šè¿‡â½¹ç»œè·å–å†…å®¹æ—¢é€Ÿåº¦ç¼“æ…¢â¼œå¼€é”€å·¨â¼¤ã€‚è¾ƒâ¼¤çš„å“åº”éœ€è¦åœ¨å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´è¿›â¾å¤šæ¬¡å¾€è¿”é€šä¿¡ï¼Œ // è¿™ä¼šå»¶è¿Ÿæµè§ˆå™¨è·å¾—å’Œå¤„ç†å†…å®¹çš„æ—¶é—´ï¼Œè¿˜ä¼šå¢åŠ è®¿é—®è€…çš„æµé‡è´¹â½¤ã€‚å› æ­¤ï¼Œç¼“å­˜å¹¶é‡å¤åˆ©â½¤ä¹‹å‰è·å– // çš„èµ„æºçš„èƒ½â¼’æˆä¸ºæ€§èƒ½ä¼˜åŒ–çš„â¼€ä¸ªå…³é”®â½…â¾¯ã€‚ 7ã€æµè§ˆå™¨ç¼“å­˜ 1. Http Cache 2. Service Worker Cache ç‹¬ç«‹äºä¸»çº¿ç¨‹ä¹‹å¤–çš„js,å®ç°ç¦»çº¿ç¼“å­˜å’Œç½‘ç»œä»£ç† window.navigator.serviceWorker.register('/xxx.js').then( function () { console.log('æ³¨å†ŒæˆåŠŸ') }).catch(err =&gt; { console.error(\"æ³¨å†Œå¤±è´¥\") }) 3. Memory Cache 4. Push Cache // headerä¸­è®¾ç½® å¼ºç¼“å­˜ expires: Wed, 11 Mar 2019 16:12:18 GMT cache-control: max-age=31536000 // 1.1 ç²¾å‡† ä¼˜å…ˆçº§â¾¼ // åå•†ç¼“å­˜ 304 not Modified 1ã€ç¬¬ä¸€ç§æ–¹å¼ If-Modified-Since: Fri, 27 Oct 2017 06:35:57 GMT 2ã€ç¬¬äºŒç§æ–¹å¼ ETag: W/\"2aaa-129892f459\" // ç±»ä¼¼æ–‡ä»¶çš„æŒ‡çº¹ If-None-Match: W/\"2aaa-129892f459\" æ–‡ä»¶æ‰“åŒ… webpackå›¾ç‰‡ä¼˜åŒ–// performance performance.getEntriesByType('navigation') // lighthouse npm install -g lighthouse lighthouse https://www.kaikeba.com/ --view // ä»¥ä¸Šä¸¤ä¸ªç”¨äºæ€§èƒ½ç›‘æ§ å›¾â½šé€šå¸¸æ˜¯æœ€å â½¤æµé‡çš„ï¼ŒPCç«¯åŠ è½½çš„å¹³å‡å›¾â½šâ¼¤â¼©æ—¶600K. ä¸åŒçš„åœºæ™¯ï¼Œä½¿â½¤ä¸åŒçš„â½‚ä»¶â¾¥ç±»å‹ 1. jpg 1. æœ‰æŸå‹ç¼© 2. ä½“ç§¯â¼© ä¸â½€æŒé€æ˜ 3. â½¤äºèƒŒæ™¯å›¾ï¼Œè½®æ’­å›¾ 2. png 1. â½†æŸå‹ç¼©ï¼Œè´¨é‡â¾¼ï¼Œâ½€æŒé€æ˜ 2. â¾Šå½©çº¿æ¡æ›´ä¸°å¯Œï¼Œâ¼©å›¾ï¼Œâ½å¦‚logoï¼Œå•†å“icon 3. svg 1. â½‚æœ¬ï¼Œä½“ç§¯â¼© â½®é‡å›¾ 2. æ¸²æŸ“æˆæœ¬ï¼Œå­¦ä¹ æˆæœ¬ gzip accept-encoding:gzip å¼€å¯gzipHTTP å‹ç¼©å°±æ˜¯ä»¥ç¼©â¼©ä½“ç§¯ä¸ºâ½¬çš„ï¼Œå¯¹ HTTP å†…å®¹è¿›â¾é‡æ–°ç¼–ç çš„è¿‡ç¨‹ Gzip å‹ç¼©èƒŒåçš„åŸç†ï¼Œæ˜¯åœ¨â¼€ä¸ªâ½‚æœ¬â½‚ä»¶ä¸­æ‰¾å‡ºâ¼€äº›é‡å¤å‡ºç°çš„å­—ç¬¦ä¸²ã€ä¸´æ—¶æ›¿æ¢å®ƒä»¬ï¼Œä»â½½ä½¿æ•´ä¸ªâ½‚ ä»¶å˜â¼©ã€‚æ ¹æ®è¿™ä¸ªåŸç†ï¼Œâ½‚ä»¶ä¸­ä»£ç çš„é‡å¤ç‡è¶Šâ¾¼ï¼Œé‚£ä¹ˆå‹ç¼©çš„æ•ˆç‡å°±è¶Šâ¾¼ï¼Œä½¿â½¤ Gzip çš„æ”¶ç›Šä¹Ÿå°±è¶Š â¼¤ã€‚ åŸºæœ¬ä¸Šæ¥è¯´ï¼ŒGzipéƒ½æ˜¯æœåŠ¡å™¨â¼²çš„æ´»ï¼Œâ½å¦‚nginx æœåŠ¡å™¨ç«¯æ¸²æŸ“ Reactçš„Nextjs Vueçš„NuxtjsReactçš„é•¿åˆ—è¡¨åŠ è½½ React-virtualizedimport { List } from \"react-virtualized\"; &lt;div className=\"list\"&gt; &lt;List width={rowWidth} height={listHeight} rowHeight={rowHeight} rowRenderer={this.renderRow.bind(this)} rowCount={this.list.length} /&gt; &lt;/div&gt; renderRow({ index, key, style }) { return ( &lt;div key={key} style={style} className=\"row\"&gt; &lt;div className=\"image\"&gt; &lt;img src={this.list[index].image} alt=\"\" /&gt; &lt;/div&gt; &lt;div className=\"content\"&gt; &lt;div&gt;{this.list[index].name}&lt;/div&gt; &lt;div&gt;{this.list[index].text}&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; ); } ç™½å±åº”å¯¹â»£æ¶ï¼Œâ¾ƒåŠ¨åŒ–â½…æ¡ˆï¼Œpage-skeleton-webpack-plugin, ä»¥åŠantdçš„skeletonç»„ä»¶ ç§»åŠ¨ç«¯ç‚¹å‡»äº‹ä»¶300sçš„å»¶è¿Ÿå’Œç‚¹å‡»ç©¿é€// ç§»åŠ¨ç«¯æµè§ˆå™¨ä¼šæœ‰ä¸€äº›é»˜è®¤çš„è¡Œä¸ºï¼Œæ¯”å¦‚åŒå‡»ç¼©æ”¾ã€åŒå‡»æ»šåŠ¨ã€‚è¿™äº›è¡Œä¸ºï¼Œå°¤å…¶æ˜¯åŒå‡»ç¼©æ”¾ï¼Œä¸»è¦æ˜¯ä¸ºæ¡Œé¢ç½‘ç«™åœ¨ç§»åŠ¨ç«¯çš„æµè§ˆä½“éªŒè®¾è®¡çš„ã€‚è€Œåœ¨ç”¨æˆ·å¯¹é¡µé¢è¿›è¡Œæ“ä½œçš„æ—¶å€™ï¼Œç§»åŠ¨ç«¯æµè§ˆå™¨ä¼šä¼˜å…ˆåˆ¤æ–­ç”¨æˆ·æ˜¯å¦è¦è§¦å‘é»˜è®¤çš„è¡Œä¸ºã€‚ 1ã€æ–¹æ¡ˆä¸€ï¼šç¦ç”¨ç¼©æ”¾ &lt;meta name=\"viewport\" content=\"user-scalable=no\"&gt; &lt;meta name=\"viewport\" content=\"initial-scale=1,maximum-scale=1\"&gt; 2ã€æ–¹æ¡ˆäºŒï¼šæ›´æ”¹é»˜è®¤çš„è§†å£å®½åº¦ &lt;meta name=\"viewport\" content=\"width=device-width\"&gt; æ–¹æ¡ˆä¸€ã€äºŒ Chromeæ”¯æŒ 3ã€CSS touch-action: none IEæ”¯æŒ ä¸»è¦è§£å†³æ–¹æ¡ˆ: // ä½¿ç”¨FastClickåº“ // FastClickçš„å®ç°åŸç†æ˜¯åœ¨æ£€æµ‹åˆ°touchendäº‹ä»¶çš„æ—¶å€™ï¼Œä¼šé€šè¿‡DOMè‡ªå®šä¹‰äº‹ä»¶ç«‹å³å‡ºå‘æ¨¡æ‹Ÿä¸€ä¸ªclickäº‹ä»¶ï¼Œå¹¶æŠŠæµè§ˆå™¨åœ¨300msä¹‹åçš„clickäº‹ä»¶é˜»æ­¢æ‰ã€‚ // ç‚¹å‡»ç©¿é€ è¯´å®Œç§»åŠ¨ç«¯ç‚¹å‡»300mså»¶è¿Ÿçš„é—®é¢˜ï¼Œè¿˜ä¸å¾—ä¸æä¸€ä¸‹ç§»åŠ¨ç«¯ç‚¹å‡»ç©¿é€çš„é—®é¢˜ã€‚å¯èƒ½æœ‰äººä¼šæƒ³ï¼Œæ—¢ç„¶clickç‚¹å‡»æœ‰300msçš„å»¶è¿Ÿï¼Œé‚£å¯¹äºè§¦æ‘¸å±ï¼Œæˆ‘ä»¬ç›´æ¥ç›‘å¬touchstartäº‹ä»¶ä¸å°±å¥½äº†å—ï¼Ÿ ä½¿ç”¨touchstartå»ä»£æ›¿clickäº‹ä»¶æœ‰ä¸¤ä¸ªä¸å¥½çš„åœ°æ–¹ã€‚ ç¬¬ä¸€ï¼štouchstartæ˜¯æ‰‹æŒ‡è§¦æ‘¸å±å¹•å°±è§¦å‘ï¼Œæœ‰æ—¶å€™ç”¨æˆ·åªæ˜¯æƒ³æ»‘åŠ¨å±å¹•ï¼Œå´è§¦å‘äº†touchstartäº‹ä»¶ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼› ç¬¬äºŒï¼šä½¿ç”¨touchstartäº‹ä»¶åœ¨æŸäº›åœºæ™¯ä¸‹å¯èƒ½ä¼šå‡ºç°ç‚¹å‡»ç©¿é€çš„ç°è±¡ã€‚ // ä»€ä¹ˆæ˜¯ç‚¹å‡»ç©¿é€ï¼Ÿ å‡å¦‚é¡µé¢ä¸Šæœ‰ä¸¤ä¸ªå…ƒç´ Aå’ŒBã€‚Bå…ƒç´ åœ¨Aå…ƒç´ ä¹‹ä¸Šã€‚æˆ‘ä»¬åœ¨Bå…ƒç´ çš„touchstartäº‹ä»¶ä¸Šæ³¨å†Œäº†ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œè¯¥å›è°ƒå‡½æ•°çš„ä½œç”¨æ˜¯éšè—Bå…ƒç´ ã€‚æˆ‘ä»¬å‘ç°ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»Bå…ƒç´ ï¼ŒBå…ƒç´ è¢«éšè—äº†ï¼Œéšåï¼ŒAå…ƒç´ è§¦å‘äº†clickäº‹ä»¶ã€‚ è¿™æ˜¯å› ä¸ºåœ¨ç§»åŠ¨ç«¯æµè§ˆå™¨ï¼Œäº‹ä»¶æ‰§è¡Œçš„é¡ºåºæ˜¯touchstart &gt; touchend &gt; clickã€‚è€Œclickäº‹ä»¶æœ‰300msçš„å»¶è¿Ÿï¼Œå½“touchstartäº‹ä»¶æŠŠBå…ƒç´ éšè—ä¹‹åï¼Œéš”äº†300msï¼Œæµè§ˆå™¨è§¦å‘äº†clickäº‹ä»¶ï¼Œä½†æ˜¯æ­¤æ—¶Bå…ƒç´ ä¸è§äº†ï¼Œæ‰€ä»¥è¯¥äº‹ä»¶è¢«æ´¾å‘åˆ°äº†Aå…ƒç´ èº«ä¸Šã€‚å¦‚æœAå…ƒç´ æ˜¯ä¸€ä¸ªé“¾æ¥ï¼Œé‚£æ­¤æ—¶é¡µé¢å°±ä¼šæ„å¤–åœ°è·³è½¬","categories":[],"tags":[{"name":"Web","slug":"Web","permalink":"https://promisefine.github.io/tags/Web/"}],"author":"Doney"},{"title":"Httpçš„ç¼“å­˜æœºåˆ¶","slug":"cache","date":"2019-10-20T00:20:18.000Z","updated":"2021-07-16T03:23:36.443Z","comments":true,"path":"posts/41476be7.html","link":"","permalink":"https://promisefine.github.io/posts/41476be7.html","excerpt":"","text":"Httpçš„ç¼“å­˜æœºåˆ¶function updatetime() { this.timer = this.timer || setInterval(() =&gt; this.time = Date.now(), 5000) return this.time } const http = require('http') http.createServer((req, res) =&gt; { const { url } = req if ('/' === url) { res.end(` &lt;html&gt; &lt;head&gt; &lt;meta charset=\"utf-8\" /&gt; &lt;/head&gt; æ›´æ–°æ—¶é—´ | ${updatetime()} &lt;script src=\"/main.js\"&gt;&lt;/script&gt; &lt;/html&gt; `) } else if (url === '/main.js') { const content = `document.write('&lt;br&gt;main | ${updatetime()}')` // å¼ºç¼“å­˜ expire // res.setHeader('Expires',new Date(Date.now()+10*1000).toGMTString()) // res.setHeader('Cache-Control','max-age=10') res.setHeader('Cache-Control', 'no-cache') // è®¾ç½®è¿‡æœŸæ—¶é—´ // res.setHeader('last-modified',new Date().toGMTString()) // if(new Date(req.headers['if-modified-since']).getTime() + 8*60*3600*1000 + 3 &gt; Date.now()){ // console.log(\"åå•†ç¼“å­˜å‘½ä¸­\"); // res.statusCode = 304 // res.end('') // return // } // å¦ä¸€ç§åå•†ç¼“å­˜ hash const crypto = require('crypto') const hash = crypto.createHash('sha1').update(content).digest('hex') console.log(hash, \"----\"); console.log(req.headers, \"+++++++\"); res.setHeader('Etag', hash) if (req.headers['if-none-match'] === hash) { console.log(\"åå•†ç¼“å­˜å‘½ä¸­\"); res.statusCode = 304 res.end('') return } res.statusCode = 200 res.end(content) } else if (url === '/favicon.ico') { res.end('') } }) .listen(3000, () =&gt; { console.log('æœåŠ¡å™¨è¿è¡Œåœ¨3000ç«¯å£'); }) å¼‚æ­¥è¯»å–æ–‡ä»¶const fs = require('fs') const {promisify} = require('util') const readFile = promisify(fs.readFile) process.nextTick(async () =&gt; { const data = await readFile('./index.html') // console.log(data.toString()); const buf = Buffer.alloc(10) console.log(data); }) æµ nodeåŸºäºæµconst fs = require('fs') const rs = fs.createReadStream('./index.html') const ws = fs.createWriteStream('./home.html') rs.pipe(ws) åˆ¶å®šauto-vue-routernpm i commander download-git-repo ora handlebars figlet clear chalk open -s // bin/yl.js #!/usr/bin/env node const program = require('commander') program.version(require('../package').version) program .command('init &lt;name&gt;') .description('init project') // .action(name =&gt; { // console.log('init ' + name) // }) .action(require('../lib/init')) program .command('refresh') .description('refresh routers...') .action(require('../lib/refresh')) program.parse(process.argv) // lib/init.js // å°†å¼‚æ­¥å˜æˆåŒæ­¥ const { promisify } = require('util') // è¾“å‡ºä¸€äº›ç‰¹æ®Šçš„æ–‡å­— ä¸ºå¼‚æ­¥æ–¹æ³• const figlet = promisify(require('figlet')) const clear = require('clear') // æ”¹å˜å‘½ä»¤è¡Œé£æ ¼ --- é¢œè‰²ç­‰ const chalk = require('chalk') const log = content =&gt; console.log(chalk.green(content)) // cloneå…‹éš† const {clone} = require('./download') // å®‰è£…ä¾èµ– const spawn = async (...args) =&gt; { // å¼€å¯å­è¿›ç¨‹ const { spawn } = require('child_process'); return new Promise(resolve =&gt; { const proc = spawn(...args) // è¾“å‡ºæµ å­è¿›ç¨‹å¯¼å…¥åˆ°ä¸»è¿›ç¨‹ proc.stdout.pipe(process.stdout) // é”™è¯¯æµ proc.stderr.pipe(process.stderr) proc.on('close', () =&gt; { resolve() }) }) } // æ‰“å¼€æµè§ˆå™¨ const open = require(\"open\") module.exports = async name =&gt; { console.log(name, \"|| name\"); // æ‰“å°æ¬¢è¿ç”»â¾¯ clear() const data = await figlet('yl Welcome') log(data); log('ğŸš€åˆ›å»ºé¡¹â½¬:' + name) // å…‹éš†é¡¹ç›® await clone('github:su37josephxia/vue-template', name) // å®‰è£…ä¾èµ– log('å®‰è£…ä¾èµ–'); // cnpm install ./test await spawn('cnpm', ['install'], { cwd: `./${name}` }) log(chalk.green(` To get Start: =========================== cd ${name} npm run serve =========================== `)) // æ‰“å¼€æµè§ˆå™¨ open(`http://localhost:8080`); await spawn('npm', ['run', 'serve'], { cwd: `./${name}` }) } // lib/download.js const { promisify } = require('util') module.exports.clone = async function (repo, desc) { const download = promisify(require('download-git-repo')) const ora = require('ora') const process = ora(`ä¸‹è½½.....${repo}`) process.start() await download(repo, desc) process.succeed() } // lib/refresh.js const fs = require('fs') const handlebars = require('handlebars') const chalk = require('chalk') module.exports = async () =&gt; { // è·å–â»šâ¾¯åˆ—è¡¨ const list = fs.readdirSync('./src/views') .filter(v =&gt; v !== 'Home.vue') .map(v =&gt; ({ name: v.replace('.vue', '').toLowerCase(), file: v })) // â½£æˆè·¯ç”±å®šä¹‰ compile({ list }, './src/router.js', './template/router.js.hbs') // â½£æˆèœå• compile({ list }, './src/App.vue', './template/App.vue.hbs') /** * ç¼–è¯‘æ¨¡æ¿â½‚ä»¶ * @param meta æ•°æ®å®šä¹‰ * @param filePath â½¬æ ‡â½‚ä»¶è·¯å¾„ * @param templatePath æ¨¡æ¿â½‚ä»¶è·¯å¾„ */ function compile(meta, filePath, templatePath) { if (fs.existsSync(templatePath)) { const content = fs.readFileSync(templatePath).toString(); const result = handlebars.compile(content)(meta); fs.writeFileSync(filePath, result); } console.log(chalk.green(`ğŸš€${filePath} åˆ›å»ºæˆåŠŸ`)) } } AOPï¼šAspect Oriented Programming é¢å‘åˆ‡é¢ç¼–ç¨‹æ—¥å¿—è®°å½•ï¼Œæ€§èƒ½ç»Ÿè®¡ï¼Œå®‰å…¨æ§åˆ¶ï¼Œäº‹åŠ¡å¤„ç†ï¼Œå¼‚å¸¸å¤„ç†ç­‰ç­‰ã€‚Koaconst Koa = require('koa') const app = new Koa() app.use(require('koa-static')(__dirname + '../public/')) const router = require('koa-router')() router.get('/string', async (ctx, next) =&gt; { ctx.body = 'koa2 string' }) router.get('/json', async (ctx, next) =&gt; { ctx.body = { title: 'koa2 json' } }) app.use(router.routes()) app.use(async (ctx, next) =&gt; { const start = new Date().getTime() console.log(`start: ${ctx.url}`); await next() const end = new Date().getTime() console.log(`${ctx.url} | è€—æ—¶: ${end - start}ms`); }) app.use((ctx) =&gt; { ctx.body = 'Hello Koa' }) app.listen(3000) ç»„åˆå‡½æ•° composeå‡½æ•°Koaä¸­é—´ä»¶æœºåˆ¶å°±æ˜¯å‡½æ•°å¼ ç»„åˆæ¦‚å¿µ Composeçš„æ¦‚å¿µï¼Œå°†â¼€ç»„éœ€è¦é¡ºåºæ‰§â¾çš„å‡½æ•°å¤åˆä¸ºâ¼€ä¸ªå‡½æ•°ï¼Œå¤–å±‚å‡½æ•°çš„å‚æ•°å®é™…æ˜¯å†…å±‚å‡½æ•°çš„è¿”å›å€¼ã€‚const add = (x, y) =&gt; x + y const square = z =&gt; z * z const fn = (x, y) =&gt; square(add(x, y)) console.log(fn(1, 2)) const compose = (fn1, fn2) =&gt; (...args) =&gt; fn2(fn1(...args)) const fn = compose(add,square) const compose = (...[first, ...other]) =&gt; (...args) =&gt; { let ret = first(...args) other.forEach(fn =&gt; { ret = fn(ret) }) return ret } const fn = compose(add, square) console.log(fn(1, 2)) function compose(middlewares) { return function () { return dispatch(0); // æ‰§â¾ç¬¬0ä¸ª function dispatch(i) { let fn = middlewares[i]; if (!fn) { return Promise.resolve(); } return Promise.resolve( fn(function next() { // promiseå®Œæˆåï¼Œå†æ‰§â¾ä¸‹â¼€ä¸ª return dispatch(i + 1); }) ); } }; } async function fn1(next) { console.log(\"fn1\"); await next(); console.log(\"end fn1\"); } async function fn2(next) { console.log(\"fn2\"); await delay(); await next(); console.log(\"end fn2\"); } function fn4(next) { console.log(\"fn4\"); next() } async function fn3(next) { console.log(\"fn3\"); await delay(); await next(); console.log(\"end fn3\"); } function delay() { return new Promise((reslove) =&gt; { setTimeout(() =&gt; { reslove(); }, 2000); }); } const middlewares = [fn1, fn2, fn4, fn3]; const finalFn = compose(middlewares); finalFn();","categories":[],"tags":[{"name":"Http","slug":"Http","permalink":"https://promisefine.github.io/tags/Http/"}],"author":"Doney"},{"title":"è®¾è®¡æ¨¡å¼","slug":"Design","date":"2019-10-08T06:22:10.000Z","updated":"2021-07-16T06:01:35.676Z","comments":true,"path":"posts/364ea8cc.html","link":"","permalink":"https://promisefine.github.io/posts/364ea8cc.html","excerpt":"","text":"è®¾è®¡æ¨¡å¼ï¼ˆDesign Patternï¼‰æ˜¯â¼€å¥—è¢«åå¤ä½¿â½¤ã€å¤šæ•°â¼ˆçŸ¥æ™“çš„ã€ç»è¿‡åˆ†ç±»çš„ã€ä»£ç è®¾è®¡ç»éªŒçš„æ€»ç»“ã€‚å‘å¸ƒè®¢é˜…æ¨¡å¼class Event { constructor() { this.callbacks = {} } $off(name) { this.callbacks[name] = null } $emit(name, args) { let cbs = this.callbacks[name] if (cbs) { cbs.forEach(c =&gt; { c.call(this, args) }) } } $on(name, fn) { (this.callbacks[name] || (this.callbacks[name] = [])).push(fn) } } let event = new Event() event.$on('event1', function (arg) { console.log('äº‹ä»¶1', arg) }) event.$on('event1', function (arg) { console.log('â¼œâ¼€ä¸ªæ—¶é—´1', arg) }) event.$on('event2', function (arg) { console.log('äº‹ä»¶2', arg) }) event.$emit('event1', { name: '2005A' }) event.$emit('event2', { name: '2006A' }) event.$off('event1') event.$emit('event1', { name: '2007A' }) å•ä¾‹æ¨¡å¼&lt;!DOCTYPE html&gt; &lt;html lang=\"en\"&gt; &lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt; &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt; &lt;title&gt;å•ä¾‹æ¨¡å¼&lt;/title&gt; &lt;style&gt; .model { border: 1px solid black; position: fixed; width: 300px; height: 300px; top: 20%; left: 50%; margin-left: -150px; text-align: center; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;å¼¹çª—ï¼Œâ½†è®ºç‚¹å‡»å¤šå°‘æ¬¡ï¼Œå¼¹çª—åªåº”è¯¥è¢«åˆ›å»ºâ¼€æ¬¡&lt;/h1&gt; &lt;div id=\"loginBtn\"&gt;ç‚¹æˆ‘&lt;/div&gt; &lt;script&gt; var getSingle = function (fn) { var result; return function () { return result || (result = fn.apply(this, arguments)); } }; var createLoginLayer = function () { var div = document.createElement('div'); div.innerHTML = 'æˆ‘æ˜¯ç™»å½•æµ®çª—'; div.className = 'model' div.style.display = 'none'; document.body.appendChild(div); return div; }; // å•ä¾‹æ¨¡å¼ å¯ä»¥å»æ‰ä¸€ä¸‹è¿™ä¸€è¡Œä»£ç è¯•è¯•é¡µé¢ç‚¹å‡»æƒ…å†µ var createSingleLoginLayer = getSingle(createLoginLayer); document.getElementById('loginBtn').onclick = function () { var loginLayer = createSingleLoginLayer(); loginLayer.style.display = 'block'; }; &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; ç­–ç•¥æ¨¡å¼â¼€ä¸ªåŸºäºç­–ç•¥æ¨¡å¼çš„ç¨‹åºâ¾„å°‘ç”±ä¸¤éƒ¨åˆ†ç»„æˆã€‚ // ç¬¬â¼€ä¸ªéƒ¨åˆ†æ˜¯â¼€ç»„ç­–ç•¥ç±»ï¼ˆå¯å˜ï¼‰ï¼Œç­–ç•¥ç±»å°è£…äº†å…·ä½“çš„ç®—æ³•ï¼Œå¹¶è´Ÿè´£å…·ä½“çš„è®¡ç®—è¿‡ç¨‹ã€‚ // ç¬¬â¼†ä¸ªéƒ¨åˆ†æ˜¯ç¯å¢ƒç±»Contextï¼ˆä¸å˜ï¼‰ï¼ŒContextæ¥å—å®¢æˆ·çš„è¯·æ±‚ï¼Œéšåå°†è¯·æ±‚å§”æ‰˜ç»™æŸâ¼€ä¸ªç­–ç•¥ç±»ã€‚ // ä¾‹å­ï¼š var calc = function (pm, salary) { if (pm === 'S') { return salary * 4; } if (pm === 'A') { return salary * 3; } if (pm === 'B') { return salary * 2; } }; calculateBonus('B', 20000); // è¾“å‡º:40000 calculateBonus('S', 6000); // è¾“å‡º:24000 // ä½¿ç”¨ç­–ç•¥æ¨¡å¼ var strategies = { \"S\": function (salary) { return salary * 4; }, \"A\": function (salary) { return salary * 3; }, \"B\": function (salary) { return salary * 2; } }; var calculateBonus = function (level, salary) { return strategies[level](salary); }; console.log(calculateBonus('S', 20000)); // è¾“å‡º:80000 console.log(calculateBonus('A', 10000)); // è¾“å‡º:30000 // è¡¨å•æ ¡éªŒ var registerForm = document.getElementById('registerForm'); registerForm.onsubmit = function () { if (registerForm.userName.value === '') { alert('â½¤æˆ·åä¸èƒ½ä¸ºç©º'); return false; } if (registerForm.password.value.length &lt; 6) { alert('å¯†ç â»“åº¦ä¸èƒ½å°‘äº 6 ä½'); return false; } if (!/(^1[3|5|8][0-9]{9}$)/.test(registerForm.phoneNumber.value)) { alert('â¼¿æœºå·ç æ ¼å¼ä¸æ­£ç¡®'); return false; } } // ä½¿ç”¨ç­–ç•¥æ¨¡å¼ var strategies = { isNonEmpty: function (value, errorMsg) { if (value === '') { return errorMsg; } }, minLength: function (value, length, errorMsg) { if (value.length &lt; length) { return errorMsg; } }, isMobile: function (value, errorMsg) { // â¼¿æœºå·ç æ ¼å¼ if (!/(^1[3|5|8][0-9]{9}$)/.test(value)) { return errorMsg; } } }; var Validator = function () { this.cache = []; // ä¿å­˜æ ¡éªŒè§„åˆ™ }; Validator.prototype.add = function (){ var ary = rule.split(':'); this.cache.push(function () { // var strategy = ary.shift(); ary.unshift(dom.value); ary.push(errorMsg); return strategies[strategy].apply(dom, ary); }); }; Validator.prototype.start = function () { for (var i = 0, validatorFunc; validatorFunc = this.cache[i++];) { var msg = validatorFunc(); // å¼€å§‹æ ¡éªŒï¼Œå¹¶å–å¾—æ ¡éªŒåçš„è¿”å›ä¿¡æ¯ if (msg) { // å¦‚æœæœ‰ç¡®åˆ‡çš„è¿”å›å€¼ï¼Œè¯´æ˜æ ¡éªŒæ²¡æœ‰é€šè¿‡ return msg; } } }; var validataFunc = function () { var validator = new Validator(); // åˆ›å»ºâ¼€ä¸ª validator å¯¹è±¡ /***************æ·»åŠ â¼€äº›æ ¡éªŒè§„åˆ™****************/ validator.add(registerForm.userName, 'isNonEmpty', 'â½¤æˆ·åä¸èƒ½ä¸ºç©º'); validator.add(registerForm.password, 'minLength:6', 'å¯†ç â»“åº¦ä¸èƒ½å°‘äº 6ä½'); validator.add(registerForm.phoneNumber, 'isMobile', 'â¼¿æœºå·ç æ ¼å¼ä¸æ­£ç¡®'); var errorMsg = validator.start(); // è·å¾—æ ¡éªŒç»“æœ return errorMsg; // è¿”å›æ ¡éªŒç»“æœ } var registerForm = document.getElementById('registerForm'); registerForm.onsubmit = function () { var errorMsg = validataFunc(); // å¦‚æœ errorMsg æœ‰ç¡®åˆ‡çš„è¿”å›å€¼ï¼Œè¯´æ˜æœªé€šè¿‡æ ¡éªŒ if (errorMsg) { alert(errorMsg); return false; // é˜»â½Œè¡¨å•æäº¤ } }; ä»£ç†æ¨¡å¼&lt;!DOCTYPE html&gt; &lt;html lang=\"en\"&gt; &lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt; &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt; &lt;title&gt;Document&lt;/title&gt; &lt;style&gt; .model { border: 1px solid black; position: fixed; width: 300px; height: 300px; top: 20%; left: 50%; margin-left: -150px; text-align: center; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;input type=\"checkbox\" id=\"1\"&gt; &lt;input type=\"checkbox\" id=\"2\"&gt; &lt;input type=\"checkbox\" id=\"3\"&gt; &lt;script&gt; var synchronousFile = function (id) { console.log('å¼€å§‹åŒæ­¥â½‚ä»¶ï¼Œid ä¸º: ' + id); }; var proxySynchronousFile = (function () { var cache = [], // ä¿å­˜â¼€æ®µæ—¶é—´å†…éœ€è¦åŒæ­¥çš„ ID timer; // å®šæ—¶å™¨ return function (id) { cache.push(id); if (timer) { // ä¿è¯ä¸ä¼šè¦†ç›–å·²ç»å¯åŠ¨çš„å®šæ—¶å™¨ return; } timer = setTimeout(function () { synchronousFile(cache.join(',')); clearTimeout(timer); // æ¸…ç©ºå®šæ—¶å™¨ timer = null; cache.length = 0; // æ¸…ç©º ID é›†åˆ }, 2000); } // 2 ç§’åå‘æœ¬ä½“å‘é€éœ€è¦åŒæ­¥çš„ ID é›†åˆ })(); var checkbox = document.getElementsByTagName('input'); for (var i = 0, c; c = checkbox[i++];) { c.onclick = function () { if (this.checked === true) { proxySynchronousFile(this.id); } } }; &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; å·¥å‚æ¨¡å¼è£…é¥°å™¨æ¨¡å¼äº«å…ƒæ¨¡å¼(ä¼˜åŒ–æ¨¡å¼ï¼Œå¸¸ç”¨åœ¨å°è£…å¼¹æ¡†ç»„ä»¶)export default { install(Vue) { // åœ¨ä½¿â½¤æ’ä»¶Vue.use(Message)æ—¶å®ä¾‹åŒ–â¼€ä¸ªDialogç»„ä»¶å¯¹è±¡ const Dialog = new Vue({ data() { return { icon: '', fontStyle: '', backgroundStyle: '', text: '' } } ... }) // æ‰©å±•Vueçš„`prototype` Vue.prototype.$Message = { success(text) { // æ”¹å˜Dialogçš„data.xxçš„å€¼è§¦å‘Dialogçš„æ›´æ–° Dialog.icon = successIcon Dialog.fontStyle = successFontStyle Dialog.backgroundStyle = successBackgroundStyle Dialog.text = text // è·å–Dialogçš„æœ€æ–°DOMæ·»åŠ åˆ°bodyæ ‡ç­¾ä¸­ document.body.appendChild(Dialog.$el) }, warning(text) { // åŒä¸Š ... document.body.appendChild(Dialog.$el) }, error(text) { // åŒä¸Š ... document.body.appendChild(Dialog.$el) } } } }","categories":[],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"https://promisefine.github.io/tags/Javascript/"}],"author":"Doney"},{"title":"Promiseå¹¶å‘","slug":"Concurrent","date":"2019-09-24T00:38:23.000Z","updated":"2021-07-16T03:23:42.984Z","comments":true,"path":"posts/9123c35c.html","link":"","permalink":"https://promisefine.github.io/posts/9123c35c.html","excerpt":"","text":"ä»£ç æ¼”ç¤ºvar urls = [ \"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting1.png\", \"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting2.png\", \"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting3.png\", \"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting4.png\", \"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting5.png\", \"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/bpmn6.png\", \"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/bpmn7.png\", \"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/bpmn8.png\", ]; function loadImg(url) { return new Promise((resolve, reject) =&gt; { const img = new Image(); img.onload = function() { console.log(\"ä¸€å¼ å›¾ç‰‡åŠ è½½å®Œæˆ\"); resolve(img); }; img.onerror = function() { reject(new Error('åœ°å€åŠ è½½å¤±è´¥:' + url)); }; img.src = url; }); }; function limitImageLoad(urls, handler, limit) { let sequence = [].concat(urls); // å¤åˆ¶urls // è¿™ä¸€æ­¥æ˜¯ä¸ºäº†åˆå§‹åŒ– promises è¿™ä¸ª\"å®¹å™¨\" let promises = sequence.splice(0, limit).map((url, index) =&gt; { return handler(url).then(() =&gt; { // è¿”å›ä¸‹æ ‡æ˜¯ä¸ºäº†çŸ¥é“æ•°ç»„ä¸­æ˜¯å“ªä¸€é¡¹æœ€å…ˆå®Œæˆ return index; }); }); // æ³¨æ„è¿™é‡Œè¦å°†æ•´ä¸ªå˜é‡è¿‡ç¨‹è¿”å›ï¼Œè¿™æ ·å¾—åˆ°çš„å°±æ˜¯ä¸€ä¸ªPromiseï¼Œå¯ä»¥åœ¨å¤–é¢é“¾å¼è°ƒç”¨ return sequence .reduce((pCollect, url) =&gt; { return pCollect .then(() =&gt; { return Promise.race(promises); // è¿”å›å·²ç»å®Œæˆçš„ä¸‹æ ‡ }) .then((fastestIndex) =&gt; { // è·å–åˆ°å·²ç»å®Œæˆçš„ä¸‹æ ‡ // å°†\"å®¹å™¨\"å†…å·²ç»å®Œæˆçš„é‚£ä¸€é¡¹æ›¿æ¢ promises[fastestIndex] = handler(url).then(() =&gt; { return fastestIndex; // è¦ç»§ç»­å°†è¿™ä¸ªä¸‹æ ‡è¿”å›ï¼Œä»¥ä¾¿ä¸‹ä¸€æ¬¡å˜é‡ }); }) .catch((err) =&gt; { console.error(err); }); }, Promise.resolve()) // åˆå§‹åŒ–ä¼ å…¥ .then(() =&gt; { // æœ€åä¸‰ä¸ªç”¨.allæ¥è°ƒç”¨ return Promise.all(promises); }); } // ä»£ç è°ƒç”¨ limitImageLoad(urls, loadImg, 3) .then((res) =&gt; { console.log(\"å›¾ç‰‡å…¨éƒ¨åŠ è½½å®Œæ¯•\"); console.log(res); }) .catch((err) =&gt; { console.error(err); });","categories":[],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"https://promisefine.github.io/tags/Javascript/"}],"author":"Doney"},{"title":"Promise","slug":"Promise","date":"2019-09-23T02:00:43.000Z","updated":"2021-07-16T03:24:03.339Z","comments":true,"path":"posts/23a0e66.html","link":"","permalink":"https://promisefine.github.io/posts/23a0e66.html","excerpt":"","text":"ä»£ç æ¼”ç¤ºclass myPromise { // å‡†å¤‡çŠ¶æ€ static PENDING = 'pending' // å®ŒæˆçŠ¶æ€ static FULFILLED = 'fulfilled' // å¤±è´¥çŠ¶æ€ static REJECTED = 'rejected' constructor(executor) { this.status = myPromise.PENDING this.value = null this.callbacks = [] try { executor(this.resolve.bind(this), this.reject.bind(this)) } catch (error) { this.reject(error) } } // ç±»æ–¹æ³• // æˆåŠŸ resolve(value) { // console.log(this) // æ”¹å˜promiseçš„çŠ¶æ€ è§£å†³çŠ¶æ€ if (this.status = myPromise.PENDING) { this.status = myPromise.FULFILLED this.value = value } // å˜ä¸ºå¼‚æ­¥ä»»åŠ¡ setTimeout(() =&gt; { this.callbacks.map(callback =&gt; { callback.onFulfilled(value) }) }); } // å¤±è´¥ reject(reason) { if (this.status = myPromise.PENDING) { this.status = myPromise.REJECTED this.value = reason } // å˜ä¸ºå¼‚æ­¥ä»»åŠ¡ setTimeout(() =&gt; { this.callbacks.map(callback =&gt; { callback.onRejected(reason) }) }); } // then then(onFulfilled, onRejected) { if (typeof onFulfilled != 'function') { onFulfilled = () =&gt; { } } if (typeof onRejected != 'function') { onRejected = () =&gt; { } } // å½“çŠ¶æ€ä¸ºå‡†å¤‡çŠ¶æ€ if (this.status == myPromise.PENDING) { this.callbacks.push({ onFulfilled: value =&gt; { try { onFulfilled(value) } catch (error) { onRejected(error) } }, onRejected: value =&gt; { try { onRejected(value) } catch (error) { onRejected(error) } } }) } // å½“çŠ¶æ€ä¸ºå®Œæˆçš„æ—¶å€™æ‰§è¡Œ if (this.status == myPromise.FULFILLED) { // æ”¾åˆ°é˜Ÿåˆ—ã€‚è½®è¯¢æ‰§è¡Œ setTimeout(() =&gt; { // å¤„ç†é”™è¯¯ try { onFulfilled(this.value) } catch (error) { onRejected(error) } }) } // å½“çŠ¶æ€ä¸ºå¤±è´¥çš„æ—¶å€™æ‰§è¡Œ if (this.status == myPromise.REJECTED) { // æ”¾åˆ°é˜Ÿåˆ—ã€‚è½®è¯¢æ‰§è¡Œ setTimeout(() =&gt; { // å¤„ç†é”™è¯¯ try { onRejected(this.value) } catch (error) { onRejected(error) } }) } } }","categories":[],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"https://promisefine.github.io/tags/Javascript/"}],"author":"Doney"},{"title":"debounce","slug":"debounce","date":"2019-09-21T02:24:47.000Z","updated":"2021-07-16T03:23:47.839Z","comments":true,"path":"posts/dbf34790.html","link":"","permalink":"https://promisefine.github.io/posts/dbf34790.html","excerpt":"","text":"ä»£ç æ¼”ç¤ºconst button = document.querySelector('button') function patMoney() { console.log('å·²å‰') } // åˆ›å»ºä¸€ä¸ªé˜²æŠ–å‡½æ•° function debounce(func, delay) { // é˜²æ­¢åœ¨å®šä¹‰ç›‘å¬å‡½æ•°çš„æ—¶å€™å°±ç›´æ¥æ‰§è¡Œäº†å‡½æ•° æ‰€ä»¥æˆ‘ä»¬ç”¨åˆ°é«˜é˜¶å‡½æ•° let timer // é—­åŒ… å› ä¸ºä½œç”¨åŸŸé“¾çš„å…³ç³» æ‰€æœ‰ç‹¬ç«‹çš„æ‰§è¡Œå‡½æ•°éƒ½èƒ½è®¿é—®åˆ°è¿™ä¸ªtimerå˜é‡ return function () { let context = this let args = arguments clearTimeout(timer) // è®¾ç½®setTimeout timer = setTimeout(function () { func.apply(context, args) }, delay) } } button.addEventListener('click', debounce(patMoney, 3000))","categories":[],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"https://promisefine.github.io/tags/Javascript/"}],"author":"Doney"},{"title":"throttle","slug":"throttle","date":"2019-09-20T03:45:23.000Z","updated":"2021-07-16T03:24:07.656Z","comments":true,"path":"posts/ebdc48ec.html","link":"","permalink":"https://promisefine.github.io/posts/ebdc48ec.html","excerpt":"","text":"ä»£ç æ¼”ç¤ºfunction coloring() { let r = Math.floor(Math.random() * 255) let g = Math.floor(Math.random() * 255) let b = Math.floor(Math.random() * 255) document.body.style.background = `rgb(${r},${g},${b})` } function throttle(func, delay) { let pre = 0 return function () { let now = new Date() let context = this let args = arguments if (now - pre &gt; delay) { func.apply(context, args) pre = now } } } window.addEventListener('resize', throttle(coloring, 2000))","categories":[],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"https://promisefine.github.io/tags/Javascript/"}],"author":"Doney"},{"title":"çƒ­è¡€å‘è¨€","slug":"introduce","date":"2019-09-18T02:13:01.000Z","updated":"2021-07-16T06:01:55.646Z","comments":true,"path":"posts/3714eea.html","link":"","permalink":"https://promisefine.github.io/posts/3714eea.html","excerpt":"","text":"çƒ­çˆ±äº’è”ç½‘çƒ­çˆ±å‰ç«¯çƒ­çˆ±æ•²ä»£ç ä¸€åŒ…çƒŸä¸€æ¯èŒ¶ä¸€ä¸ªBugæ”¹ä¸€å¤©æˆ‘ç§ƒäº†ä½†æˆ‘å˜å¼ºäº†ï¼","categories":[],"tags":[{"name":"introduce","slug":"introduce","permalink":"https://promisefine.github.io/tags/introduce/"}],"author":"Doney"}],"categories":[],"tags":[{"name":"Vite","slug":"Vite","permalink":"https://promisefine.github.io/tags/Vite/"},{"name":"Koa","slug":"Koa","permalink":"https://promisefine.github.io/tags/Koa/"},{"name":"Vue","slug":"Vue","permalink":"https://promisefine.github.io/tags/Vue/"},{"name":"Webpack","slug":"Webpack","permalink":"https://promisefine.github.io/tags/Webpack/"},{"name":"Linux","slug":"Linux","permalink":"https://promisefine.github.io/tags/Linux/"},{"name":"Javascript","slug":"Javascript","permalink":"https://promisefine.github.io/tags/Javascript/"},{"name":"Web","slug":"Web","permalink":"https://promisefine.github.io/tags/Web/"},{"name":"Http","slug":"Http","permalink":"https://promisefine.github.io/tags/Http/"},{"name":"introduce","slug":"introduce","permalink":"https://promisefine.github.io/tags/introduce/"}]}